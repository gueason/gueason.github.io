{"title":"Linux操作系统（搬运）","uid":"aa511ac4879771de2733384acfc7e52f","slug":"Linux操作系统","date":"2024-07-01T00:00:00.000Z","updated":"2024-09-19T12:01:56.240Z","comments":true,"path":"api/articles/Linux操作系统.json","keywords":null,"cover":[],"content":"<h1 id=\"一、简史\"><a href=\"#一、简史\" class=\"headerlink\" title=\"一、简史\"></a>一、简史</h1><p><strong>UNIX</strong></p>\n<p>1970年，美国贝尔实验室的 Ken Thompson，以 BCPL语言 为基础，设计出很简单且很接近硬件的 B语言（取BCPL的首字母），并且他用B语言写了第一个UNIX操作系统。<br>因为B语言的跨平台性较差，为了能够在其他的电脑上也能够运行这个非常棒的Unix操作系统，Dennis Ritchie和Ken Thompson 从B语言的基础上准备研究一个更好的语言<br>1972年，美国贝尔实验室的 Dennis Ritchie在B语言的基础上最终设计出了一种新的语言，他取了BCPL的第二个字母作为这种语言的名字，这就是C语言<br>1973年初，C语言的主体完成。Thompson和Ritchie迫不及待地开始用它完全重写了Unix操作系统</p>\n<p><strong>MINUX</strong></p>\n<p>因为AT&amp;T(通用电气)的政策改变，在Version 7 Unix推出之后，发布新的使用条款，将UNIX源代码私有化，在大学中不再能使用UNIX源代码。Andrew S. Tanenbaum(塔能鲍姆)教授为了能在课堂上教授学生操作系统运作的实务细节，决定在不使用任何AT&amp;T的源代码前提下，自行开发与UNIX兼容的操作系统，以避免版权上的争议。他以小型UNIX（mini-UNIX）之意，将它称为MINIX。</p>\n<p><strong>LINUX</strong></p>\n<p>Linus Torvalds利用GNU的bash当做开发环境，gcc当做编译工具，编写了Linux内核-v0.02，但是一开始Linux并不能兼容Unix，即Unix上跑的应用程序不能在Linux上跑，即应用程序与内核之间的接口不一致，因为Unix是遵循POSIX规范的，因此Torvalds修改了Linux，并遵循POSIX（Portable Operating System Interface，他规范了应用程序与内核的接口规范）； 一开始Linux只适用于386，后来经过全世界的网友的帮助，最终能够兼容多种硬件</p>\n<p>1991年的10月5日，林纳斯·托瓦兹在comp.os.minix新闻组上发布消息，正式向外宣布Linux内核的诞生（Freeminix-likekernel sources for 386-AT）。</p>\n<p>1993年，大约有100余名程序员参与了Linux内核代码编写/修改工作，其中核心组由5人组成，此时Linux 0.99的代码大约有十万行，用户大约有10万左右。</p>\n<p>1994年3月，Linux1.0发布，代码量17万行，当时是按照完全自由免费的协议发布，随后正式采用GPL协议。</p>\n<h1 id=\"二、简介\"><a href=\"#二、简介\" class=\"headerlink\" title=\"二、简介\"></a>二、简介</h1><h2 id=\"2-1Linux内核版本\"><a href=\"#2-1Linux内核版本\" class=\"headerlink\" title=\"2.1Linux内核版本\"></a>2.1Linux内核版本</h2><p>内核(kernel)是系统的心脏，是运行程序和管理像磁盘和打印机等硬件设备的核心程序，它提供了一个在裸设备与应用程序间的抽象层。</p>\n<p>Linux内核版本又分为稳定版和开发版，两种版本是相互关联，相互循环：</p>\n<p>稳定版：具有工业级强度，可以广泛地应用和部署。新的稳定版相对于较旧的只是修正一些bug或加入一些新的驱动程序。<br>开发版：由于要试验各种解决方案，所以变化很快。</p>\n<p>内核源码网址：<a href=\"http://www.kernel.org\">http://www.kernel.org</a> </p>\n<h2 id=\"2-2Linux发行版本\"><a href=\"#2-2Linux发行版本\" class=\"headerlink\" title=\"2.2Linux发行版本\"></a>2.2Linux发行版本</h2><p>GNU 是一个类 Unix 操作系统。它是由多个应用程序、系统库、开发工具乃至游戏构成的程序集合。GNU 的开发始于 1984 年 1 月，称为 GNU 工程。GNU 的许多程序在 GNU 工程下发布；我们称之为 <a href=\"https://www.gnu.org/software/\">GNU 软件包</a>。</p>\n<p>“GNU”这个名字是“GNU’s Not Unix”的递归首字母缩写词。<a href=\"https://www.gnu.org/pronunciation/pronunciation.html\">“GNU”的发音为<em>g’noo</em></a>，只有一个音节，发音很像“grew”，但需要把其中的<em>r</em>音替换为<em>n</em>音。</p>\n<p>类 Unix 操作系统中用于资源分配和硬件管理的程序称为 “内核”。GNU 所用的典型内核是 Linux。该组合叫做 <a href=\"https://www.gnu.org/gnu/linux-and-gnu.html\"><strong>GNU/Linux 操作系统</strong></a>。GNU/Linux 为几百万用户所使用，然而许多人 <a href=\"https://www.gnu.org/gnu/gnu-linux-faq.html\">错误地称之为 “Linux”</a>。</p>\n<p>GNU/Linux 发行版 通常包含了包括桌面环境、办公套件、媒体播放器、数据库等应用软件。</p>\n<p>一类是<strong>商业公司维护</strong>的发行版本    如RedHat（RHEL）<br>一类是<strong>社区组织维护</strong>的发行版本    如Debian</p>\n<p><strong>RedHat</strong></p>\n<p>Redhat（小红帽），应该称为Redhat系列，包括RHEL(Redhat Enterprise Linux，也就是所谓的Redhat Advance Server，收费版本)、Fedora Core(由原来的Redhat桌面版本发展而来，免费版本)、CentOS(RHEL的社区克隆版本，免费)。Redhat应该说是在国内使用人群最多 的Linux版本，甚至有人将Redhat等同于Linux，而有些老鸟更是只用这一个版本的Linux。所以这个版本的特点就是使用人群数量大，资料非 常多，言下之意就是如果你有什么不明白的地方，很容易找到人来问，而且网上的一般Linux教程都是以Redhat为例来讲解的。Redhat系列的包管 理方式采用的是基于RPM包的YUM包管理方式，包分发方式是编译好的二进制文件。稳定性方面RHEL和CentOS的稳定性非常好，适合于服务器使用， 但是Fedora Core的稳定性较差，最好只用于桌面应用。</p>\n<p><a href=\"https://www.redhat.com/zh\">红帽 | Red Hat 企业开源技术领导者</a></p>\n<p><strong>CentOS</strong></p>\n<p>CentOS是一款企业级Linux发行版,它使用红帽企业级Linux中的免费源代码重新构建而成。这款重构版完全去掉了注册商标以及Binary程序包方面一个非常细微的变化。有些人不想支付一大笔钱,又能领略红帽企业级Linux;对他们来说,CentOS值得一试。此外,CentOS的外观和行为似乎与母发行版红帽企业级Linux如出一辙。 CentOS使用YUM来管理软件包。</p>\n<p><a href=\"https://www.centos.org/\">The CentOS Project</a></p>\n<p><strong>Fedora</strong></p>\n<p>小巧的Fedora适合那些人:想尝试最先进的技术,等不及程序的稳定版出来。其实,Fedora就是红帽公司的一个测试平台;产品在成为企业级发行版之前,在该平台上进行开发和测试。Fedora是一款非常好的发行版,有庞大的用户论坛,软件库中还有为数不少的软件包。Fedora同样使用YUM来管理软件包。</p>\n<p><a href=\"https://fedoraproject.org/\">Fedora Linux | The Fedora Project</a></p>\n<p><strong>Debian</strong></p>\n<p>Debian运行起来极其稳定,这使得它非常适合用于服务器。Debian平时维护三套正式的软件库和一套非免费软件库,这给另外几款发行版(比如Ubuntu和Kali等)带来了灵感。Debian这款操作系统派生出了多个Linux发行版。它有37500多个软件包,这方面唯一胜过Debian的其他发行版只有Gentoo。Debian使用apt或aptitude来安装和更新软件。</p>\n<p><a href=\"https://www.debian.org/index.zh-cn.html\">Debian — 通用操作系统</a></p>\n<p><strong>Ubuntu</strong></p>\n<p>Ubuntu是Debian的一款衍生版,也是当今最受欢迎的免费操作系统。Ubuntu侧重于它在这个市场的应用,在服务器、云计算、甚至一些运行Ubuntu Linux的移动设备上很常见。作为Debian Gnu Linux的一款衍生版,Ubuntu的进程、外观和感觉大多数仍然与Debian一样。它使用apt软件管理工具来安装和更新软件。它也是如今市面上用起来最容易的发行版之一。Ubuntu使用基于apt的程序包管理器。</p>\n<p><a href=\"https://cn.ubuntu.com/download\">Ubuntu系统下载 | Ubuntu</a></p>\n<p><strong>Gentoo</strong></p>\n<p>与Debian一样,Gentoo这款操作系统也包含数量众多的软件包。Gentoo并非以预编译的形式出现,而是每次需要针对每个系统进行编译。连Gentoo社区都觉得Gentoo安装和使用起来很困难;不过它被认为是最佳学习对象,可以进而了解Linux操作系统的内部运作原理。提到Gentoo总有人这么说:”如果你要学用Linux发行版,那就学用该发行版吧;如果你学会了Gentoo,也就学会了Linux。”Gentoo使用portage来安装和更新软件。</p>\n<p><a href=\"http://www.gentoo.org/main/en/where.xml\">http://www.gentoo.org/main/en/where.xml</a></p>\n<p><strong>OpenSuse</strong></p>\n<p>OpenSuse这款Linux发行版是免费的,并不供商业用途使用,仍然供个人使用。OpenSuse的真正竞争对手是红帽企业级Linux。它使用Yast来管理软件包。有了Yast,使用和管理服务器应用程序就非常容易。此外,Yast安装向导程序可以配置电子邮件服务器、LDAP服务器、文件服务器或Web服务器,没有任何不必要的麻烦。它随带snapper快照管理工具,因而可以恢复或使用旧版的文件、更新和配置。由于让滚动发行版本成为可能的Tumbleweed,可将已安装的操作系统更新到最新版本,不需要任何的新发行版。</p>\n<p><a href=\"https://www.opensuse.org/\">openSUSE - Linux OS. 桌面用户、开发者以及系统管理员的匠之所选。</a></p>\n<p><strong>Kali Linux</strong></p>\n<p>Kali Linux是Debian的一款衍生版。Kali旨在用于渗透测试。它大概在三个月前才发行。Kali的前身是Backtrack。用于Debian的所有Binary软件包都可以安装到Kali Linux上,而Kali的魅力或威力就来自于此。此外,支持Debian的用户论坛为Kali加分不少。Kali随带许多的渗透测试工具,无论是Wifi、数据库还是其他任何工具,都设计成立马可以使用。Kali使用APT来管理软件包。</p>\n<p><a href=\"https://www.kali.org/\">Kali Linux | Penetration Testing and Ethical Hacking Linux Distribution</a></p>\n<p><strong>Arch Linux</strong></p>\n<p>Arch是一款采用滚动发行方式的操作系统:只要安装一次就够了;每当发行了某个新版本,就可以升级发行版,不需要重新安装。Pacman是Arch Linux的软件包管理器。Arch Linux既支持X86处理器架构,又支持X86_64架构,安装程序可以从光盘或U盘来运行。Arch旨在从开发者的角度而不是从用户的角度做到力求简单。Arch配置和安装起来超容易。</p>\n<p><a href=\"https://archlinux.org/\">Arch Linux</a></p>\n<hr>\n<h2 id=\"2-3Linux系统目录\"><a href=\"#2-3Linux系统目录\" class=\"headerlink\" title=\"2.3Linux系统目录\"></a>2.3Linux系统目录</h2><p><img src=\"../img/cee83d5e4c0ec6e1e6b1158c8ec56dba-17201868711717.png\" alt=\"img\"></p>\n<p>Linux是树型目录结构，只有一个根目录’/‘，其余各个目录都是基于这个根目录发散，就是树形结构。将某个分区挂到一个对应的目录上，例如/home对应一块分区,home目录就是这块分区的挂载点、/boot对应一块分区,boot目录就是这块分区的挂载点。可以形象的理解：一棵大树(根目录/)有很多树枝(目录，挂载点)，每个树枝上都挂着一个箱子(分区，存储空间)。</p>\n<p>Linux 中的每一个分区都是构成支持一组文件和目录所必需的贮存区的一部分。它是通过挂载(mounting)来实现的，挂载是将分区关联到某一目录的过程，在linux系统中，磁盘分区后，需要将其挂载到其它目录下，才可以进行访问。将设备文件中的顶级目录连接到 Linux 根目录下的某一目录（最好是空目录），访问此目录就等同于访问设备文件，如果不挂载，通过Linux系统中的图形界面系统可以查看找到硬件设备，但命令行方式无法找到。挂载分区使起始于这个指定目录(通称为挂载点，mount point)的贮存区能够被使用。</p>\n<p>总之，Linux 系统使用任何硬件设备，都必须将设备文件与已有目录文件进行挂载</p>\n<p>例如，如果分区 /dev/hda5 被 挂载在 /usr 上，这意味着所有在 /usr 之下的文件和目录在物理意义上位于 /dev/hda5 上。因此文件 /usr/share/doc/FAQ/txt/Linux-FAQ 被储存在 /dev/hda5上。</p>\n<p>/usr 之下的一个或多个目录还有可能是其它分区的挂载点。例如，某个分区(假设为，/dev/hda7)可以被挂载到 /usr/local 下，这意味着 /usr/local/man/whatis 将位于 /dev/hda7 上而不是 /dev/hda5 上。 </p>\n<p><strong>/：</strong>根目录，一般根目录下只存放目录，在Linux下有且只有一个根目录。所有的东西都是从这里开始。当你在终端里输入“/home”，你其实是在告诉电脑，先从/（根目录）开始，再进入到home目录。</p>\n<p><strong>/boot：</strong>放置linux系统启动时用到的一些文件，如Linux的内核文件：/boot/vmlinuz，系统引导管理器：/boot/grub。</p>\n<p><strong>/bin:</strong> Binary的缩写, 这个目录存放着可执行二进制文件的目录，如常用的命令ls、tar、mv、cat等。</p>\n<p><strong>/sbin:</strong> 放置系统管理员使用的可执行命令，如fdisk、shutdown、mount 等。与 /bin 不同的是，这几个目录是给系统管理员 root使用的命令，一般用户只能”查看”而不能设置和使用。</p>\n<p><strong>文件夹下的箭头是软链接（快捷方式）</strong></p>\n<p><strong>/dev：</strong>Device(设备)的缩写，存放linux系统下的设备文件，访问该目录下某个文件，相当于访问某个设备，常用的是挂载光驱 mount /dev/cdrom /mnt。</p>\n<p>/dev/console: 系统控制台，也就是直接和系统连接的监视器。</p>\n<p>/dev/sda:硬盘驱动程序接口。如：/dev/sda指的是第一个硬盘，sda1则是指/dev/sda的第一个分区。如系统中有其他的硬盘，则依次为/dev/sdb /dev/sdc</p>\n<p>/dev/fd: 软驱设备驱动程序。如： /dev/fd0指系统的第一个软盘，也就是通常所说的a：盘，/dev/fd1指第二个软盘.</p>\n<p>/dev/stscsi:磁带驱动器驱动程序。</p>\n<p>/dev/tty: 提供虚拟控制台支持。如:/dev/tty1指的是系统的第一个虚拟控制台， /dev/tty2则是系统的第二个虚拟控制台。</p>\n<p>/dev/pty: 提供远程登陆伪终端支持。在进行telnet登录时就要用到/dev/pty设备。</p>\n<p>/dev/ttys: 计算机串行接口，对于windows来说就是com1口。 9. /dev/cua 计算机串行接口，与调制解调器一起使用的设备。</p>\n<p>/dev/null: “黑洞”，所有写入该设备的信息都将消失。例如：当想要将屏幕上的输出信息隐藏起来时，只要将输出信息输出到/dev/null中即可。</p>\n<p><strong>/etc：</strong>系统配置文件存放的目录，不建议在此目录下存放可执行文件，重要的配置文件有 /etc/inittab、/etc/fstab、/etc/init.d、/etc/X11、/etc/sysconfig、/etc/xinetd.d。</p>\n<p>/etc/rc或/etc/rc.d：启动、或改变运行级时运行的脚本或脚本的目录。</p>\n<p>/etc/passwd:用户数据库，其中的域给出了用户名、用户描述、用户起始目录、加密口令和用户的其他信息。</p>\n<p>/etc/group: 类似/etc/passwd ，但说明的不是用户信息而是组的信息。包括组的各种数据。</p>\n<p>/etc/fdprm: 软盘参数表，用以说明不同的软盘格式。可用setfdprm 进行设置。更多的信息见setfdprm的帮助页。</p>\n<p>/etc/fstab:指定启动时需要自动安装的文件系统列表。也包括用swapon -a启用的swap区的信息。</p>\n<p>/etc/inittab: init 的配置文件。</p>\n<p>/etc/issue: 包括用户在登录提示符前的输出信息。通常包括系统的一段短说明或欢迎信息。具体内容由系统管理员确定。</p>\n<p>/etc/magic: file的配置文件。包含不同文件格式的说明，file基于它猜测文件类型。</p>\n<p>/etc/motdmotd:是message of the day的缩写，用户成功登录后自动输出。内容由系统管理员确定。常用于通告信息，如计划关机时间的警告等。</p>\n<p>/etc/mtab: 当前安装的文件系统列表。由脚本( s c r i t p )初始化，并由mount 命令自动更新。当需要一个当前安装的文件系统的列表时使用(例如df 命令)。</p>\n<p>/etc/shadow: 在安装了影子( shadow)口令软件的系统上的影子口令文件。影子口令文件将/etc/passwd文件中的加密口令移动到/etc/shadow中，而后者只对超级用户(root)可读。这使破译口令更困难，以此增加系统的安全性。</p>\n<p>/etc/login.defs: login命令的配置文件。</p>\n<p>/etc/printcap: 类似/etc/termcap ，但针对打印机。语法不同。</p>\n<p>/etc/profile 、/ etc/csh.login、/etc/csh.cshrc: 登录或启动时bourne或cshells执行的文件。这允许系统管理员为所有用户建立全局缺省环境。</p>\n<p>/etc/securetty: 确认安全终端，即哪个终端允许超级用户(root)登录。一般只列出虚拟控制台，这样就不可能(至少很困难)通过调制解调器(modem )或网络闯入系统并得到超级用户特权。</p>\n<p>/etc/shells: 列出可以使用的shell。chsh 命令允许用户在本文件指定范围内改变登录的shell。提供一台机器f t p服务的服务进程ftpd 检查用户shell是否列在/etc/shells 文件中，如果不是，将不允许该用户登录。</p>\n<p>/etc/termcap: 终端性能数据库。说明不同的终端用什么“转义序列”控制。写程序时不直接输出转义序列(这样只能工作于特定品牌的终端)，而是从/etc/termcap 中查找要做的工作的正确序列。这样，多数的程序可以在多数终端上运行。</p>\n<p><strong>/usr：</strong>可记为Unix Software Resource。应用程序存放目录，类似于windows下的program files目录。</p>\n<p>/usr/bin :存放应用程序。</p>\n<p>/usr/share: 存放共享数据。</p>\n<p>/usr/lib: 存放不能直接运行的，却是许多程序运行所必需的一些函数库文件。</p>\n<p>/usr/src：内核源代码默认的放置目录。</p>\n<p>/usr/local: 存放软件升级包。</p>\n<p>/usr/share/doc: 系统说明文件存放目录。</p>\n<p>/usr/share/man: 程序说明文件存放目录。</p>\n<p><strong>/var：</strong>放置系统执行过程中经常变化的文件</p>\n<p>/var/log/message：所有的登录文件存放目录。</p>\n<p>/var/spool/mail：邮件存放的目录。</p>\n<p>/var/run:程序或服务启动后，其PID存放在该目录下。</p>\n<p>/var 包括系统一般运行时要改变的数据.每个系统是特定的，即不通过网络与其他计算机共享。</p>\n<p>/var/catman: 当要求格式化时的man页的cache.man页的源文件一般存在/usr/man/man<em> 中；有些man页可能有预格式化的版本，存在/usr/man/cat</em> 中.而其他的man页在第一次看时需要格式化，格式化完的版本存在/var/man 中，这样其他人再看相同的页时就无须等待格式化了. (/var/catman 经常被清除，就象清除临时目录一样.)</p>\n<p>/var/lib: 系统正常运行时要改变的文件。</p>\n<p>/var/local:/usr/local 中安装的程序的可变数据(即系统管理员安装的程序).注意，如果必要，即使本地安装的程序也会使用其他/var 目录，例如/var/lock 。</p>\n<p>/var/lock: 锁定文件.许多程序遵循在/var/lock 中产生一个锁定文件的约定，以支持他们正在使用某个特定的设备或文件.其他程序注意到这个锁定文件，将不试图使用这个设备或文件。</p>\n<p>/var/log: 各种程序的Log文件，特别是login (/var/log/wtmp log所有到系统的登录和注销) 和syslog (/var/log/messages 里存储所有核心和系统程序信息. /var/log 里的文件经常不确定地增长，应该定期清除。</p>\n<p>/var/run: 保存到下次引导前有效的关于系统的信息文件.例如， /var/run/utmp 包含当前登录的用户的信息。</p>\n<p>/var/spool，/var/mail, /var/news 打印队列和其他队列工作的目录.每个不同的spool在/var/spool 下有自己的子目录，例如，用户的邮箱在/var/spool/mail 中。</p>\n<p><strong>/home：</strong>系统默认的用户家目录，新增用户账号时，用户的家目录都存放在此目录下，表示当前用户的家目录，edu 表示用户 edu 的家目录。</p>\n<p><strong>/lib:</strong> Library的缩写，系统使用的函数库（动态连接共享库）的目录，程序在执行过程中，需要调用一些额外的参数时需要函数库的协助。</p>\n<p><strong>/lost+found：</strong>系统异常产生错误时，会将一些遗失的片段放置于此目录下。</p>\n<p><strong>/media：</strong>linux系统自动识别设备，例如U盘、光驱并挂载到这个目录下。</p>\n<p><strong>/mnt:</strong>光盘默认挂载点，通常光盘挂载于 /mnt/cdrom 下，也不一定，可以选择任意位置进行挂载。</p>\n<p><strong>/opt：</strong>(optional)给主机额外安装软件所摆放的目录。</p>\n<p><strong>/proc：</strong>这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。此目录的数据都在内存中，如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间，比较重要的目录有 /proc/cpuinfo、/proc/interrupts、/proc/dma、/proc/ioports、/proc/net/* 等。</p>\n<p><strong>/root：</strong>系统管理员root的家目录。</p>\n<p><strong>/tmp：</strong>一般用户或正在执行的程序临时存放文件的目录，任何人都可以访问，重要数据不可放置在此目录下。</p>\n<p><strong>/srv：</strong>服务启动之后需要访问的数据目录，如 www 服务需要访问的网页数据存放在 /srv/www 内。</p>\n<p><strong>/run</strong>：是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run 目录，应该让它指向 run。</p>\n<p><strong>/sys：</strong> 这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。sysfs文件系统集成了下面3种文件系统的信息：针对进程信息的proc文件系统、针对设备的devfs文件系统以及针对伪终端的devpts文件系统。该文件系统是内核设备树的一个直观反映。当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。</p>\n<h2 id=\"2-4网络连接模式\"><a href=\"#2-4网络连接模式\" class=\"headerlink\" title=\"2.4网络连接模式\"></a>2.4网络连接模式</h2><p><img src=\"/img/image-20240822174320475.png\" alt=\"image-20240822174320475\" style=\"zoom:67%;\" /></p>\n<p>桥接方式</p>\n<p>桥接方式下，虚拟机和宿主机处于同一网段，真实存在于网络中，像是一台真实的主机。虚拟机和宿主机彼此互通，且网络中的其他主机也可以互通。就像是连接在hub中的主机一样。</p>\n<p><img src=\"../img/f3137ec7a1cf6158ad880869051757d1.png\" alt=\"桥接模式\"></p>\n<p>NAT方式</p>\n<p>NAT方式全称Network Address Translation，即借助网络地址转换功能，通过宿主机所在的网络实现访问互联网。此种方式下，虚拟机并不真实的存在于网络中，所以宿主机无法ping通虚拟机，虚拟机彼此间也不通。但是通过nat虚拟机可以访问互联网，且可以访问宿主机以及宿主机同网络中的其他主机。</p>\n<p>host-only方式</p>\n<p>host-only方式下，虚拟机和真实的网络是互相隔离的，不过所有的虚拟机彼此是可以互通的，可是访问不了互联网。宿主机可以访问虚拟机。</p>\n<h2 id=\"2-5运行级别\"><a href=\"#2-5运行级别\" class=\"headerlink\" title=\"2.5运行级别\"></a>2.5运行级别</h2><p><strong>1）CentOS6 的运行级别</strong></p>\n<p><img src=\"/img/image-20240826112358558.png\" alt=\"image-20240826112358558\" style=\"zoom:67%;\" /></p>\n<p><strong>2）CentOS7 的运行级别简化为:</strong> </p>\n<p>multi-user.target 等价于原运行级别 3</p>\n<p> graphical.target 等价于原运行级别 5</p>\n<p> <strong>3） 查看当前运行级别:</strong></p>\n<p> systemctl get-default</p>\n<p> <strong>4）修改当前运行级别</strong> </p>\n<p>systemctl set-default TARGET.target （这里 TARGET 取 multi-user 或者 graph</p>\n<h2 id=\"2-6网络管理手册与链接\"><a href=\"#2-6网络管理手册与链接\" class=\"headerlink\" title=\"2.6网络管理手册与链接\"></a>2.6网络管理手册与链接</h2><p><a href=\"https://docs.redhat.com/zh_hans/documentation/red_hat_enterprise_linux/8/html/configuring_and_managing_networking/index\">配置和管理网络 | Red Hat Product Documentation</a></p>\n<p><a href=\"https://docs.redhat.com/zh_hans/documentation/red_hat_enterprise_linux/7/html/networking_guide/part-managing_ip_networking\">部分 II. 管理 IP 网络 | Red Hat Product Documentation</a></p>\n<p><a href=\"https://www.cnblogs.com/xueyixue/p/12299690.html\">Centos8的网络管理 - 运维小菜鸟 - 博客园 (cnblogs.com)</a></p>\n<p><a href=\"https://andyx.net/configuring_static_ip_address_in_rhel8_centos8_system_with_nmcli_nmtui_ifcfg/\">使用nmcli/nmtui/ifcfg在RHEL8/CentOS8系统中配置静态IP地址 图文教程 - AndyX.Net - 安迪克斯</a></p>\n<h2 id=\"2-7NetworkManager网络管理服务\"><a href=\"#2-7NetworkManager网络管理服务\" class=\"headerlink\" title=\"2.7NetworkManager网络管理服务\"></a>2.7NetworkManager网络管理服务</h2><p><a href=\"https://docs.redhat.com/zh_hans/documentation/red_hat_enterprise_linux/7/html/networking_guide/getting_started_with_networkmanager#sec-Overview_of_NetworkManager\">第 2 章 NetworkManager 入门 | Red Hat Product Documentation</a></p>\n<p><a href=\"https://docs.redhat.com/zh_hans/documentation/red_hat_enterprise_linux/7/html/networking_guide/part-managing_ip_networking\">部分 II. 管理 IP 网络 | Red Hat Product Documentation</a></p>\n<h2 id=\"2-8防火墙管理\"><a href=\"#2-8防火墙管理\" class=\"headerlink\" title=\"2.8防火墙管理\"></a>2.8防火墙管理</h2><p>1:查看防火状态</p>\n<p>systemctl status firewalld</p>\n<p>2:暂时关闭防火墙</p>\n<p>systemctl stop firewalld</p>\n<p>3:永久关闭防火墙</p>\n<p>systemctl disable firewalld</p>\n<p>4:重启防火墙</p>\n<p>systemctl enable firewalld</p>\n<p><strong>firewalld</strong></p>\n<p>Centos7默认安装了firewalld，如果没有安装的话，可以使用 yum install firewalld firewalld-config进行安装。</p>\n<p>1.启动防火墙</p>\n<p>systemctl start firewalld<br>2.禁用防火墙</p>\n<p>systemctl stop firewalld<br>3.设置开机启动</p>\n<p>systemctl enable firewalld<br>4.停止并禁用开机启动</p>\n<p>sytemctl disable firewalld<br>5.重启防火墙</p>\n<p>firewall-cmd —reload<br>6.查看状态</p>\n<p>systemctl status firewalld或者 firewall-cmd —state<br>7.查看版本</p>\n<p>firewall-cmd —version<br>8.查看帮助</p>\n<p>firewall-cmd —help<br>9.查看区域信息</p>\n<p>firewall-cmd —get-active-zones<br>10.查看指定接口所属区域信息</p>\n<p>firewall-cmd —get-zone-of-interface=eth0<br>11.拒绝所有包</p>\n<p>firewall-cmd —panic-on<br>12.取消拒绝状态</p>\n<p>firewall-cmd —panic-off<br>13.查看是否拒绝</p>\n<p>firewall-cmd —query-panic<br>14.将接口添加到区域(默认接口都在public)</p>\n<p>firewall-cmd —zone=public —add-interface=eth0(永久生效再加上 —permanent 然后reload防火墙)<br>15.设置默认接口区域</p>\n<p>firewall-cmd —set-default-zone=public(立即生效，无需重启)<br>16.更新防火墙规则</p>\n<p>firewall-cmd —reload或firewall-cmd —complete-reload(两者的区别就是第一个无需断开连接，就是firewalld特性之一动态<br>添加规则，第二个需要断开连接，类似重启服务)<br>17.查看指定区域所有打开的端口</p>\n<p>firewall-cmd —zone=public —list-ports<br>18.在指定区域打开端口（记得重启防火墙）</p>\n<p>firewall-cmd —zone=public —add-port=80/tcp(永久生效再加上 —permanent)</p>\n<p>firewall-cmd —zone=public —add-port=80/tcp —permanent</p>\n<p>注：开启后需要重启防火墙才生效</p>\n<p>【重启命令】： firewall-cmd —reload</p>\n<p><strong>其他常用命令：</strong></p>\n<p>firewall-cmd —state ##查看防火墙状态，是否是running<br>firewall-cmd —reload ##重新载入配置，比如添加规则之后，需要执行此命令<br>firewall-cmd —get-zones ##列出支持的zone<br>firewall-cmd —get-services ##列出支持的服务，在列表中的服务是放行的<br>firewall-cmd —query-service ftp ##查看ftp服务是否支持，返回yes或者no<br>firewall-cmd —add-service=ftp ##临时开放ftp服务<br>firewall-cmd —add-service=ftp —permanent ##永久开放ftp服务<br>firewall-cmd —remove-service=ftp —permanent ##永久移除ftp服务<br>firewall-cmd —add-port=80/tcp —permanent ##永久添加80端口<br>firewall-cmd —remove-port=80/tcp —permanent ##永久移除80端口<br>firewall-cmd —zone=public —list-ports ##查看已开放的端口</p>\n<p>iptables -L -n ##查看规则，这个命令是和iptables的相同的<br>man firewall-cmd</p>\n<p>1、开放端口</p>\n<p>firewall-cmd —zone=public —add-port=5672/tcp —permanent # 开放5672端口</p>\n<p>firewall-cmd —zone=public —remove-port=5672/tcp —permanent #关闭5672端口</p>\n<p>firewall-cmd —reload # 配置立即生效</p>\n<p>2、查看防火墙所有开放的端口</p>\n<p>firewall-cmd —zone=public —list-ports</p>\n<p>3.、关闭防火墙</p>\n<p>如果要开放的端口太多，嫌麻烦，可以关闭防火墙，安全性自行评估</p>\n<p>systemctl stop firewalld.service</p>\n<p>4、查看防火墙状态</p>\n<p>firewall-cmd —state</p>\n<p>5、查看监听的端口</p>\n<p>netstat -lnpt</p>\n<p>PS:centos7默认没有 netstat 命令，需要安装 net-tools 工具，yum install -y net-tools</p>\n<p>6、检查端口被哪个进程占用</p>\n<p>netstat -lnpt |grep 5672</p>\n<p>7、查看进程的详细信息</p>\n<p>ps 6832</p>\n<p>8、中止进程</p>\n<p>kill -9 6832</p>\n<p>说明：<br>–zone 作用域<br>–add-port=8080/tcp 添加端口，格式为：端口/通讯协议<br>–permanent #永久生效，没有此参数重启后失效</p>\n<h2 id=\"2-9-RPM\"><a href=\"#2-9-RPM\" class=\"headerlink\" title=\"2.9 RPM\"></a>2.9 RPM</h2><p>RPM（RedHat Package Manager），RedHat软件包管理工具，类似windows里面的setup.exe 是Linux这系列操作系统里面的打包安装工具</p>\n<p>它会建立统一的数据库文件，详细记录软件包安装 、卸载等变化信息，能够自动分析软件包依赖关系</p>\n<p>它最大的特点就是将你要安装的软件先编译过，并且打包成为 RPM 机制的文件，通过打包好的软件里面默认的数据库，记录这个软件要安装的时候必须具备的依赖属性软件。当在你的 Linux 主机安装时，RPM 会先依照软件里面的数据查询Linux 主机的依赖属性软件是否满足，若满足则子以安装，若不满足则不子安装。那么安装的时候就将该软件的信息整个写入 RPM 的数据库中，以便未来的查询、验证与反安装。</p>\n<p><strong>RPM包的名称格式</strong> </p>\n<p>Apache-1.3.23-11.i386.rpm——</p>\n<ul>\n<li>“apache” 软件名称</li>\n<li>“1.3.23-11”软件的版本号，主版本和此版本</li>\n<li>“i386”是软件所运行的硬件平台，</li>\n<li>Intel32位处理器的统称 </li>\n<li>“rpm”文件扩展名，代表RPM包</li>\n</ul>\n<p><strong>查询命令</strong></p>\n<p>1）基本语法 </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rpm -qa 软件名称</span><br><span class=\"line\"></span><br><span class=\"line\">rpm -qi 软件名称</span><br></pre></td></tr></table></figure>\n<p>2）经验技巧 （功能描述：查询所安装的所有rpm软件包） 由于软件包比较多，一般都会采取过滤。</p>\n<p>rpm-qa|grep rpm软件包</p>\n<p><strong>卸载命令</strong></p>\n<p>1）基本语法 </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rpm -e RPM软件包 </span><br><span class=\"line\"></span><br><span class=\"line\">rpm -e --nodeps 软件包 </span><br></pre></td></tr></table></figure>\n<p><strong>安装命令</strong></p>\n<p>1）基本语法 </p>\n<p>rpm-ivh RPM包全名</p>\n<p>2）选项说明</p>\n<p><img src=\"../img/image-20240903114332850.png\" alt=\"image-20240903114332850\" style=\"zoom: 80%;\" /></p>\n<h2 id=\"2-10-YUM\"><a href=\"#2-10-YUM\" class=\"headerlink\" title=\"2.10 YUM\"></a>2.10 YUM</h2><p>YUM（全称为YellowdogUpdater, Modified）是一个在 Fedora和 RedHat以及 CentOS 中的Shell前端软件包管理器。基于RPM包管理，能够从指定的服务器自动下载RPM包 并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次 次下载、安装</p>\n<p>1）基本语法 </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum [选项][参数] </span><br></pre></td></tr></table></figure>\n<p>2）选项说明</p>\n<p>-y 同意</p>\n<p>3）参数说明</p>\n<p>显示：yum list installed</p>\n<p><img src=\"../img/image-20240903114919193.png\" alt=\"image-20240903114919193\"></p>\n<hr>\n<h1 id=\"三、Gnome下的快捷键\"><a href=\"#三、Gnome下的快捷键\" class=\"headerlink\" title=\"三、Gnome下的快捷键\"></a>三、Gnome下的快捷键</h1><p>Alt + F1：类似Windows下的Win键，在GNOME中打开”应用程序”菜单(Applications) （在KDE下同样适用。）</p>\n<p>Alt + F9：最小化窗口 Alt + F10：最大化窗口<br>Alt + space：打开窗口的控制菜单 (点击窗口左上角图标出现的菜单)<br>单击鼠标滚轮：当您选中一段文字后，按下鼠标滚轮键，可以将选中的文字复制到鼠标所指的位置，在中端中也有效。 （KDE中未测试。）<br>Atl+单击鼠标拖动：移动窗口的位置。 （在KDE和Compiz中同样有效。）</p>\n<p>Shift+Ctrl+N - 新建文件夹, 很有用</p>\n<p>Alt + Enter - 查看选择文件/文件夹的属性，代替单击右键选择属性</p>\n<p>Ctrl + 1/2 - 改变文件夹视图查看方式，图标视图/列表视图</p>\n<p>Ctrl + W - 关闭当前Nautilus窗口</p>\n<p>Ctrl + Shift + W - 关闭所有Nautilus窗口</p>\n<p>Ctrl+T - 在Nautilus中新建一个标签</p>\n<p>Alt + Up/Down Arrow - 移动到父文件夹/选择的文件夹</p>\n<p>Alt + Left/Right Arrow - 后退/前进</p>\n<p>Alt + Home -直接移动到主文件夹</p>\n<p>F9 - 开关显示Nautilus侧边栏</p>\n<p>Ctrl + H -开关显示隐藏文件夹</p>\n<hr>\n<h1 id=\"四、VIM编辑器\"><a href=\"#四、VIM编辑器\" class=\"headerlink\" title=\"四、VIM编辑器\"></a>四、VIM编辑器</h1><p><strong>vi概述</strong><br>vi（visual editor）编辑器通常被简称为vi，它是Linux和Unix系统上最基本的文本编辑器，类似于Windows 系统下的notepad（记事本）编辑器。</p>\n<p><strong>vim编辑器</strong><br>Vim(Vi improved)是vi编辑器的加强版，比vi更容易使用。vi的命令几乎全部都可以在vim上使用。</p>\n<h2 id=\"4-1-vim编辑器的四种模式\"><a href=\"#4-1-vim编辑器的四种模式\" class=\"headerlink\" title=\"4.1 vim编辑器的四种模式\"></a>4.1 vim编辑器的四种模式</h2><p><strong>命令模式</strong><br>使用VIM编辑器时，默认处于命令模式。在该模式下可以移动光标位置，可以通过快捷键对文件内容进行复制、粘贴、删除等操作。</p>\n<p><strong>编辑模式或输入模式</strong><br>在命令模式下输入小写字母a或小写字母i即可进入编辑模式，在该模式下可以对文件的内容进行编辑</p>\n<p><strong>末行模式</strong><br>在命令模式下输入冒号:即可进入末行模式，可以在末行输入命令来对文件进行查找、替换、保存、退出等操作</p>\n<p><strong>可视化模式</strong><br>可以做一些列选操作（通过方向键选择某些列的内容,类似于Windows鼠标刷黑）</p>\n<p><img src=\"../img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hzRm9yUHlw,size_16,color_FFFFFF,t_70#pic_center.png\" alt=\"Vim编辑器模式关系图\"></p>\n<p><strong>模式间切换方法</strong>：<br>（1）命令模式下，输入<code>:</code>后，进入末行模式<br>（2）末行模式下，按<code>esc</code>慢退、按两次<code>esc</code>快退、或者删除所有命令，可以回到命令模式<br>（3）命令模式下，按下<code>i</code>、<code>a</code>等键，可以计入编辑模式<br>（4）编辑模式下，按下<code>esc</code>，可以回到命令模式</p>\n<h2 id=\"4-2-VIM编辑器的使用\"><a href=\"#4-2-VIM编辑器的使用\" class=\"headerlink\" title=\"4.2 VIM编辑器的使用\"></a>4.2 VIM编辑器的使用</h2><p><img src=\"../img/微信图片_20240822150431.jpg\" alt=\"微信图片_20240822150431\"></p>\n<h3 id=\"使用vim打开文件\"><a href=\"#使用vim打开文件\" class=\"headerlink\" title=\"使用vim打开文件\"></a>使用vim打开文件</h3><p>基本语法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim  文件名称</span><br></pre></td></tr></table></figure>\n<p>① 如果文件已存在，则直接打开</p>\n<p>② 如果文件不存在，则vim编辑器会自动在内存中创建一个新文件</p>\n<p>案例：使用vim命令打开readme.txt文件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim readme.txt</span><br></pre></td></tr></table></figure>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><strong>Vi 使用的选项</strong></th>\n<th style=\"text-align:center\"><strong>说 明</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">vim filename</td>\n<td style=\"text-align:center\">打开或新建一个文件，并将光标置于第一行的首部</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">vim -r filename</td>\n<td style=\"text-align:center\">恢复上次 vim 打开时崩溃的文件</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">vim -R filename</td>\n<td style=\"text-align:center\">把指定的文件以只读方式放入 Vim 编辑器中</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">vim + filename</td>\n<td style=\"text-align:center\">打开文件，并将光标置于最后一行的首部</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">vi +n filename</td>\n<td style=\"text-align:center\">打开文件，并将光标置于第 n 行的首部</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">vi +/pattern filename</td>\n<td style=\"text-align:center\">打幵文件，并将光标置于第一个与 pattern 匹配的位置</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">vi -c command filename</td>\n<td style=\"text-align:center\">在对文件进行编辑前，先执行指定的命令</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h3 id=\"vim编辑器保存文件\"><a href=\"#vim编辑器保存文件\" class=\"headerlink\" title=\"vim编辑器保存文件\"></a>vim编辑器保存文件</h3><p>在任何模式下，连续按两次Esc键，即可返回到命令模式。然后按冒号:，进入到末行模式，输入wq，代表保存并退出。</p>\n<p><img src=\"../img/20210217161813558.png#pic_center\" alt=\"Vim 低行模式 wq 保存退出\"></p>\n<p>建议使用:x：使用效果等同于wq，如果文件有改动则先保存后退出；但是如果文件没有做修改，会直接退出，不会修改文件更新时间，避免用户混淆文件的修改时间</p>\n<p><img src=\"../img/image-20240708214935885.png\" alt=\"image-20240708214935885\"></p>\n<h3 id=\"vim编辑器强制退出（不保存）\"><a href=\"#vim编辑器强制退出（不保存）\" class=\"headerlink\" title=\"vim编辑器强制退出（不保存）\"></a>vim编辑器强制退出（不保存）</h3><p>在任何模式下，连续按两次Esc键，即可返回到命令模式。然后按冒号：，进入到末行模式，输入q!，代表强制退出但是不保存文件。</p>\n<p><img src=\"../img/20210217162129596.png#pic_center\" alt=\"Vim 低行模式 Q叹强制退出\"></p>\n<h3 id=\"命令模式下的相关操作\"><a href=\"#命令模式下的相关操作\" class=\"headerlink\" title=\"命令模式下的相关操作\"></a>命令模式下的相关操作</h3><p><strong>如何进入命令模式</strong></p>\n<p>在Linux操作系统中，当我们使用vim命令直接打开某个文件时，默认进入的就是命令模式。如果我们处于其他模式（编辑模式、可视化模式以及末行模式）可以连续按两次Esc键也可以返回命令模式</p>\n<h4 id=\"1-光标移动\"><a href=\"#1-光标移动\" class=\"headerlink\" title=\"1.光标移动\"></a>1.光标移动</h4><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">快捷键</th>\n<th style=\"text-align:center\"><strong>功能描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">jkhl</td>\n<td style=\"text-align:center\">基本上下左右</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">gg</td>\n<td style=\"text-align:center\">光标移动到文档首行</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">G</td>\n<td style=\"text-align:center\">光标移动到文档尾行</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">^或_</td>\n<td style=\"text-align:center\">光标移动到行首第一个非空字符</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">home键或0或者g0</td>\n<td style=\"text-align:center\">光标移动到行首第一个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">g_</td>\n<td style=\"text-align:center\">光标移动到行尾最后一个非空字符</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">end或者 g</td>\n<td style=\"text-align:center\">光标移动到行尾最后一个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">gm</td>\n<td style=\"text-align:center\">光标移动到当前行中间处</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">b/B</td>\n<td style=\"text-align:center\">光标向前移动一个单词（大写忽略/-等等特殊字符）</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">w/W</td>\n<td style=\"text-align:center\">光标向后移动一个单词（大写忽略/-等等特殊字符）</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">e/E</td>\n<td style=\"text-align:center\">移到单词结尾（大写忽略/-等等特殊字符）</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ctrl+b或pageUp键</td>\n<td style=\"text-align:center\">翻屏操作，向上翻</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ctrl+f或pageDn键</td>\n<td style=\"text-align:center\">翻屏操作，向下翻</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">行号+G</td>\n<td style=\"text-align:center\">快速将光标移动到指定行</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">`.</td>\n<td style=\"text-align:center\">移动到上次编辑处</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">数字+上下方向键</td>\n<td style=\"text-align:center\">以当前光标为准，向上/下移动n行</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">数字+左右方向键</td>\n<td style=\"text-align:center\">以当前光标为准，向左/右移动n个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">H</td>\n<td style=\"text-align:center\">移动到屏幕顶部</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">M</td>\n<td style=\"text-align:center\">移动到屏幕中间</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">L</td>\n<td style=\"text-align:center\">移动到屏幕尾部</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">z+Enter键</td>\n<td style=\"text-align:center\">当前行在屏幕顶部</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">z+ .</td>\n<td style=\"text-align:center\">当前行在屏幕中间</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">z+ -</td>\n<td style=\"text-align:center\">当前行在屏幕底部</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">shift+6</td>\n<td style=\"text-align:center\">光标移动到行首</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">shift+4</td>\n<td style=\"text-align:center\">光标移动到行尾</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-</td>\n<td style=\"text-align:center\">移动到上一行第一个非空字符</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">+</td>\n<td style=\"text-align:center\">移动到下一行第一个非空字符</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">)</td>\n<td style=\"text-align:center\">向前移动一个句子</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">(</td>\n<td style=\"text-align:center\">向后移动一个句子</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">}</td>\n<td style=\"text-align:center\">向前移动一个段落</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">{</td>\n<td style=\"text-align:center\">向前移动一个段落</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">count l</td>\n<td style=\"text-align:center\">移动到count 列</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">counth</td>\n<td style=\"text-align:center\">向左移动count 字符</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">countl</td>\n<td style=\"text-align:center\">向右移动count字符</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">countgo</td>\n<td style=\"text-align:center\">移动到count字符</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"2-选中内容\"><a href=\"#2-选中内容\" class=\"headerlink\" title=\"2.选中内容\"></a>2.选中内容</h4><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">快捷键</th>\n<th style=\"text-align:center\">功能描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">v</td>\n<td style=\"text-align:center\">进行字符选中</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">V 或shift+v</td>\n<td style=\"text-align:center\">进行行选中</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">gv</td>\n<td style=\"text-align:center\">选中上一次选择的内容</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">o</td>\n<td style=\"text-align:center\">光标移动到选中内容另一处结尾</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">O</td>\n<td style=\"text-align:center\">光标移动到选中内容另一处角落</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ctr + V</td>\n<td style=\"text-align:center\">进行块选中</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"3-复制（配合粘贴命令p使用）\"><a href=\"#3-复制（配合粘贴命令p使用）\" class=\"headerlink\" title=\"3.复制（配合粘贴命令p使用）\"></a>3.复制（配合粘贴命令p使用）</h4><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">快捷键</th>\n<th style=\"text-align:center\">功能描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">y</td>\n<td style=\"text-align:center\">复制已选中的文本到剪贴板</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">n+yy</td>\n<td style=\"text-align:center\">复制光标所在行，此命令前可以加数字 n，可复制多行</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">yw</td>\n<td style=\"text-align:center\">复制光标位置的单词</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ctrl+v + 方向键+yy</td>\n<td style=\"text-align:center\">ctrl+v，并按方向键选中区块，按下yy复制</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"4-剪切\"><a href=\"#4-剪切\" class=\"headerlink\" title=\"4.剪切\"></a>4.剪切</h4><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">快捷键</th>\n<th style=\"text-align:center\">功能描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">dd</td>\n<td style=\"text-align:center\">剪切<strong>光标所在行</strong></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">数字+dd</td>\n<td style=\"text-align:center\">以光标所在行为准（包含当前行），<strong>向下剪切指定行数</strong></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">D</td>\n<td style=\"text-align:center\">剪切光标所在行</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"5-粘贴\"><a href=\"#5-粘贴\" class=\"headerlink\" title=\"5.粘贴\"></a>5.粘贴</h4><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">快捷键</th>\n<th style=\"text-align:center\">功能描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">p</td>\n<td style=\"text-align:center\">将剪贴板中的内容<strong>粘贴到光标后</strong></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">P（大写）</td>\n<td style=\"text-align:center\">将剪贴板中的内容<strong>粘贴到光标前</strong></td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"6-删除\"><a href=\"#6-删除\" class=\"headerlink\" title=\"6.删除\"></a>6.删除</h4><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">快捷键</th>\n<th style=\"text-align:center\">功能描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">x</td>\n<td style=\"text-align:center\">删除<strong>光标所在位置</strong>的字符</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">X(大写)</td>\n<td style=\"text-align:center\">删除<strong>光标前</strong>一个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">dd</td>\n<td style=\"text-align:center\">删除<strong>光标所在行</strong>，删除之后，<strong>下一行上移</strong></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">D</td>\n<td style=\"text-align:center\">删除<strong>光标位置到行尾</strong>的内容，删除之后，<strong>下一行不上移</strong></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ndd</td>\n<td style=\"text-align:center\">删除当前行（包括此行）后 n 行文本</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">dw</td>\n<td style=\"text-align:center\">移动光标到单词的开头以删除该单词</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">dG</td>\n<td style=\"text-align:center\">删除光标所在行一直到文件末尾的所有内容</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">:a1,a2d</td>\n<td style=\"text-align:center\">删除从 a1 行到 a2 行的文本内容</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"7-撤销-恢复\"><a href=\"#7-撤销-恢复\" class=\"headerlink\" title=\"7.撤销/恢复\"></a>7.撤销/恢复</h4><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><strong>快捷键</strong></th>\n<th style=\"text-align:center\"><strong>功能描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">u</td>\n<td style=\"text-align:center\">撤销最近修改</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ctrl+r</td>\n<td style=\"text-align:center\">恢复</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">U(大写)</td>\n<td style=\"text-align:center\">撤销当前行所有编辑</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"8-字符转换\"><a href=\"#8-字符转换\" class=\"headerlink\" title=\"8.字符转换\"></a>8.字符转换</h4><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><strong>快捷键</strong></th>\n<th style=\"text-align:center\"><strong>功能描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">~</td>\n<td style=\"text-align:center\">转换大小写</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">u</td>\n<td style=\"text-align:center\">变成小写</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">U</td>\n<td style=\"text-align:center\">变成大写</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"9-编辑命令的快捷键\"><a href=\"#9-编辑命令的快捷键\" class=\"headerlink\" title=\"9.编辑命令的快捷键\"></a>9.编辑命令的快捷键</h4><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><strong>快捷键</strong></th>\n<th style=\"text-align:center\"><strong>功能描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">↑或ctr + p</td>\n<td style=\"text-align:center\">上一条命令</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">↓或ctr + n</td>\n<td style=\"text-align:center\">下一条命令</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ctr + b</td>\n<td style=\"text-align:center\">移动到命令行开头</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ctr + e</td>\n<td style=\"text-align:center\">移动到命令行结尾</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ctr + ←</td>\n<td style=\"text-align:center\">向左一个单词</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ctr + →</td>\n<td style=\"text-align:center\">向右一个单词</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h3 id=\"末行模式下的相关操作\"><a href=\"#末行模式下的相关操作\" class=\"headerlink\" title=\"末行模式下的相关操作\"></a>末行模式下的相关操作</h3><p>在命令模式下使用冒号：的方式进入</p>\n<h4 id=\"1-保存-退出文件操作\"><a href=\"#1-保存-退出文件操作\" class=\"headerlink\" title=\"1.保存/退出文件操作\"></a>1.保存/退出文件操作</h4><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><strong>命令</strong></th>\n<th style=\"text-align:center\"><strong>功能描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">:wq</td>\n<td style=\"text-align:center\">保存并退出 Vim 编辑器</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">:wq!</td>\n<td style=\"text-align:center\">保存并强制退出 Vim 编辑器</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">:q</td>\n<td style=\"text-align:center\">不保存就退出 Vim 编辑器</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">:q!</td>\n<td style=\"text-align:center\">不保存，且强制退出 Vim 编辑器</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">:w</td>\n<td style=\"text-align:center\">保存但是不退出 Vim 编辑器</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">:w!</td>\n<td style=\"text-align:center\">强制保存文本</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">:w filename</td>\n<td style=\"text-align:center\">另存到 filename 文件</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">x！</td>\n<td style=\"text-align:center\">保存文本，并退出 Vim 编辑器</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ZZ</td>\n<td style=\"text-align:center\">直接退出 Vim 编辑器</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"2-查找：“-关键词”\"><a href=\"#2-查找：“-关键词”\" class=\"headerlink\" title=\"2.查找：“/关键词”\"></a>2.查找：“/关键词”</h4><p>在查找结果中，用<code>N</code>、<code>n</code>可以切换上下结果；输入<code>nohl</code>，可以取消高亮</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><strong>快捷键</strong></th>\n<th style=\"text-align:center\"><strong>功能描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">/abc</td>\n<td style=\"text-align:center\">从光标所在位置<strong>向前查找</strong>字符串 abc</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">/^abc</td>\n<td style=\"text-align:center\">查找以 abc 为行首的行</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">/abc$</td>\n<td style=\"text-align:center\">查找以 abc 为行尾的行</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">?abc</td>\n<td style=\"text-align:center\">从光标所在位置<strong>向后查找</strong>字符串 abc</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">n或；</td>\n<td style=\"text-align:center\">向同一方向重复上次的查找指令</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">N或,</td>\n<td style=\"text-align:center\">向相反方向重复上次的查找指定</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"3-替换\"><a href=\"#3-替换\" class=\"headerlink\" title=\"3.替换\"></a>3.替换</h4><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">快捷键</th>\n<th style=\"text-align:center\"><strong>功能描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">r</td>\n<td style=\"text-align:center\">替换光标所在位置的字符</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">R</td>\n<td style=\"text-align:center\">从光标所在位置开始替换字符，其输入内容会覆盖掉后面等长的文本内容，按“Esc”可以结束</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">:s/a1/a2</td>\n<td style=\"text-align:center\">替换<strong>当前光标所在行第一处</strong>符合条件的内容</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">:s/a1/a2/g</td>\n<td style=\"text-align:center\">替换<strong>当前光标所在行</strong>所有的 a1 都用 a2 替换</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">:%s/a1/a2</td>\n<td style=\"text-align:center\">替换<strong>所有行</strong>中，<strong>第一处</strong>符合条件的内容</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">:%s/a1/a2/g</td>\n<td style=\"text-align:center\">替换<strong>所有行</strong>中，<strong>所有</strong>符合条件的内容</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">:n1,n2 s/a1/a2</td>\n<td style=\"text-align:center\">将文件中 <strong>n1 到 n2 行</strong>中<strong>第一处</strong> a1 都用 a2 替换</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">:n1,n2 s/a1/a2/g</td>\n<td style=\"text-align:center\">将文件中 <strong>n1 到 n2 行</strong>中<strong>所有</strong> a1 都用 a2 替换</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"4-行号显示：“-set-nu”\"><a href=\"#4-行号显示：“-set-nu”\" class=\"headerlink\" title=\"4.行号显示：“: set nu”;\"></a>4.行号显示：“: set nu”;</h4><ol>\n<li>行号显示<code>:set nu</code></li>\n<li>取消行号显示：<code>:set nonu</code></li>\n</ol>\n<h4 id=\"5-文件切换\"><a href=\"#5-文件切换\" class=\"headerlink\" title=\"5.文件切换\"></a>5.文件切换</h4><p>使用vim打开多个文件后，在末行模式下可以进行切换。</p>\n<p>查看当前已经打开的所有文件：:files(%a表示激活状态，#表示上一个打开的文件)<br>切换到指定文件：:open 文件名<br>切换到上一个文(back previous)：:bp<br>切换到下一个文件(back next)：:bn</p>\n<h4 id=\"6-编辑模式下的相关操作\"><a href=\"#6-编辑模式下的相关操作\" class=\"headerlink\" title=\"6.编辑模式下的相关操作\"></a>6.编辑模式下的相关操作</h4><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><strong>快捷键</strong></th>\n<th style=\"text-align:center\"><strong>功能描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">i</td>\n<td style=\"text-align:center\">在当前<strong>光标所在位置插入</strong>，光标后的文本相应向右移动</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">I</td>\n<td style=\"text-align:center\">在<strong>光标所在行的行首插入</strong>，行首是该行的第一个非空白字符，相当于光标移动到行首执行 i 命令</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">o</td>\n<td style=\"text-align:center\">在<strong>光标所在行的下插入</strong>新的一行。光标停在空行首，等待输入文本</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">O（大写）</td>\n<td style=\"text-align:center\">在<strong>光标所在行的上插入</strong>新的一行。光标停在空行的行首，等待输入文本</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">a</td>\n<td style=\"text-align:center\">在当前<strong>光标所在位置之后插入</strong></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">A</td>\n<td style=\"text-align:center\">在<strong>光标所在行的行尾插入</strong>，相当于光标移动到行尾再执行 a 命令</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">esc键</td>\n<td style=\"text-align:center\">退出编辑模式</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"7-扩展\"><a href=\"#7-扩展\" class=\"headerlink\" title=\"7.扩展\"></a>7.扩展</h4><p><strong>代码颜色显示</strong>：“：syntax on/off”</p>\n<p><strong>vim</strong>内置计算器：</p>\n<p>a.进入编辑模式<br>b.按“ctrl+r，光标变成引号，，输入=，光标转到最后一行<br>c.输入需要计算的内容，按下enter后，计算结果回替代上一步中的引号，光标恢复</p>\n<p><strong>vim</strong>的配置</p>\n<p>a.文件打开时，末行模式下输入的配置为临时配置，关闭文件后配置无效<br>b.修改个人配置文件，可以永久保存个人配置（~/.vimrc，如果没有可以自行创建）<br>c.修改全局配置文件，对每个用户生效（vim自带，/etc/vimrc）</p>\n<p>注：个人配置文件优先级更高，当个人配置和全局配置发生冲突时，系统以当前用户的个人配置文件为准</p>\n<p><strong>异常退出</strong></p>\n<p>在编辑文件后，未正常保存退出时，会产生异常退出交换文件（.原文件名.swp）<br>将交换文件删除后，再次打开文件时，无提示：“#rm -f .原文件名.swp”</p>\n<p><strong>别名机制</strong>：自定义指令</p>\n<p>Linux中，存在一个别名映射文件： ~/.bashrc<br>修改文件内容，可以自定义指令，重新登录账号后生效</p>\n<p><strong>文件快捷方式</strong></p>\n<p>对于深层文件，可以创建文件快捷方式，便于后续操作：#ln -s 源路径 新路径</p>\n<hr>\n<h1 id=\"五、Shell命令解释器快捷键\"><a href=\"#五、Shell命令解释器快捷键\" class=\"headerlink\" title=\"五、Shell命令解释器快捷键\"></a>五、Shell命令解释器快捷键</h1><h2 id=\"编辑命令\"><a href=\"#编辑命令\" class=\"headerlink\" title=\"编辑命令\"></a>编辑命令</h2><p>Ctrl + a ：移到命令行首<br>Ctrl + e ：移到命令行尾<br>Ctrl + f ：按字符前移（右向）<br>Ctrl + b ：按字符后移（左向）<br>Alt + f ：按单词前移（右向）<br>Alt + b ：按单词后移（左向）<br>Ctrl + xx：在命令行首和光标之间移动<br>Ctrl + u ：从光标处删除至命令行首<br>Ctrl + k ：从光标处删除至命令行尾<br>Ctrl + w ：从光标处删除至字首<br>Alt + d ：从光标处删除至字尾<br>Ctrl + d ：删除光标处的字符<br>Ctrl + h ：删除光标前的字符<br>Ctrl + y ：粘贴至光标后（主要针对CTRL+U或CTRL+W）<br>Alt + c ：从光标处更改为首字母大写的单词<br>Alt + u ：从光标处更改为全部大写的单词<br>Alt + l ：从光标处更改为全部小写的单词<br>Ctrl + t ：交换光标处和之前的字符<br>Alt + t ：交换光标处和之前的单词<br>Alt + Backspace：与 Ctrl + w 相同类似，分隔符有些差别</p>\n<h2 id=\"搜索命令\"><a href=\"#搜索命令\" class=\"headerlink\" title=\"搜索命令\"></a>搜索命令</h2><p>Ctrl + r：逆向搜索命令历史<br>Ctrl + g：从历史搜索模式退出<br>Ctrl + p：历史中的上一条命令<br>Ctrl + n：历史中的下一条命令<br>Alt + .：打印之前执行过的命令的最后一部分 以空格为分隔符</p>\n<h2 id=\"控制命令\"><a href=\"#控制命令\" class=\"headerlink\" title=\"控制命令\"></a>控制命令</h2><p>Ctrl + l：清屏<br>Ctrl + o：执行当前命令，并选择上一条命令<br>Ctrl + s：阻止屏幕输出<br>Ctrl + q：允许屏幕输出<br>Ctrl + c：终止命令<br>Ctrl + z：挂起命令<br>ESC + .：自动补全最近的命令<br>TAB：自动补全<br>Ctrl + m：换行<br>Ctrl + L：撤销操作</p>\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><p>!!                      – 执行上一条命令</p>\n<p>**!ifconfig     – 执行最近运行过的以ifconfig开头的命令</p>\n<p>!ifconfig:p      – 打印!ifconfig要执行的命令（并将其作为最后一条命令加入到命令历史中）</p>\n<p>!$                    – 上一条命令的最后一个单词 (等同于Alt + .)</p>\n<p>!:p                  – 打印!指代的单词</p>\n<p>!*                    – 上一条命令除最后一个词的部分</p>\n<hr>\n<h1 id=\"六、命令行基本操作\"><a href=\"#六、命令行基本操作\" class=\"headerlink\" title=\"六、命令行基本操作\"></a>六、命令行基本操作</h1><h2 id=\"6-1-Linux终端命令格式\"><a href=\"#6-1-Linux终端命令格式\" class=\"headerlink\" title=\"6.1 Linux终端命令格式\"></a>6.1 Linux终端命令格式</h2><h3 id=\"命令提示符\"><a href=\"#命令提示符\" class=\"headerlink\" title=\"命令提示符\"></a>命令提示符</h3><p>命令提示符解析：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[deng@localhost ~]$ </span><br></pre></td></tr></table></figure>\n<p>[]：这是提示符的分隔符号，没有特殊含义。</p>\n<p>deng：显示的是当前的登录用户</p>\n<p>@：分隔符号，没有特殊含义。</p>\n<p>localhost：当前系统的简写主机名（完整主机名是 localhost.localdomain）。</p>\n<p>~：代表用户当前所在的目录，此例中用户当前所在的目录是家目录。</p>\n<p>“#”：命令提示符，Linux 用这个符号标识登录的用户权限等级。如果是超级用户，提示符就是 #；如果是普通用户，提示符就是$。</p>\n<h3 id=\"用户家目录\"><a href=\"#用户家目录\" class=\"headerlink\" title=\"用户家目录\"></a>用户家目录</h3><p>Linux 系统是纯字符界面，用户登录后，要有一个初始登录的位置，这个初始登录位置就称为用户的家：主目录超级用户的家目录：/root。普通用户的家目录：/home/用户名。</p>\n<p>用户在自己的家目录中拥有完整权限，所以我们也建议操作实验可以放在家目录中进行。我们切换一下用户所在目录，看看有什么效果。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[deng@localhost ~]$ cd /usr/local/src</span><br><span class=\"line\">[deng@localhost src]$ </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>如果切换用户所在目录，那么命令提示符中的会变成用户当前所在目录的最后一个目录（不显示完整的所在目录 /usr/ local/src，只显示最后一个目录 src)。</p>\n<h3 id=\"命令的基本格式\"><a href=\"#命令的基本格式\" class=\"headerlink\" title=\"命令的基本格式\"></a>命令的基本格式</h3><p>格式：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">命令 [选项] [参数]</span><br><span class=\"line\">command [-options] [parameter]</span><br></pre></td></tr></table></figure>\n<p>命令： 可执行文件</p>\n<p>选项：用于调整命令的功能。命令不同，选项的个数和内容会有所不同；要实现的命令功能不同，选项的个数和内容也会有所不同。</p>\n<p>参数：是命令处理的对象，通常情况可以是文件名、目录、或用户名。</p>\n<p>温馨提示：命令格式中的 [] 代表可选项，也就是有些命令可以不写选项或参数，也能执行。</p>\n<h3 id=\"选项的作用\"><a href=\"#选项的作用\" class=\"headerlink\" title=\"选项的作用\"></a>选项的作用</h3><p>选项的作用就是调整命令的功能。</p>\n<p>ls 命令之后不加选项和参数也能执行，不过只能执行最基本的功能，即显示当前目录下的文件名。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[deng@localhost local]$ ls</span><br><span class=\"line\">bin  etc  games  include  lib  lib64  libexec  sbin  share  src  ssl</span><br><span class=\"line\">[deng@localhost local]$ </span><br></pre></td></tr></table></figure>\n<p>如果加一个”-l”选项，则可以看到显示的内容明显增多了。”-l”是长格式（long list）的意思，也就是显示文件的详细信息。至于 “-l” 选项的具体含义，我们稍后再详细讲解。可以看到选项的作用是调整命令功能。如果没有选项，那么命令只能执行最基本的功能；而一旦有选项，则可以显示更加丰富的数据。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[deng@localhost local]$ ls -l</span><br><span class=\"line\">总用量 0</span><br><span class=\"line\">drwxr-xr-x. 2 root root  92 7月   4 16:19 bin</span><br><span class=\"line\">drwxr-xr-x. 2 root root   6 4月  11 2018 etc</span><br><span class=\"line\">drwxr-xr-x. 2 root root   6 4月  11 2018 games</span><br><span class=\"line\">drwxr-xr-x. 3 root root  33 2月  21 11:36 include</span><br><span class=\"line\">drwxr-xr-x. 2 root root   6 4月  11 2018 lib</span><br><span class=\"line\">drwxr-xr-x. 4 root root 159 7月   4 16:19 lib64</span><br><span class=\"line\">drwxr-xr-x. 2 root root   6 4月  11 2018 libexec</span><br><span class=\"line\">drwxr-xr-x. 2 root root   6 4月  11 2018 sbin</span><br><span class=\"line\">drwxr-xr-x. 6 root root  60 11月 14 2018 share</span><br><span class=\"line\">drwxr-xr-x. 2 root root   6 4月  11 2018 src</span><br><span class=\"line\">drwxr-xr-x  5 root root 140 7月   4 16:19 ssl</span><br><span class=\"line\">[deng@localhost local]$ </span><br></pre></td></tr></table></figure>\n<p>Linux 的选项又分为短格式选项（-l）和长格式选项（–all）。</p>\n<p>短格式选项是英文的简写，前面有一个-号。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[deng@localhost local]$ ls -a</span><br><span class=\"line\">.  ..  bin  etc  games  include  lib  lib64  libexec  sbin  share  src  ssl</span><br><span class=\"line\">[deng@localhost local]$ </span><br></pre></td></tr></table></figure>\n<p>而长格式选项是英文完整单词，前面用两个-号</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[deng@localhost local]$ ls --all</span><br><span class=\"line\">.  ..  bin  etc  games  include  lib  lib64  libexec  sbin  share  src  ssl</span><br><span class=\"line\">[deng@localhost local]$ </span><br></pre></td></tr></table></figure>\n<p>一般情况下，短格式选项是长格式选项的缩写，也就是一个短格式选项会有对应的长格式选项。当然也有例外，比如 ls 命令的短格式选项 -l 就没有对应的长格式选项。所以具体的命令选项可以通过后面我们要学习的帮助命令来进行査询。</p>\n<h3 id=\"参数的作用\"><a href=\"#参数的作用\" class=\"headerlink\" title=\"参数的作用\"></a>参数的作用</h3><p>参数是命令的操作对象，一般文件、目录、用户和进程等可以作为参数被命令操作。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[itcast@localhost ~]$ ls -l /home/itcast/</span><br><span class=\"line\">总用量 0</span><br><span class=\"line\">drwxr-xr-x 2 itcast itcast 6 7月  12 17:34 公共</span><br><span class=\"line\">drwxr-xr-x 2 itcast itcast 6 7月  12 17:34 模板</span><br><span class=\"line\">drwxr-xr-x 2 itcast itcast 6 7月  12 17:34 视频</span><br><span class=\"line\">drwxr-xr-x 2 itcast itcast 6 7月  12 17:34 图片</span><br><span class=\"line\">drwxr-xr-x 2 itcast itcast 6 7月  12 17:34 文档</span><br><span class=\"line\">drwxr-xr-x 2 itcast itcast 6 7月  12 17:34 下载</span><br><span class=\"line\">drwxr-xr-x 2 itcast itcast 6 7月  12 17:34 音乐</span><br><span class=\"line\">drwxr-xr-x 2 itcast itcast 6 7月  12 17:34 桌面</span><br><span class=\"line\">[itcast@localhost ~]$ </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>命令一般都需要加入参数，用于指定命令操作的对象是谁。如果可以省略参数，则一般都有默认参数。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[itcast@localhost ~]$ ls</span><br><span class=\"line\">公共  模板  视频  图片  文档  下载  音乐  桌面</span><br><span class=\"line\">[itcast@localhost ~]$ </span><br></pre></td></tr></table></figure>\n<p>这个 ls 命令后面没有指定参数，默认参数是当前所在位置，所以会显示当前目录下的文件名。</p>\n<ol>\n<li>注意事项<br>命令、命令选项、命令参数之间用空格隔开。</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[itcast@localhost ~]$ ls -a </span><br><span class=\"line\">.              .bash_profile  .dbus          .local    视频  音乐</span><br><span class=\"line\">..             .bashrc        .esd_auth      .mozilla  图片  桌面</span><br><span class=\"line\">.bash_history  .cache         .ICEauthority  公共      文档</span><br><span class=\"line\">.bash_logout   .config        .kshrc         模板      下载</span><br><span class=\"line\">[itcast@localhost ~]$ </span><br></pre></td></tr></table></figure>\n<p>当有多个命令选项时，可以进行合并。例如，可以将 ls -a / 和 ls -l / 合并为</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[itcast@localhost ~]$ ls -l -a</span><br><span class=\"line\">总用量 28</span><br><span class=\"line\">drwx------  15 itcast itcast 319 7月  12 17:34 .</span><br><span class=\"line\">drwxr-xr-x.  5 root   root    46 7月  12 17:32 ..</span><br><span class=\"line\">-rw-------   1 itcast itcast  36 7月  12 17:36 .bash_history</span><br><span class=\"line\">-rw-r--r--   1 itcast itcast  18 4月  11 2018 .bash_logout</span><br><span class=\"line\">-rw-r--r--   1 itcast itcast 193 4月  11 2018 .bash_profile</span><br><span class=\"line\">-rw-r--r--   1 itcast itcast 231 4月  11 2018 .bashrc</span><br><span class=\"line\">drwxrwxr-x  13 itcast itcast 275 7月  12 17:36 .cache</span><br><span class=\"line\">drwxrwxr-x  14 itcast itcast 261 7月  12 17:36 .config</span><br><span class=\"line\">drwx------   3 itcast itcast  25 7月  12 17:34 .dbus</span><br><span class=\"line\">-rw-------   1 itcast itcast  16 7月  12 17:34 .esd_auth</span><br><span class=\"line\">-rw-------   1 itcast itcast 314 7月  12 17:34 .ICEauthority</span><br><span class=\"line\">-rw-r--r--   1 itcast itcast 172 4月  11 2018 .kshrc</span><br><span class=\"line\">drwx------   3 itcast itcast  19 7月  12 17:34 .local</span><br><span class=\"line\">drwxr-xr-x   4 itcast itcast  39 11月  8 2018 .mozilla</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 公共</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 模板</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 视频</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 图片</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 文档</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 下载</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 音乐</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 桌面</span><br><span class=\"line\">[itcast@localhost ~]$ ls -al</span><br><span class=\"line\">总用量 28</span><br><span class=\"line\">drwx------  15 itcast itcast 319 7月  12 17:34 .</span><br><span class=\"line\">drwxr-xr-x.  5 root   root    46 7月  12 17:32 ..</span><br><span class=\"line\">-rw-------   1 itcast itcast  36 7月  12 17:36 .bash_history</span><br><span class=\"line\">-rw-r--r--   1 itcast itcast  18 4月  11 2018 .bash_logout</span><br><span class=\"line\">-rw-r--r--   1 itcast itcast 193 4月  11 2018 .bash_profile</span><br><span class=\"line\">-rw-r--r--   1 itcast itcast 231 4月  11 2018 .bashrc</span><br><span class=\"line\">drwxrwxr-x  13 itcast itcast 275 7月  12 17:36 .cache</span><br><span class=\"line\">drwxrwxr-x  14 itcast itcast 261 7月  12 17:36 .config</span><br><span class=\"line\">drwx------   3 itcast itcast  25 7月  12 17:34 .dbus</span><br><span class=\"line\">-rw-------   1 itcast itcast  16 7月  12 17:34 .esd_auth</span><br><span class=\"line\">-rw-------   1 itcast itcast 314 7月  12 17:34 .ICEauthority</span><br><span class=\"line\">-rw-r--r--   1 itcast itcast 172 4月  11 2018 .kshrc</span><br><span class=\"line\">drwx------   3 itcast itcast  19 7月  12 17:34 .local</span><br><span class=\"line\">drwxr-xr-x   4 itcast itcast  39 11月  8 2018 .mozilla</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 公共</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 模板</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 视频</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 图片</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 文档</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 下载</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 音乐</span><br><span class=\"line\">drwxr-xr-x   2 itcast itcast   6 7月  12 17:34 桌面</span><br><span class=\"line\">[itcast@localhost ~]$ </span><br></pre></td></tr></table></figure>\n<h2 id=\"6-2-Linux文件类型\"><a href=\"#6-2-Linux文件类型\" class=\"headerlink\" title=\"6.2 Linux文件类型\"></a>6.2 Linux文件类型</h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>前缀</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-</td>\n<td>普通文件。如文本文件、二进制可执行文件、源代码等。</td>\n</tr>\n<tr>\n<td>b</td>\n<td>块设备文件。硬盘可以使用块设备文件。</td>\n</tr>\n<tr>\n<td>c</td>\n<td>字符设备文件。硬盘也可以使用字符设备文件。</td>\n</tr>\n<tr>\n<td>d</td>\n<td>目录文件。目录可以包含文件和其他目录。</td>\n</tr>\n<tr>\n<td>l</td>\n<td>符号链接（软链接）。可以链接任何普通文件，类似于 Windows 中的快捷方式。</td>\n</tr>\n<tr>\n<td>p</td>\n<td>具名管道。管道是进程间的一种通信机制。</td>\n</tr>\n<tr>\n<td>s</td>\n<td>用于进程间通信的套接字。</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>普通文件</strong></p>\n<p>我们用 ls -l 来查看某个文件的属性，可以看到有类似-rwxrwxrwx，值得注意的是第一个符号是 - ，这样的文件在Linux中就是普通文件。这些文件一般是用一些相关的应用程序创建，比如图像工具、文档工具、归档工具… … 或 cp工具等。这类文件的删除方式是用rm 命令。</p>\n<p>依照文件的内容，又大略可以分为：</p>\n<p><strong>纯文本档(ASCII)</strong></p>\n<p>Linux系统中最多的一种文件类型，称为纯文本档是因为内容为我们人类可以直接读到的数据，例如数字、字母等等。 几乎只要我们可以用来做为设定的文件都属于这一种文件类型。 举例来说，你可以用命令： cat ~/.bashrc 来看到该文件的内容。</p>\n<p> <strong>二进制文件(binary)</strong></p>\n<p>Linux系统其实仅认识且可以执行二进制文件(binary file)。Linux当中的可执行文件(scripts, 文字型批处理文件不算)就是这种格式的文件。常用的一些命令几乎都是二进制文件。</p>\n<p><strong>数据格式文件(data)</strong></p>\n<p>有些程序在运作的过程当中会读取某些特定格式的文件，那些特定格式的文件可以被称为数据文件 (data file)。举例来说，我们的Linux在使用者登录时，都会将登录的数据记录在 /var/log/wtmp那个文件内，该文件是一个数据文件，他能够通过last这个指令读出来。 但是使用cat时，会读出乱码，因为该文件是一种特殊格式的文件。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[deng@localhost ~]$ ls -l /etc/bashrc </span><br><span class=\"line\">-rw-r--r--. 1 root root 2853 4月  11 2018 /etc/bashrc</span><br><span class=\"line\">[deng@localhost ~]$ </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>目录文件</strong></p>\n<p>当我们查看文件的详细信息的时候，看到有类似 drwxr-xr-x ，这样的文件就是目录。目录在Linux是一个比较特殊的文件。注意它的第一个字符是d。创建目录的命令可以用 mkdir 命令，cp可以把一个目录复制为另一个目录。删除用rm 或rmdir命令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[deng@localhost ~]$ ls -ld /home</span><br><span class=\"line\">drwxr-xr-x. 5 root root 46 7月  12 17:32 /home</span><br><span class=\"line\">[deng@localhost ~]$ </span><br></pre></td></tr></table></figure>\n<p><strong>字符设备</strong></p>\n<p>字符设备是指在I/O传输过程中以字符为单位进行传输的设备，例如键盘，打印机等。在UNIX系统中，字符设备以特别文件方式在文件目录树中占据位置并拥有相应的结点。</p>\n<p>字符设备可以使用与普通文件相同的文件操作命令对字符设备文件进行操作，例如打开、关闭、读、写等。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[deng@localhost ~]$ ls -l /dev/input/mouse1</span><br><span class=\"line\">crw-rw---- 1 root input 13, 33 7月  12 09:45 /dev/input/mouse1</span><br><span class=\"line\">[deng@localhost ~]$</span><br></pre></td></tr></table></figure>\n<p>我们看到/dev/input/mouse1的属性是crw-rw—— ，注意前面第一个字符是 c ，这表示字符设备文件。</p>\n<p>字符设备文件可以使用mknode来创建，用rm来删除。目前在最新的Linux发行版本中，我们一般不用自己来创建设备文件。因为这些文件是和内核相关联的。</p>\n<p><strong>块设备</strong></p>\n<p>块设备将信息存储在固定大小的块中，每个块都有自己的地址。<a href=\"https://baike.baidu.com/item/数据块\">数据块</a>的大小通常在512字节到32768字节之间。块设备的基本特征是每个块都能独立于其它块而读写。磁盘是最常见的块设备。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[deng@localhost ~]$ ls -l /dev/sda1</span><br><span class=\"line\">brw-rw---- 1 root disk 8, 1 7月  12 09:45 /dev/sda1</span><br><span class=\"line\">[deng@localhost ~]$</span><br></pre></td></tr></table></figure>\n<p>/dev/sda1 的属性是 brw-rw—— ，注意前面的第一个字符是b，这表示块设备，比如硬盘，光驱等设备。</p>\n<p><strong>套接字</strong></p>\n<p>套接字（socket）是一个抽象层，应用程序可以通过它发送或接收数据，可对其进行像对文件一样的打开、读写和关闭等操作。套接字允许应用程序将I/O插入到网络中，并与网络中的其他应用程序进行通信。网络套接字是IP地址与端口的组合。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]*# ls -l /var/lib/mysql/mysql.sock* srwxrwxrwx 1 mysql mysql 0 7月  12 09:45 /var/lib/mysql/mysql.sock [root@localhost ~]*#* </span><br></pre></td></tr></table></figure>\n<p>注意这个文件的属性的第一个字符是 s。</p>\n<p><strong>符号链接</strong></p>\n<p>符号链接（软链接）是一类特殊的文件， 其包含有一条以绝对路径或者相对路径的形式指向其它文件或者目录的引用。今天POSIX操作系统标准、大多数类Unix系统、Windows Vista、Windows 7都支持符号链接。Windows 2000与Windows XP在某种程度上也支持符号链接。</p>\n<p>符号链接的操作是透明的：对符号链接文件进行读写的程序会表现得直接对目标文件进行操作。某些需要特别处理符号链接的程序（如备份程序）可能会识别并直接对其进行操作。</p>\n<p>一个符号链接文件仅包含有一个文本字符串，其被操作系统解释为一条指向另一个文件或者目录的路径。它是一个独立文件，其存在并不依赖于目标文件。如果删除一个符号链接，它指向的目标文件不受影响。如果目标文件被移动、重命名或者删除，任何指向它的符号链接仍然存在，但是它们将会指向一个不复存在的文件。这种情况被有时被称为被遗弃。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]# ls -l /bin/cc</span><br><span class=\"line\">lrwxrwxrwx. 1 root root 3 11月  8 2018 /bin/cc -&gt; gcc</span><br><span class=\"line\">[root@localhost ~]# </span><br></pre></td></tr></table></figure>\n<p>当我们查看文件属性时，会看到有类似 lrwxrwxrwx,注意第一个字符是l，这类文件是链接文件。Windows操作系统中的快捷方式有点相似。</p>\n<p><strong>管道文件</strong></p>\n<p>它是一种文件类型，在文件系统中可以看到。程序中可以查看文件stat结构中st_mode成员的值来判断文件是否是FIFO文件。创建一个FIFO文件类似于创建文件，FIFO文件就像普通文件一样。</p>\n<p>FIFO中可以很好地解决在无关进程间数据交换的要求，并且由于它们是存在于文件系统中的，这也提供了一种比匿名管道更持久稳定的通信办法。</p>\n<p>FIFO的通信方式类似于在进程中使用文件来传输数据，只不过FIFO类型文件同时具有管道的特性。在数据读出时，FIFO管道中同时清除数据。在shell中mkfifo命令可以建立有名管道，下面通过一个实例来帮助读者理解FIFO。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]# ls -l fifo </span><br><span class=\"line\">prw-r--r-- 1 root root 0 7月  12 19:30 fifo</span><br><span class=\"line\">[root@localhost ~]# </span><br></pre></td></tr></table></figure>\n<p>查看文件属性时，第一个字符是p，就表示是管道文件。</p>\n<p><strong>文件扩展名和文件名</strong></p>\n<p>实际上，Linux的文件是没有所谓的扩展名的，一个Linux文件能不能被执行，与他的第一栏的十个属性有关， 与扩展名根本一点关系也没有。这个观念跟Windows的情况不相同喔！在Windows底下， 能被执行的文件扩展名通常是 .com .exe .bat等等，而在Linux底下，只要你的权限当中具有x的话，例如[ -rwx-r-xr-x ] 即代表这个文件可以被执行。</p>\n<p>不过，可以被执行跟可以执行成功是不一样的～举例来说，在root家目录下的install.log 是一个纯文本档，如果经由修改权限成为 -rwxrwxrwx 后，这个文件能够真的执行成功吗？ 当然不行～因为他的内容根本就没有可以执行的数据。所以说，这个x代表这个文件具有可执行的能力， 但是能不能执行成功，当然就得要看该文件的内容.</p>\n<p>不过我们仍然希望可以使用扩展名来了解该文件是什么东西，所以，通常我们还是会以适当的扩展名来表示该文件是什么种类的。Linux平台有以下常用的扩展名：</p>\n<p>*.sh ： 脚本或批处理文件 (scripts)，因为批处理文件为使用shell写成的，所以扩展名就编成 .sh</p>\n<p><em>Z, </em>.tar, <em>.tar.gz, </em>.zip, *.tgz： 经过打包的压缩文件。这是因为压缩软件分别为 gunzip, tar 等等的，由于不同的压缩软件，而取其相关的扩展名！</p>\n<p><em>.html, </em>.php：网页相关文件，分别代表 HTML 语法与 PHP 语法的网页文件。 .html 的文件可使用网页浏览器来直接开启，至于 .php 的文件， 则可以透过 client 端的浏览器来 server 端浏览，以得到运算后的网页结果。</p>\n<p>基本上，Linux系统上的文件名真的只是让你了解该文件可能的用途而已，真正的执行与否仍然需要权限的规范才行。例如虽然有一个文件为可执行文件，如常见的/bin/ls这个显示文件属性的指令，不过，如果这个文件的权限被修改成无法执行时，那么ls就变成不能执行。</p>\n<h2 id=\"6-3-Linux帮助命令\"><a href=\"#6-3-Linux帮助命令\" class=\"headerlink\" title=\"6.3 Linux帮助命令\"></a>6.3 Linux帮助命令</h2><h3 id=\"man\"><a href=\"#man\" class=\"headerlink\" title=\"man\"></a>man</h3><p>查阅 command 命令的使用手册<br>man 是 manual 的缩写，是 Linux 提供的一个 手册，包含了绝大部分的命令、函数的详细使用<br>说明</p>\n<p><strong>使用 man 时的操作键</strong></p>\n<p><img src=\"../img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDg5NTY1MQ==,size_16,color_FFFFFF,t_70.png\" alt=\"Alt\"></p>\n<p><img src=\"../img/image-20240708222036402.png\" alt=\"image-20240708222036402\"></p>\n<p><strong>常用选项</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Usage: man [OPTION...] [章节] 手册页...</span><br><span class=\"line\">  -a, --all                  寻找所有匹配的手册页</span><br><span class=\"line\">  -d, --debug                输出调试信息</span><br><span class=\"line\">   -D, --default              将所有选项都重置为默认值</span><br><span class=\"line\">      --warnings[=警告]    开启 groff 的警告 </span><br><span class=\"line\">  -f, --whatis               等同于 whatis</span><br><span class=\"line\">  -h     显示man的语法和参数说明，执行完成后退出程序。</span><br><span class=\"line\">  -k, --apropos              等同于 apropos将搜索whatis数据库，模糊查找关键字  </span><br><span class=\"line\">  -S, -s, --sections=列表  使用以半角冒号分隔的章节列表</span><br><span class=\"line\">  -t, --troff                使用 groff 对手册页排版</span><br><span class=\"line\">  -w, --where, --path, --location</span><br><span class=\"line\">                             输出手册页的物理位置</span><br><span class=\"line\">  -W, --where-cat, --location-cat</span><br><span class=\"line\">                             输出 cat 文件的物理位置  </span><br><span class=\"line\">  -c, --catman               由 catman 使用，用来对过时的 cat</span><br><span class=\"line\">                             页重新排版   </span><br><span class=\"line\">  -C, --config-file=文件   使用该用户设置文件</span><br><span class=\"line\">  -K, --global-apropos       search for text in all pages</span><br><span class=\"line\">  -M, --manpath=路径       设置搜索手册页的路径为“路径”</span><br><span class=\"line\">  -?, --help                 give this help list</span><br><span class=\"line\">      --usage                give a short usage message</span><br><span class=\"line\">  -V, --version              print program version</span><br><span class=\"line\">  -R, --recode=编码        output source page encoded in ENCODING</span><br><span class=\"line\"> 寻找手册页：</span><br><span class=\"line\">  -L, --locale=区域</span><br><span class=\"line\">                             定义本次手册页搜索所采用的区域设置</span><br><span class=\"line\">  -m, --systems=系统       use manual pages from other systems</span><br><span class=\"line\">  -e, --extension=扩展</span><br><span class=\"line\">                             将搜索限制在扩展类型为“扩展”的手册页之内</span><br><span class=\"line\"></span><br><span class=\"line\">  -i, --ignore-case          查找手册页时不区分大小写字母</span><br><span class=\"line\">                             (默认)</span><br><span class=\"line\">  -I, --match-case           查找手册页时区分大小写字母。</span><br><span class=\"line\"></span><br><span class=\"line\">      --regex                show all pages matching regex</span><br><span class=\"line\">      --wildcard             show all pages matching wildcard</span><br><span class=\"line\"></span><br><span class=\"line\">      --names-only           make --regex and --wildcard match page names only,</span><br><span class=\"line\">                             not descriptions</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><img src=\"../img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kZW5namluLmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70.jpeg\" alt=\"在这里插入图片描述\"></p>\n<p><strong>相关描述</strong></p>\n<p>man命令帮助信息的结构以及意义</p>\n<p><img src=\"../img/image-20240708222645852.png\" alt=\"image-20240708222645852\"></p>\n<p> <strong>man对应的章节概述</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-S 区段清单</span><br><span class=\"line\">    该清单是一组用冒号分隔的欲查找的手册清单。此选项将覆盖      MANSECT     环境变量。</span><br><span class=\"line\">    有些指令或程序可能有一个以上的主题，它们位于不同的区段中。因此，要查看较后的区</span><br><span class=\"line\">    段，你可以在此指定 man 查找区段的顺序。具体区段划分如下所示：</span><br><span class=\"line\">    区段1：用户指令</span><br><span class=\"line\">    区段2：系统调用</span><br><span class=\"line\">    区段3：程序库调用</span><br><span class=\"line\">    区段4：设备</span><br><span class=\"line\">    区段5：文件格式</span><br><span class=\"line\">    区段6：游戏</span><br><span class=\"line\">    区段7：杂项</span><br><span class=\"line\">    区段8：系统指令</span><br><span class=\"line\">    区段9：内核内部指令</span><br><span class=\"line\">    区段n：Tcl或Tk指令</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"help\"><a href=\"#help\" class=\"headerlink\" title=\"help\"></a>help</h3><p>说明：</p>\n<p>显示 command 命令的帮助信息</p>\n<p>命令格式：help [参数] 内部命令</p>\n<p>查看外部命令的用法</p>\n<p>命令格式：命令 —help</p>\n<p><img src=\"../img/image-20240708224653615.png\" alt=\"image-20240708224653615\"></p>\n<h2 id=\"6-4-tab键自动补全\"><a href=\"#6-4-tab键自动补全\" class=\"headerlink\" title=\"6.4 tab键自动补全\"></a>6.4 tab键自动补全</h2><p>在敲出 文件 ／ 目录 ／ 命令 的前几个字母之后，按下 tab 键</p>\n<p>如果输入的没有歧义，系统会自动补全<br>如果还存在其他 文件 ／ 目录 ／ 命令 ，再按一下 tab 键，系统会提示可能存在的命令<br>小技巧<br>按 上 ／ 下 光标键可以在曾经使用过的命令之间来回切换<br>如果想要退出选择，并且不想执行当前选中的命令，可以按 ctrl + c</p>\n<h2 id=\"6-5-find查找文件\"><a href=\"#6-5-find查找文件\" class=\"headerlink\" title=\"6.5 find查找文件\"></a>6.5 find查找文件</h2><p><img src=\"../img/image-20240708230304033.png\" alt=\"image-20240708230304033\"></p>\n<ul>\n<li>1.搜索桌面目录下，文件名包含 1 的文件</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find -name <span class=\"string\">&quot;*1*&quot;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>2.搜索桌面目录下，所有以 .txt 为扩展名的文件</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find -name <span class=\"string\">&quot;*.txt&quot;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>3.搜索桌面目录下，以数字 1 开头的文件</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find -name <span class=\"string\">&quot;1*&quot;</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"../img/image-20240829120616814.png\" alt=\"image-20240829120616814\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">命令参数：</span><br><span class=\"line\">    pathname: find命令所查找的目录路径。例如用.来表示当前目录，用/来表示系统根目录。 </span><br><span class=\"line\">    -print： find命令将匹配的文件输出到标准输出。 </span><br><span class=\"line\">    -exec： find命令对匹配的文件执行该参数所给出的shell命令。相应命令的形式为&#x27;command&#x27; &#123;  &#125; \\;，注意&#123;   &#125;和\\；之间的空格。 </span><br><span class=\"line\">    -ok： 和-exec的作用相同，只不过以一种更为安全的模式来执行该参数所给出的shell命令，在执行每一个命令之前，都会给出提示，让用户来确定是否执行。</span><br><span class=\"line\"></span><br><span class=\"line\">命令选项：</span><br><span class=\"line\">    -name   按照文件名查找文件。</span><br><span class=\"line\">    -perm   按照文件权限来查找文件。</span><br><span class=\"line\">    -prune  使用这一选项可以使find命令不在当前指定的目录中查找，如果同时使用-depth选项，那么-prune将被find命令忽略。</span><br><span class=\"line\">    -user   按照文件属主来查找文件。</span><br><span class=\"line\">    -group  按照文件所属的组来查找文件。</span><br><span class=\"line\">    -mtime -n +n  按照文件的更改时间来查找文件， - n表示文件更改时间距现在n天以内，+ n表示文件更改时间距现在n天以前。find命令还有-atime和-ctime 选项，但它们都和-m time选项。</span><br><span class=\"line\">    -nogroup  查找无有效所属组的文件，即该文件所属的组在/etc/groups中不存在。</span><br><span class=\"line\">    -nouser   查找无有效属主的文件，即该文件的属主在/etc/passwd中不存在。</span><br><span class=\"line\">    -newer file1 ! file2  查找更改时间比文件file1新但比文件file2旧的文件。</span><br><span class=\"line\">    -type  查找某一类型的文件，诸如：</span><br><span class=\"line\">        b - 块设备文件。</span><br><span class=\"line\">        d - 目录。</span><br><span class=\"line\">        c - 字符设备文件。</span><br><span class=\"line\">        p - 管道文件。</span><br><span class=\"line\">        l - 符号链接文件。</span><br><span class=\"line\">        f - 普通文件。</span><br><span class=\"line\"></span><br><span class=\"line\">    -size n：[c] 查找文件长度为n块的文件，带有c时表示文件长度以字节计。-depth：在查找文件时，首先查找当前目录中的文件，然后再在其子目录中查找。</span><br><span class=\"line\">    -fstype：查找位于某一类型文件系统中的文件，这些文件系统类型通常可以在配置文件/etc/fstab中找到，该配置文件中包含了本系统中有关文件系统的信息。</span><br><span class=\"line\">    -mount：在查找文件时不跨越文件系统mount点。</span><br><span class=\"line\">    -follow：如果find命令遇到符号链接文件，就跟踪至链接所指向的文件。</span><br><span class=\"line\">    -cpio：对匹配的文件使用cpio命令，将这些文件备份到磁带设备中。</span><br><span class=\"line\"></span><br><span class=\"line\">    另外,下面三个的区别:</span><br><span class=\"line\">    -amin n   查找系统中最后N分钟访问的文件</span><br><span class=\"line\">    -atime n  查找系统中最后n*24小时访问的文件</span><br><span class=\"line\">    -cmin n   查找系统中最后N分钟被改变文件状态的文件</span><br><span class=\"line\">    -ctime n  查找系统中最后n*24小时被改变文件状态的文件</span><br><span class=\"line\">    -mmin n   查找系统中最后N分钟被改变文件数据的文件</span><br><span class=\"line\">    -mtime n  查找系统中最后n*24小时被改变文件数据的文件</span><br></pre></td></tr></table></figure>\n<h2 id=\"6-6-history游览历史\"><a href=\"#6-6-history游览历史\" class=\"headerlink\" title=\"6.6 history游览历史\"></a>6.6 history游览历史</h2><p>history内建命令用于显示用户以前执行过的历史命令，并且能对历史命令进行追加和删除等操作。</p>\n<p>该命令单独使用时，仅显示历史命令，在命令行中，可以使用符号!执行指定序号的历史命令。例如，要执行第2个历史命令，则输入!2。</p>\n<p>历史命令是被保存在内存中的，当退出或者登录shell时，会自动保存或读取。在内存中，历史命令仅能够存储1000条历史命令，该数量是由环境变量HISTSIZE进行控制。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式: history [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">history N\t\t显示最近N条命令</span><br><span class=\"line\">history -c\t\t清除所有的历史记录</span><br><span class=\"line\">history -w  xxx.txt\t保存历史记录到文本xxx.txt</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a\t将当前shell会话的历史命令追加到命令历史文件中,命令历史文件是保存历史命令的配置文件</span><br><span class=\"line\">-c\t清空当前历史命令列表</span><br><span class=\"line\">-d\t删除历史命令列表中指定序号的命令</span><br><span class=\"line\">-n\t从命令历史文件中读取本次Shell会话开始时没有读取的历史命令</span><br><span class=\"line\">-r\t读取命令历史文件到当前的Shell历史命令内存缓冲区</span><br><span class=\"line\">-s\t将指定的命令作为单独的条目加入命令历史内存缓冲区。</span><br><span class=\"line\">\t在执行添加之前先删除命令历史内存缓冲区中最后一条命令</span><br><span class=\"line\">-w\t把当前的shell历史命令内存缓冲区的内容写入命令历史文件</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"七、系统管理命令\"><a href=\"#七、系统管理命令\" class=\"headerlink\" title=\"七、系统管理命令\"></a>七、系统管理命令</h1><h3 id=\"1-shutdown\"><a href=\"#1-shutdown\" class=\"headerlink\" title=\"1.shutdown\"></a><strong>1.</strong>shutdown</h3><p><strong>shutdown命令</strong>用来系统关机命令。shutdown指令可以关闭所有程序，并依用户的需要，进行重新开机或关机的动作。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：shutdown [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-c\t当执行“shutdown -h 11:50”指令时，只要按+键就可以中断关机的指令</span><br><span class=\"line\">-f\t重新启动时不执行fsck</span><br><span class=\"line\">-F\t重新启动时执行fsck</span><br><span class=\"line\">-h\t将系统关机</span><br><span class=\"line\">-k\t只是送出信息给所有用户，但不会实际关机</span><br><span class=\"line\">-n\t不调用init程序进行关机，而由shutdown自己进行</span><br><span class=\"line\">-r\tshutdown之后重新启动</span><br><span class=\"line\">-t\t送出警告信息和删除信息之间要延迟多少秒</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-poweroff\"><a href=\"#2-poweroff\" class=\"headerlink\" title=\"2.poweroff\"></a>2.poweroff</h3><p><strong>poweroff命令</strong>用来关闭计算机操作系统并且切断系统电源。如果确认系统中已经没有用户存在且所有数据都已保存，需要立即关闭系统，可以使用poweroff命令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：poweroff [选项]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-n\t关闭操作系统时不执行sync操作</span><br><span class=\"line\">-w\t不真正关闭操作系统，仅在日志文件“/var/log/wtmp”中</span><br><span class=\"line\">-d\t关闭操作系统时，不将操作写入日志文件“/var/log/wtmp”中添加相应的记录</span><br><span class=\"line\">-f\t强制关闭操作系统</span><br><span class=\"line\">-i\t关闭操作系统之前关闭所有的网络接口</span><br><span class=\"line\">-h\t关闭操作系统之前将系统中所有的硬件设置为备用模式</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-halt\"><a href=\"#3-halt\" class=\"headerlink\" title=\"3.halt\"></a>3.halt</h3><p><strong>halt命令</strong>用来关闭正在运行的<a href=\"https://so.csdn.net/so/search?q=Linux操作系统&amp;spm=1001.2101.3001.7020\">Linux操作系统</a>，如果是线上跑了业务的服务器，执行此命令需谨慎。</p>\n<p>halt命令会先检测系统的runlevel，若runlevel为0或6，则关闭系统，否则即调用shutdown来关闭系统。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：halt [选项]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-n\t在关机或重启之前不对系统缓存进行同步。</span><br><span class=\"line\">-w\t不真正重启或关机，而仅仅将关机信息写入wtmp（在/var/log/wtmp文件里）。</span><br><span class=\"line\">-d\t不记录此次关机情况。当使用 -n 参数时隐含 -d。</span><br><span class=\"line\">-f\t强制执行 halt 或 reboot 而不去调用 shutdown(8)。</span><br><span class=\"line\">-i\t在关闭或重启系统之前关闭所有网络界面。</span><br><span class=\"line\">-p\t当关闭系统时执行关闭电源操作。当以poweroff方式调用halt时，此为缺省参数。</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-reboot\"><a href=\"#4-reboot\" class=\"headerlink\" title=\"4.reboot\"></a>4.reboot</h3><p><strong>reboot命令</strong>用于用来重新启动计算机。但是机器重启必须要root用户才有权限。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式： reboot [选项]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-n\t重开机之前不检查是否有未结束的程序</span><br><span class=\"line\">-w \t并不会真的重开机，只是把记录写到 /var/log/wtmp 档案里</span><br><span class=\"line\">-d\t不把记录写到 /var/log/wtmp 档案里（-n 这个参数包含了 -d）</span><br><span class=\"line\">-f\t强迫重开机，不呼叫 shutdown 这个指令</span><br><span class=\"line\">-i\t在重开机之前先把所有网络相关的装置先停止</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"八、磁盘管理命令\"><a href=\"#八、磁盘管理命令\" class=\"headerlink\" title=\"八、磁盘管理命令\"></a>八、磁盘管理命令</h1><h3 id=\"1-lsblk\"><a href=\"#1-lsblk\" class=\"headerlink\" title=\"1.lsblk\"></a>1.lsblk</h3><p>查看磁盘大小</p>\n<p>命令：lsblk</p>\n<p>命令：lsblk -a</p>\n<p>功能：查看挂载磁盘信息，磁盘名称、大小、挂载目录等。</p>\n<p><img src=\"../img/image-20240830110013499.png\" alt=\"image-20240830110013499\" style=\"zoom:67%;\" /></p>\n<ul>\n<li>IDE磁盘的文件名为：/dev/hdxx</li>\n<li>SCSI/SATA/USB磁盘文件名为：/dev/sdxx</li>\n</ul>\n<p>VDA管理虚拟磁盘，SDA管理实体硬盘，而SDB是SDA的扩展，管理的是第二个物理磁盘设备。此外，虚拟磁盘是虚拟机中的设备，而物理磁盘则是实体服务器中的设备。</p>\n<h3 id=\"2-du\"><a href=\"#2-du\" class=\"headerlink\" title=\"2.du\"></a>2.du</h3><p>du - 报告磁盘空间使用情况</p>\n<p>du命令**的英文全称是“Disk Usage”，即用于查看磁盘占用空间的意思。但是与df命令不同的是du命令是对文件和目录磁盘使用的空间的查看，而不是某个分区。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：du [选项]... [文件]...</span><br><span class=\"line\">　或：du [选项]... --files0-from=F</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">POSIX 选项</span><br><span class=\"line\">       -a     显示对涉及到的所有文件的统计，而不只是包含子目录。</span><br><span class=\"line\">       -k     用1024字节作为计数单位，替代缺省时512字节的计数单位。</span><br><span class=\"line\">       -x     只输出指定参数的实际使用空间，而不包括其下的子目录。</span><br><span class=\"line\">       -s     只统计指定参数的在同一设备上所使用的空间。</span><br><span class=\"line\"></span><br><span class=\"line\">GNU 选项</span><br><span class=\"line\">       -a, --all</span><br><span class=\"line\">              显示对所有文件的统计，而不只是包含子目录。</span><br><span class=\"line\">       -b, --bytes</span><br><span class=\"line\">              输出以字节为单位的大小，替代缺省时1024字节的计数单位。</span><br><span class=\"line\">       --block-size=size</span><br><span class=\"line\">              输出以块为单位的大小，块的大小为 size  字节。(  file-  utils-4.0</span><br><span class=\"line\">              的新选项)</span><br><span class=\"line\">       -c, --total</span><br><span class=\"line\">              在处理完所有参数后给出所有这些参数的总计。这个选项被</span><br><span class=\"line\">              用给出指定的一组文件或目录使用的空间的总和。</span><br><span class=\"line\">       -D, --dereference-args</span><br><span class=\"line\">              引用命令行参数的符号连接。但不影响其他的符号连接。    这对找出象</span><br><span class=\"line\">              /usr/tmp          这样的目录的磁盘使用量有用，          /usr/tmp</span><br><span class=\"line\">              等通常是符号连接。  译住：例如在  /var/tmp   下建立一个目录test,</span><br><span class=\"line\">              而/usr/tmp  是指向  /var/tmp  的符号连接。du  /usr/tmp  返回一项</span><br><span class=\"line\">              /usr/tmp , 而 du - D /usr/tmp 返回两项 /usr/tmp，/usr/tmp/test。</span><br><span class=\"line\">       --exclude=pattern</span><br><span class=\"line\">              在递归时，忽略与指定模式相匹配的文件或子目录。模式    可以是任何</span><br><span class=\"line\">              Bourne shell 的文件 glob 模式。( file- utils-4.0 的新选项)</span><br><span class=\"line\">       -h, --human-readable</span><br><span class=\"line\">              为每个数附加一个表示大小单位的字母，象用M表示二进制 的兆字节。</span><br><span class=\"line\">       -H, --si</span><br><span class=\"line\">              与    -h    参数起同样的作用，只是使用法定的    SI    单位(   用</span><br><span class=\"line\">              1000的幂而不是  1024  的幂，这样  M   代表的就是1000000   而不是</span><br><span class=\"line\">              1048576)。(fileutils-4.0 的新选项)</span><br><span class=\"line\">       -k, --kilobytes</span><br><span class=\"line\">              输出以1024字节为计数单位的大小。</span><br><span class=\"line\">       -l, --count-links</span><br><span class=\"line\">              统计所有文件的大小，包括已经被统计过的(作为一个硬连接)。</span><br><span class=\"line\">       -L, --dereference</span><br><span class=\"line\">              引用符号连接(不是显示连接点本身而是连接指向的文件或</span><br><span class=\"line\">              目录所使用的磁盘空间)。</span><br><span class=\"line\">       -m, --megabytes</span><br><span class=\"line\">              输出以兆字节的块为计数单位的大小(就是 1,048,576 字节)。</span><br><span class=\"line\">       --max-depth=n</span><br><span class=\"line\">              只输出命令行参数的小于等于第n层的目录的总计。--max-depth=0的作用同于-s选项。(fileutils-4.0的新选项)</span><br><span class=\"line\">       -s, --summarize</span><br><span class=\"line\">              对每个参数只显示总和。</span><br><span class=\"line\">       -S, --separate-dirs</span><br><span class=\"line\">              单独报告每一个目录的大小，不包括子目录的大小。</span><br><span class=\"line\">       -x, --one-file-system</span><br><span class=\"line\">              忽略与被处理的参数不在同一个文件系统的目录。</span><br><span class=\"line\">       -X file, --exclude-from=file</span><br><span class=\"line\">              除了从指定的文件中得到模式之外与         --exclude        一样。</span><br><span class=\"line\">              模式以行的形式列出。如果指定的文件是&#x27;-&#x27;,那么从标准输</span><br><span class=\"line\">              入中读出模式。(fileutils-4.0 的新选项) GNU 标准选项</span><br><span class=\"line\">       --help 在标准输出上输出帮助信息后正常退出。</span><br><span class=\"line\">       --version</span><br><span class=\"line\">              在标准输出上输出版本信息后正常退出。</span><br><span class=\"line\">       --     终结选项列表</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-df\"><a href=\"#3-df\" class=\"headerlink\" title=\"3.df\"></a>3.df</h3><p>df命令的英文全称即“Disk Free”，顾名思义功能是用于显示系统上可使用的磁盘空间。默认显示单位为KB，建议使用“df -h”的参数组合，根据磁盘容量自动变换合适的单位，更利于阅读。</p>\n<p>日常普遍用该命令可以查看磁盘被占用了多少空间、还剩多少空间等信息。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：df [选项]... [文件]...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GNU 参数说明</span><br><span class=\"line\">\t   -a, --all</span><br><span class=\"line\">              列出包括BLOCK为0的文件系统</span><br><span class=\"line\">       --block-size=SIZE use SIZE-byte blocks</span><br><span class=\"line\">              指定块的大小</span><br><span class=\"line\">       -h,--huma-readable&quot;</span><br><span class=\"line\">              用常见的格式显示出大小(例如:1K 234M 2G)</span><br><span class=\"line\">       -H,--si&quot;</span><br><span class=\"line\">              同上,但是这里的1k等于1000字节而不是1024字节</span><br><span class=\"line\">       -i, --inodes</span><br><span class=\"line\">              用信息索引点代替块表示使用状况</span><br><span class=\"line\">       -k, --kilobytes</span><br><span class=\"line\">              指定块大小等于1024字节来显示使用状况</span><br><span class=\"line\">       -l, --local</span><br><span class=\"line\">              只显示本地文件系统使用状况</span><br><span class=\"line\">       -m, --megabytes</span><br><span class=\"line\">              以指定块大小等于1048576字节(1M)来显示使用状况</span><br><span class=\"line\">       --no-sync</span><br><span class=\"line\">              在取得使用信息前禁止调用同步 (default)</span><br><span class=\"line\">       -P, --portability</span><br><span class=\"line\">              使用POSIX格式输出</span><br><span class=\"line\">       --sync 在取得使用信息前调用同步</span><br><span class=\"line\">       -t, --type=TYPE</span><br><span class=\"line\">              只显示指定类型(TYPE)的文件系统</span><br><span class=\"line\">       -T, --print-type</span><br><span class=\"line\">              输出每个文件系统的类型</span><br><span class=\"line\">       -x, --exclude-type=TYPE</span><br><span class=\"line\">              只显示指定类型(TYPE)之外的文件系统.</span><br><span class=\"line\">       -v (忽略)</span><br><span class=\"line\">       --help 输出该命令的帮助信息并退出</span><br><span class=\"line\">       --version</span><br><span class=\"line\">              输出版本信息并退出             </span><br></pre></td></tr></table></figure>\n<h3 id=\"4-free\"><a href=\"#4-free\" class=\"headerlink\" title=\"4.free\"></a>4.free</h3><p>free - 显示系统中已用和未用的内存空间总和.</p>\n<p>free 命令能够显示系统中物理上的空闲和已用内存，还有交换内存，同时，也能显示被内核使用的缓冲和缓存。这些信息是通过解析文件 /proc/meminfo 而收集到的。</p>\n<p>不带任何选项运行 free 命令会显示系统内存，包括空闲、已用、交换、缓冲、缓存和交换的内存总数。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">free [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-b 选项 以字节为单位显示内存总和; </span><br><span class=\"line\">-k 选项(缺省的)以KB为单位显示; </span><br><span class=\"line\">-m 选项以MB 为单位.</span><br><span class=\"line\">-t 选项 显示 一个 总计行.</span><br><span class=\"line\">-o  选项  禁止  &quot;buffer adjusted&quot; 行的显示. 除非 指定 free 从 (相应的)</span><br><span class=\"line\">已用/未用的 内存 减去/加上 缓冲区内存.</span><br><span class=\"line\">-s 使 free 以 delay 秒为间隔,  连续抽样显示.  delay  可以设置成浮点数,</span><br><span class=\"line\">它用 usleep(3) 做 微秒级 延迟.</span><br><span class=\"line\">-V 显示版本信息.</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-fdisk\"><a href=\"#5-fdisk\" class=\"headerlink\" title=\"5.fdisk\"></a>5.fdisk</h3><p>fdisk 是 Linux 的磁盘分区表操作工具。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fdisk [-l] 装置名称</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-l ：输出后面接的装置所有的分区内容。若仅有 fdisk -l 时， 则系统将会把整个系统内能够搜寻到的装置的分区均列出来。</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-mkfs\"><a href=\"#6-mkfs\" class=\"headerlink\" title=\"6.mkfs\"></a>6.mkfs</h3><p>磁盘分割完毕后自然就是要进行文件系统的格式化，格式化的命令非常的简单，使用 <code>mkfs</code>（make filesystem） 命令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkfs [-t 文件系统格式] 装置文件名</span><br><span class=\"line\"></span><br><span class=\"line\">-t ：可以接文件系统格式，例如 ext3, ext2, vfat 等(系统有支持才会生效)</span><br></pre></td></tr></table></figure>\n<h3 id=\"7-fsck\"><a href=\"#7-fsck\" class=\"headerlink\" title=\"7.fsck\"></a>7.fsck</h3><p>fsck（file system check）用来检查和维护不一致的文件系统。</p>\n<p>若系统掉电或磁盘发生问题，可利用fsck命令对文件系统进行检查。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fsck [-t 文件系统] [-ACay] 装置名称</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-t : 给定档案系统的型式，若在 /etc/fstab 中已有定义或 kernel 本身已支援的则不需加上此参数</span><br><span class=\"line\">-s : 依序一个一个地执行 fsck 的指令来检查</span><br><span class=\"line\">-A : 对/etc/fstab 中所有列出来的 分区（partition）做检查</span><br><span class=\"line\">-C : 显示完整的检查进度</span><br><span class=\"line\">-d : 打印出 e2fsck 的 debug 结果</span><br><span class=\"line\">-p : 同时有 -A 条件时，同时有多个 fsck 的检查一起执行</span><br><span class=\"line\">-R : 同时有 -A 条件时，省略 / 不检查</span><br><span class=\"line\">-V : 详细显示模式</span><br><span class=\"line\">-a : 如果检查有错则自动修复</span><br><span class=\"line\">-r : 如果检查有错则由使用者回答是否修复</span><br><span class=\"line\">-y : 选项指定检测每个文件是自动输入yes，在不确定那些是不正常的时候，可以执行 # fsck -y 全部检查修复。</span><br></pre></td></tr></table></figure>\n<h3 id=\"8-mount-umount\"><a href=\"#8-mount-umount\" class=\"headerlink\" title=\"8.mount/umount\"></a>8.mount/umount</h3><p>Linux 的磁盘挂载使用 <code>mount</code> 命令，卸载使用 <code>umount</code> 命令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount [-t 文件系统] [-L Label名] [-o 额外选项] [-n]  装置文件名  挂载点</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">umount [-fn] 装置文件名或挂载点</span><br><span class=\"line\"></span><br><span class=\"line\">-f ：强制卸除！可用在类似网络文件系统 (NFS) 无法读取到的情况下；</span><br><span class=\"line\">-n ：不升级 /etc/mtab 情况下卸除。</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"九、文件管理命令\"><a href=\"#九、文件管理命令\" class=\"headerlink\" title=\"九、文件管理命令\"></a>九、文件管理命令</h1><h3 id=\"1-pwd\"><a href=\"#1-pwd\" class=\"headerlink\" title=\"1.pwd\"></a>1.pwd</h3><p>pwd命令是<strong>print working directory</strong>中每个单词的首字母缩写，其功能正如所示单词一样，为打印工作目录，即显示当前工作目录的绝对路径。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pwd [选项]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">显示出 完整的 当前 活动目录 名称.</span><br><span class=\"line\">   -L        </span><br><span class=\"line\">      \t打印 $PWD 变量的值，如果它命名了当前的工作目录</span><br><span class=\"line\">   -P        </span><br><span class=\"line\">   \t\t打印当前的物理路径，不带有任何的符号链接</span><br><span class=\"line\">    \t默认情况下，pwd 的行为和带 -L 选项一致</span><br><span class=\"line\">\t--help </span><br><span class=\"line\">\t\t显示 帮助 信息, 然后 退出</span><br><span class=\"line\">\t--version </span><br><span class=\"line\">\t\t显示 版本 信息, 然后 退出</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"2-cd\"><a href=\"#2-cd\" class=\"headerlink\" title=\"2.cd\"></a>2.cd</h3><p>cd命令是”change directory”中单词的首字母缩写，其英文释义是改变目录，所以该命令的功能是从当前目录切换到指定目录。</p>\n<p>其中目录的路径可分为绝对路径和相对路径。若目录名称省略，则切换至使用者的用户目录(也就是刚登录时所在的目录)。</p>\n<p>另外，“~”也表示为用户目录的意思，“.”则是表示目前所在的目录，“…”则表示当前目录位置的上一级目录。</p>\n<p>cd 为最常用的命令，与 DOS 下的 cd 命令类似。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd [选项] [目录名]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-p </span><br><span class=\"line\">\t如果要切换到的目标目录是一个符号连接，直接切换到符号连接指向的目标目录</span><br><span class=\"line\">-L </span><br><span class=\"line\">\t如果要切换的目标目录是一个符号的连接，直接切换到字符连接名代表的目录，而非符号连接所指向的目标目录。</span><br><span class=\"line\">- </span><br><span class=\"line\"> \t当仅实用&quot;-&quot;一个选项时，当前工作目录将被切换到环境变量&quot;OLDPWD&quot;所表示的目录，即回到前一个目录。</span><br><span class=\"line\">..</span><br><span class=\"line\">    回到上一层目录</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-ls\"><a href=\"#3-ls\" class=\"headerlink\" title=\"3.ls\"></a>3.ls</h3><p>ls 命令是Linux下最常用的指令之一。ls命令为英文单词 list 的缩写，正如英文单词 list 的意思，其功能是列出指定目录下的内容及其相关属性信息。通过 ls 命令，不仅可以查看 Linux 文件夹包含的文件，而且可以查看文件的权限（包括：目录、文件权限）、查看目录信息等。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls [选项]… [文件]…</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项\t说明</span><br><span class=\"line\">-a\t列出目录下所有文件，包括以 . 开头的隐藏文件</span><br><span class=\"line\">-b\t把文件名中不可输出的字符用反斜杠加字符编号（就像 C 语言一样）的形式列出</span><br><span class=\"line\">-c\t输出文件的 i 节点的修改时间，并以此排序</span><br><span class=\"line\">-d\t将目录像文件一样显示，而不是显示其下的文件</span><br><span class=\"line\">-e\t输出时间的全部信息，而不是输出简略信息</span><br><span class=\"line\">-f -U\t对输出的文件不排序</span><br><span class=\"line\">-i\t输出文件的 i 节点的索引信息</span><br><span class=\"line\">-k\t以 k 字节的形式表示文件的大小</span><br><span class=\"line\">-l\t列出文件的详细信息</span><br><span class=\"line\">-m\t横向输出文件名，并以 , 作为分隔符</span><br><span class=\"line\">-n\t用数字 UID、GID 代替名称</span><br><span class=\"line\">-o\t显示文件除组信息外的详细信息</span><br><span class=\"line\">-r\t对目录反向排序</span><br><span class=\"line\">-s\t对每个文件名后输出该文件的大小</span><br><span class=\"line\">-t\t以时间排序</span><br><span class=\"line\">-u\t以文件上次被访问的时间排序</span><br><span class=\"line\">-v\t根据版本进行排序</span><br><span class=\"line\">-x\t按列排序，横向排序</span><br><span class=\"line\">-A\t显示除 . 和 .. 外的所有文件</span><br><span class=\"line\">-B\t不输出以 ~ 结尾的备份文件</span><br><span class=\"line\">-C\t按列输出，纵向排序</span><br><span class=\"line\">-G\t列出文件的组的信息</span><br><span class=\"line\">-L\t列出链接文件名，而不是链接到的文件</span><br><span class=\"line\">-N\t不限制文件长度</span><br><span class=\"line\">-Q\t把输出的文件名用双引号扩起来</span><br><span class=\"line\">-R\t列出所有子目录下的文件</span><br><span class=\"line\">-S\t以文件大小排序</span><br><span class=\"line\">-X\t以文件的扩展名（最后一个 . 后的字符）排序</span><br><span class=\"line\">-1\t一行只输出一个文件</span><br><span class=\"line\">-color=no\t不显示彩色文件名</span><br><span class=\"line\">--help\t在标准输出上显示帮助信息并退出</span><br><span class=\"line\">--version\t在标准输出上显示版本信息并退出</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"4-mkdir\"><a href=\"#4-mkdir\" class=\"headerlink\" title=\"4.mkdir\"></a>4.mkdir</h3><p>mkdir命令是”make directories”的缩写，若指定目录不存在则创建目录。。</p>\n<p>注意：默认状态下，如果要创建的目录已经存在，则提示已存在，而不会继续创建目录。 所以在创建目录时，应保证新建的目录与它所在目录下的文件没有重名。</p>\n<p>要创建文件夹或目录的用户必须对所创建的文件夹的父文件夹具有写权限。并且，所创建的文件夹(目录)不能与其父目录(即父文件夹)中的文件名重名，即同一个目录下不能有同名的(区分大小写)。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir [选项] 目录…</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">长选项必须使用的参数对于短选项时也是必需使用的。</span><br><span class=\"line\">  -m, --mode=模式       设置权限模式(类似chmod)，而不是rwxrwxrwx 减umask</span><br><span class=\"line\">  -p, --parents         需要时创建目标目录的上层目录，但即使这些目录已存在也不当作错误处理</span><br><span class=\"line\">  -v, --verbose         每次创建新目录都显示信息</span><br><span class=\"line\">  -Z, --context=CTX     将每个创建的目录的SELinux 安全环境设置为CTX</span><br><span class=\"line\">      --help            显示此帮助信息并退出</span><br><span class=\"line\">      --version         显示版本信息并退出</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"5-rmdir\"><a href=\"#5-rmdir\" class=\"headerlink\" title=\"5.rmdir\"></a>5.rmdir</h3><p>英文全称：“remove directory”, rmdir命令作用是删除空的目录。</p>\n<p>注意：rmdir命令只能删除空目录。当要删除非空目录时，就要使用带有“-R”选项的rm命令。</p>\n<p>rmdir命令的“-p”参数可以递归删除指定的多级目录，但是要求每个目录也必须是空目录。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rmdir [选项]… 目录…</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t  --ignore-fail-on-non-empty</span><br><span class=\"line\">                      忽略仅由目录非空产生的所有错误</span><br><span class=\"line\">-p, --parents         删除指定目录及其上级文件夹，例如&quot;rmdir -p a/b/c&#x27;&quot;</span><br><span class=\"line\">                      与&quot;rmdir a/b/c a/b a&#x27;&quot; 基本相同</span><br><span class=\"line\">-v, --verbose         输出处理的目录详情</span><br><span class=\"line\">    --help            显示此帮助信息并退出</span><br><span class=\"line\">    --version         显示版本信息并退出</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"6-tree\"><a href=\"#6-tree\" class=\"headerlink\" title=\"6.tree\"></a>6.tree</h3><p><strong>tree命令</strong>以树状图列出目录的内容。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tree [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a 显示所有文件和目录。</span><br><span class=\"line\">-A 使用ASNI绘图字符显示树状图而非以ASCII字符组合。</span><br><span class=\"line\">-C 在文件和目录清单加上色彩，便于区分各种类型。</span><br><span class=\"line\">-d 显示目录名称而非内容。</span><br><span class=\"line\">-D 列出文件或目录的更改时间。</span><br><span class=\"line\">-f 在每个文件或目录之前，显示完整的相对路径名称。</span><br><span class=\"line\">-F 在执行文件，目录，Socket，符号连接，管道名称名称，各自加上&quot;*&quot;,&quot;/&quot;,&quot;=&quot;,&quot;@&quot;,&quot;|&quot;号。</span><br><span class=\"line\">-g 列出文件或目录的所属群组名称，没有对应的名称时，则显示群组识别码。</span><br><span class=\"line\">-i 不以阶梯状列出文件或目录名称。</span><br><span class=\"line\">-I 不显示符合范本样式的文件或目录名称。</span><br><span class=\"line\">-l 如遇到性质为符号连接的目录，直接列出该连接所指向的原始目录。</span><br><span class=\"line\">-L 层级显示</span><br><span class=\"line\">-n 不在文件和目录清单加上色彩。</span><br><span class=\"line\">-N 直接列出文件和目录名称，包括控制字符。</span><br><span class=\"line\">-p 列出权限标示。</span><br><span class=\"line\">-P 只显示符合范本样式的文件或目录名称。</span><br><span class=\"line\">-q 用&quot;?&quot;号取代控制字符，列出文件和目录名称。</span><br><span class=\"line\">-s 列出文件或目录大小。</span><br><span class=\"line\">-t 用文件和目录的更改时间排序。</span><br><span class=\"line\">-u 列出文件或目录的拥有者名称，没有对应的名称时，则显示用户识别码。</span><br><span class=\"line\">-x 将范围局限在现行的文件系统中，若指定目录下的某些子目录，其存放于另一个文件系统上，则将该子目录予以排除在寻找范围外。</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"7-mv\"><a href=\"#7-mv\" class=\"headerlink\" title=\"7.mv\"></a>7.mv</h3><p>mv命令是“move”单词的缩写，其功能大致和英文含义一样，可以移动文件或重命名文件。经常用来备份文件或者目录。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mv [选项]... 源文件 目标文件</span><br><span class=\"line\">mv [选项]... 源文件... 目录</span><br><span class=\"line\">mv [选项]... --target-directory=DIRECTORY SOURCE...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">将源文件重命名为目标文件，或将源文件移动至指定目录。</span><br><span class=\"line\"></span><br><span class=\"line\">长选项必须使用的参数对于短选项时也是必需使用的。</span><br><span class=\"line\">      --backup[=CONTROL]       为每个已存在的目标文件创建备份</span><br><span class=\"line\">  -b                           类似--backup 但不接受参数</span><br><span class=\"line\">  -f, --force                  覆盖前不询问</span><br><span class=\"line\">  -i, --interactive            覆盖前询问</span><br><span class=\"line\">  -n, --no-clobber             不覆盖已存在文件</span><br><span class=\"line\">如果您指定了-i、-f、-n 中的多个，仅最后一个生效。</span><br><span class=\"line\">      --strip-trailing-slashes  去掉每个源文件参数尾部的斜线</span><br><span class=\"line\">  -S, --suffix=SUFFIX           替换常用的备份文件后缀</span><br><span class=\"line\">  -t, --target-directory=DIRECTORY      将所有参数指定的源文件或目录</span><br><span class=\"line\">                                        移动至 指定目录</span><br><span class=\"line\">  -T, --no-target-directory     将目标文件视作普通文件处理</span><br><span class=\"line\">  -u, --update                  只在源文件文件比目标文件新，或目标文件</span><br><span class=\"line\">                                不存在时才进行移动</span><br><span class=\"line\">  -v, --verbose         详细显示进行的步骤</span><br><span class=\"line\">      --help            显示此帮助信息并退出</span><br><span class=\"line\">      --version         显示版本信息并退出</span><br><span class=\"line\">      </span><br><span class=\"line\">备份文件的后缀为&quot;~&quot;，除非以--suffix 选项或是SIMPLE_BACKUP_SUFFIX</span><br><span class=\"line\">环境变量指定。版本控制的方式可通过--backup 选项或VERSION_CONTROL 环境</span><br><span class=\"line\">变量来选择。以下是可用的变量值：</span><br><span class=\"line\"></span><br><span class=\"line\">  none, off       不进行备份(即使使用了--backup 选项)</span><br><span class=\"line\">  numbered, t     备份文件加上数字进行排序</span><br><span class=\"line\">  existing, nil   若有数字的备份文件已经存在则使用数字，否则使用普通方式备份</span><br><span class=\"line\">  simple, never   永远使用普通方式备份</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"8-cp\"><a href=\"#8-cp\" class=\"headerlink\" title=\"8.cp\"></a>8.cp</h3><p>cp命令可以理解为英文单词copy的缩写，其功能为复制文件或目录。</p>\n<p>cp命令可以将多个文件复制到一个具体的文件名或一个已经存在的目录下，也可以同时复制多个文件到一个指定的目录中。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：cp [选项]... [-T] 源文件 目标文件</span><br><span class=\"line\">　或：cp [选项]... 源文件... 目录</span><br><span class=\"line\">　或：cp [选项]... -t 目录 源文件...</span><br><span class=\"line\">Copy SOURCE to DEST, or multiple SOURCE(s) to DIRECTORY.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">长选项必须使用的参数对于短选项时也是必需使用的。</span><br><span class=\"line\">  -a, --archive\t\t\t等于-dR --preserve=all</span><br><span class=\"line\">      --attributes-only\t\t\t只拷贝文件属性，不拷贝文件内容</span><br><span class=\"line\">      --backup[=CONTROL\t\t为每个已存在的目标文件创建备份</span><br><span class=\"line\">  -b\t\t\t\t类似--backup 但不接受参数</span><br><span class=\"line\">      --copy-contents\t\t在递归处理是复制特殊文件内容</span><br><span class=\"line\">  -d\t\t\t\t等于--no-dereference --preserve=links</span><br><span class=\"line\">  -f, --force\t\t\t如果目标文件无法打开则将其移除并重试(当 -n 选项</span><br><span class=\"line\">\t\t\t\t\t存在时则不需再选此项)</span><br><span class=\"line\">  -i, --interactive\t\t覆盖前询问(使前面的 -n 选项失效)</span><br><span class=\"line\">  -H\t\t\t\t跟随源文件中的命令行符号链接</span><br><span class=\"line\">  -l, --link\t\t\t链接文件而不复制</span><br><span class=\"line\">  -L, --dereference\t\t总是跟随符号链接</span><br><span class=\"line\">  -n, --no-clobber\t\t不要覆盖已存在的文件(使前面的 -i 选项失效)</span><br><span class=\"line\">  -P, --no-dereference\t\t不跟随源文件中的符号链接</span><br><span class=\"line\">  -p\t\t\t\t等于--preserve=模式,所有权,时间戳</span><br><span class=\"line\">      --preserve[=属性列表\t保持指定的属性(默认：模式,所有权,时间戳)，如果</span><br><span class=\"line\">\t\t\t\t\t可能保持附加属性：环境、链接、xattr 等</span><br><span class=\"line\">  -c                           same as --preserve=context</span><br><span class=\"line\">      --sno-preserve=属性列表\t不保留指定的文件属性</span><br><span class=\"line\">      --parents\t\t\t复制前在目标目录创建来源文件路径中的所有目录</span><br><span class=\"line\">  -R, -r, --recursive\t\t递归复制目录及其子目录内的所有内容</span><br><span class=\"line\">      --reflink[=WHEN]\t\t控制克隆/CoW 副本。请查看下面的内如。</span><br><span class=\"line\">      --remove-destination\t尝试打开目标文件前先删除已存在的目的地</span><br><span class=\"line\">\t\t\t\t\t文件 (相对于 --force 选项)</span><br><span class=\"line\">      --sparse=WHEN\t\t控制创建稀疏文件的方式</span><br><span class=\"line\">      --strip-trailing-slashes\t删除参数中所有源文件/目录末端的斜杠</span><br><span class=\"line\">  -s, --symbolic-link\t\t只创建符号链接而不复制文件</span><br><span class=\"line\">  -S, --suffix=后缀\t\t自行指定备份文件的后缀</span><br><span class=\"line\">  -t,  --target-directory=目录\t将所有参数指定的源文件/目录</span><br><span class=\"line\">                                           复制至目标目录</span><br><span class=\"line\">  -T, --no-target-directory\t将目标目录视作普通文件</span><br><span class=\"line\">  -u, --update                 copy only when the SOURCE file is newer</span><br><span class=\"line\">                                 than the destination file or when the</span><br><span class=\"line\">                                 destination file is missing</span><br><span class=\"line\">  -v, --verbose                explain what is being done</span><br><span class=\"line\">  -x, --one-file-system        stay on this file system</span><br><span class=\"line\">  -Z, --context=CONTEXT        set security context of copy to CONTEXT</span><br><span class=\"line\">      --help\t\t显示此帮助信息并退出</span><br><span class=\"line\">      --version\t\t显示版本信息并退出</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">默认情况下，源文件的稀疏性仅仅通过简单的方法判断，对应的目标文件目标文件也</span><br><span class=\"line\">被为稀疏。这是因为默认情况下使用了--sparse=auto 参数。如果明确使用</span><br><span class=\"line\">--sparse=always 参数则不论源文件是否包含足够长的0 序列也将目标文件创文</span><br><span class=\"line\">建为稀疏件。</span><br><span class=\"line\">使用--sparse=never 参数禁止创建稀疏文件。</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">当指定了--reflink[=always] 参数时执行轻量化的复制，即只在数据块被修改的</span><br><span class=\"line\">情况下才复制。如果复制失败或者同时指定了--reflink=auto，则返回标准复制模式。</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">备份文件的后缀为&quot;~&quot;，除非以--suffix 选项或是SIMPLE_BACKUP_SUFFIX</span><br><span class=\"line\">环境变量指定。版本控制的方式可通过--backup 选项或VERSION_CONTROL 环境</span><br><span class=\"line\">变量来选择。以下是可用的变量值：</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  none, off       不进行备份(即使使用了--backup 选项)</span><br><span class=\"line\">  numbered, t     备份文件加上数字进行排序</span><br><span class=\"line\">  existing, nil   若有数字的备份文件已经存在则使用数字，否则使用普通方式备份</span><br><span class=\"line\">  simple, never   永远使用普通方式备份</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">有一个特别情况：如果同时指定--force 和--backup 选项，而源文件和目标文件</span><br><span class=\"line\">是同一个已存在的一般文件的话，cp 会将源文件备份。</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"9-rm\"><a href=\"#9-rm\" class=\"headerlink\" title=\"9.rm\"></a>9.rm</h3><p><strong>删除 (unlink) 文件。</strong></p>\n<p>rm命令可以删除一个目录中的一个或多个文件或目录，也可以将某个目录及其下属的所有文件及其子目录均删除掉。对于链接文件，只是删除整个链接文件，而原有文件保持不变。</p>\n<p>注意：使用rm命令要格外小心。因为一旦删除了一个文件，就无法再恢复它。所以，在删除文件之前，最好再看一下文件的内容，确定是否真要删除。rm命令可以用-i选项，这个选项在使用文件扩展名字符删除多个文件时特别有用。使用这个选项，系统会要求你逐一确定是否要删除。这时，必须输入y并按Enter键，才能删除文件。如果仅按Enter键或其他字符，文件不会被删除。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rm [选项]… 文件…</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">删除 (unlink) 文件。</span><br><span class=\"line\"></span><br><span class=\"line\">  -f, --force           强制删除。忽略不存在的文件，不提示确认</span><br><span class=\"line\">  -i                    在删除前需要确认</span><br><span class=\"line\">  -I                    在删除超过三个文件或者递归删除前要求确认。此选项比-i 提</span><br><span class=\"line\">                        示内容更少，但同样可以阻止大多数错误发生</span><br><span class=\"line\">      --interactive[=WHEN]      根据指定的WHEN 进行确认提示：never，once (-I)，</span><br><span class=\"line\">                                或者always (-i)。如果此参数不加WHEN 则总是提示</span><br><span class=\"line\">      --one-file-system         递归删除一个层级时，跳过所有不符合命令行参</span><br><span class=\"line\">                                数的文件系统上的文件</span><br><span class=\"line\">      --no-preserve-roo 不特殊对待&quot;/&quot;</span><br><span class=\"line\">      --preserve-root   不允许删除&quot;/&quot;(默认)</span><br><span class=\"line\">  -d, --dir\t删除空目录</span><br><span class=\"line\">  -r, -R, --recursive   递归删除目录及其内容</span><br><span class=\"line\">  -v, --verbose         详细显示进行的步骤</span><br><span class=\"line\">      --help            显示此帮助信息并退出</span><br><span class=\"line\">      --version         显示版本信息并退出</span><br><span class=\"line\"></span><br><span class=\"line\">默认时，rm 不会删除目录。使用--recursive(-r 或-R)选项可删除每个给定</span><br><span class=\"line\">的目录，以及其下所有的内容。</span><br><span class=\"line\"></span><br><span class=\"line\">要删除第一个字符为&quot;-&quot;的文件 (例如&quot;-foo&quot;)，请使用以下方法之一：</span><br><span class=\"line\">  rm -- -foo</span><br><span class=\"line\">  rm ./-foo</span><br><span class=\"line\"></span><br><span class=\"line\">请注意，如果使用rm 来删除文件，通常仍可以将该文件恢复原状。如果想保证</span><br><span class=\"line\">该文件的内容无法还原，请考虑使用shred。</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"10-touch\"><a href=\"#10-touch\" class=\"headerlink\" title=\"10.touch\"></a>10.touch</h3><p>touch命令有两个功能：一是创建新的空文件，二是改变已有文件的时间戳属性。</p>\n<p>touch命令会根据当前的系统时间更新指定文件的访问时间和修改时间。如果文件不存在，将会创建新的空文件，除非指定了”-c”或”-h”选项。</p>\n<p>注意：在修改文件的时间属性的时候，用户必须是文件的属主，或拥有写文件的访问权限。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：touch [选项]... 文件...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">不存在的文件将会被创建为空文件，除非使用-c 或-h 选项。</span><br><span class=\"line\"></span><br><span class=\"line\">如果文件名为&quot;-&quot;则特殊处理，更改与标准输出相关的文件的访问时间。</span><br><span class=\"line\"></span><br><span class=\"line\">长选项必须使用的参数对于短选项时也是必需使用的。</span><br><span class=\"line\">  -a                    只更改访问时间</span><br><span class=\"line\">  -c, --no-create       不创建任何文件</span><br><span class=\"line\">  -d, --date=字符串     使用指定字符串表示时间替代当前时间</span><br><span class=\"line\">  -f                    (忽略)</span><br><span class=\"line\">  -h, --no-dereference          会影响符号链接本身，替代符号链接所指示的目的地</span><br><span class=\"line\">                                (当系统支持更改符号链接的所有者时，此选项才有用)</span><br><span class=\"line\">  -m                    只更改修改时间</span><br><span class=\"line\">  -r, --reference=文件  使用指定文件的时间属性替代当前时间</span><br><span class=\"line\">  -t STAMP              使用[[CC]YY]MMDDhhmm[.ss] 格式的时间替代当前时间</span><br><span class=\"line\">  --time=WORD           使用WORD 指定的时间：access、atime、use 都等于-a</span><br><span class=\"line\">                        选项的效果，而modify、mtime 等于-m 选项的效果</span><br><span class=\"line\">      --help            显示此帮助信息并退出</span><br><span class=\"line\">      --version         显示版本信息并退出</span><br><span class=\"line\"></span><br><span class=\"line\">请注意，-d 和-t 选项可接受不同的时间/日期格式。</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"11-basename\"><a href=\"#11-basename\" class=\"headerlink\" title=\"11.basename\"></a>11.basename</h3><p>basename - 从文件名中剥离目录和后缀</p>\n<p><strong>basename命令</strong>用于打印目录或者文件的基本名称。basename和dirname命令通常用于shell脚本中的命令替换来指定和指定的输入文件名称有所差异的输出文件名称。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">basename 名称 [后缀]</span><br><span class=\"line\">basename 选项</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">显示 去掉 目录成分 后的 NAME. 如果 指定了 SUFFIX, 就 同时 去掉 拖尾的</span><br><span class=\"line\">SUFFIX.</span><br><span class=\"line\">--help </span><br><span class=\"line\">\t显示 帮助信息, 然后 结束</span><br><span class=\"line\">--version</span><br><span class=\"line\">\t显示 版本信息, 然后 结束</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"12-dirname\"><a href=\"#12-dirname\" class=\"headerlink\" title=\"12.dirname\"></a>12.dirname</h3><p>dirname - 从文件名剥离非目录的后缀</p>\n<p>dirname命令去除文件名中的非目录部分，仅显示与目录有关的内容。dirname命令读取指定路径名保留最后一个/及其后面的字符，删除其他部分，并写结果到标准输出。如果最后一个/后无字符，dirname 命令使用倒数第二个/，并忽略其后的所有字符。dirname 和 basename通常在 shell 内部命令替换使用，以指定一个与指定输入文件名略有差异的输出文件名。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dirname 名字</span><br><span class=\"line\">dirname 选项</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">打印去除了/后面部分的NAME;如果NAME没有包含/,则输出`.&#x27;(表示当前目录).</span><br><span class=\"line\"></span><br><span class=\"line\">--help </span><br><span class=\"line\">\t显示帮助并退出</span><br><span class=\"line\">--version</span><br><span class=\"line\">\t输出版本信息并退出</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"13-rename\"><a href=\"#13-rename\" class=\"headerlink\" title=\"13.rename\"></a>13.rename</h3><p><strong>rename命令</strong>用字符串替换的方式批量改变文件名。</p>\n<p>rename 用于 对文件进行命名管理，可进行批量命名并支持正则表达式， rename命令存在两个版本用法上有所区别 一个是 C语言版本支持通配符，另一个是 Perl版本.支持正则表达式</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rename [选项] 表达式 替换文件…</span><br><span class=\"line\"></span><br><span class=\"line\">rename [options] expression replacement file…</span><br><span class=\"line\"></span><br><span class=\"line\">expression 将文件名需要替换的字符串</span><br><span class=\"line\"></span><br><span class=\"line\">replacement 将文件名中含有的原字符替换成目标字符串</span><br><span class=\"line\"></span><br><span class=\"line\">file 指定要改变文件名的文件列表</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> -v, --verbose    解释正在进行的操作</span><br><span class=\"line\"> -s, --symlink    在符号链接上执行</span><br><span class=\"line\"></span><br><span class=\"line\"> -h, --help     显示此帮助并退出</span><br><span class=\"line\"> -V, --version  输出版本信息并退出</span><br><span class=\"line\"> </span><br><span class=\"line\">【常用通配符说明】</span><br><span class=\"line\"> ?    表示一个任意字符</span><br><span class=\"line\"> *    表示一个或一串任意字符</span><br><span class=\"line\">-------------------------------------------------</span><br><span class=\"line\">【常用正则表达式符号说明】</span><br><span class=\"line\">^    匹配输入的开始位置</span><br><span class=\"line\">$    匹配输入的结尾</span><br><span class=\"line\">.    匹配除换行符外的任意字符</span><br><span class=\"line\">+    匹配前一个字符一次或多次 例如，&quot;zo+&quot;可以匹配&quot;zoo&quot;,但不匹配&quot;z&quot;</span><br><span class=\"line\">[a-z]    表示某个范围内的字符，例如，&quot;[a-z]&quot;匹配&quot;a&quot;与&quot;z&quot;之间的任何一个小写字母字符。</span><br><span class=\"line\">[^m-z]    否定的字符区间。与不在指定区间内的字符匹配。</span><br></pre></td></tr></table></figure>\n<h3 id=\"14-file\"><a href=\"#14-file\" class=\"headerlink\" title=\"14.file\"></a>14.file</h3><p>file - 确定文件类型</p>\n<p>file命令用来识别文件类型，也可用来辨别一些文件的编码格式。它是通过查看文件的头部信息来获取文件类型，而不是像Windows通过扩展名来确定文件类型的。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">file [ -bcnsvzL ] [ -f 命名文件 ] [ -m 幻数文件 ] file …</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-b</span><br><span class=\"line\">    不输出文件名 (简要模式).</span><br><span class=\"line\">-c</span><br><span class=\"line\">    检查时打印输出幻数文件的解析结果.常与 -m 一起使用，用来在安装幻数文件之前调试它.</span><br><span class=\"line\">-f 命名文件</span><br><span class=\"line\">    从在参数表前的 命名文件 中读出将要检查的文件名(每行一个文件).要有 命名文件 ，或者至少有一个文件名参数; 如果要检查标准输入, 使用``-作为文件参数.</span><br><span class=\"line\">-m list</span><br><span class=\"line\">    指定包含幻数的文件列表.可以是单个文件，也可以是 用冒号分开的多个文件.</span><br><span class=\"line\">-n</span><br><span class=\"line\">    每检查完一个文件就强制刷新标准输出. 仅在检查一组文件时才有效. 一般在将文件类型输出到管道时才采用此选项.</span><br><span class=\"line\">-v</span><br><span class=\"line\">    打印程序版本并退出.</span><br><span class=\"line\">-z</span><br><span class=\"line\">    试图查看压缩文件内部信息.</span><br><span class=\"line\">-L</span><br><span class=\"line\">    (在支持符号链接的系统上)选项显示符号链接文件的原文件, 就像 ls(1) 命令的like-named 选项.</span><br><span class=\"line\">-s</span><br><span class=\"line\">    通常, file 只是试图去检查在文件列表中那些 stat(2) 报告为正常文件的文件的类型.由于读特殊文件将可能导致 不可知后果，所以这样可以防止发生问题.使用 -s 选项时 file 命令也将去读文件列表中的块特殊文件和字符特殊文件. 一般用于从原始磁盘分区中获得文件系统类型，此文件为块 特殊文件. 这个选项也导致 file 命令忽略 stat(2) 报告的文件大小，因为在有些系统中原始磁盘分区的大小报告为0.</span><br></pre></td></tr></table></figure>\n<h3 id=\"15-cat\"><a href=\"#15-cat\" class=\"headerlink\" title=\"15.cat\"></a>15.cat</h3><p>将[文件]或标准输入组合输出到标准输出。</p>\n<p>cat 命令连接文件并打印到标准输出设备上，经常用来显示整个文件的内容。cat 只能查看文本内容的文件，如查看二进制文件，则屏幕会显示乱码。另外，cat 还可以用来创建文件、合并文件等。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：cat [选项] [文件]...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">将文件列表中的文件或标准输入连接到标准输出。</span><br><span class=\"line\">-A, --show-all</span><br><span class=\"line\">\t等价于 -vET 。</span><br><span class=\"line\">-b, --number-nonblank</span><br><span class=\"line\">\t给非空输出行编号。</span><br><span class=\"line\">-e     等价于 -vE 。</span><br><span class=\"line\">-E, --show-ends</span><br><span class=\"line\">\t在每行结束显示 $ 。</span><br><span class=\"line\">-n, --number</span><br><span class=\"line\">\t给所有输出行编号。</span><br><span class=\"line\">-s, --squeeze-blank</span><br><span class=\"line\">\t将所有的连续的多个空行替换为一个空行。</span><br><span class=\"line\">-t     等价于 -vT 。</span><br><span class=\"line\">-T, --show-tabs</span><br><span class=\"line\">\t把 TAB 字符显示为 ^I 。</span><br><span class=\"line\">-u     (被忽略的选项)</span><br><span class=\"line\">-v, --show-nonprinting</span><br><span class=\"line\">\t除了 LFD 和 TAB 之外所有控制符用 ^ 和 M- 记方式显示。</span><br><span class=\"line\">--help 显示帮助并退出。</span><br><span class=\"line\">--version</span><br><span class=\"line\">\t显示版本信息并退出。</span><br><span class=\"line\">\t没有指定文件或指定的文件是 -，则从标准输入读取。</span><br></pre></td></tr></table></figure>\n<h3 id=\"16-more\"><a href=\"#16-more\" class=\"headerlink\" title=\"16.more\"></a>16.more</h3><p>more命令用于将内容较长的文本文件内容（不能在一屏显示完）进行分屏显示，并且支持在显示时定位关键字。而对于内容较少的文本文件内容则推荐使用cat命令查看</p>\n<p>more命令，功能类似 cat ，cat命令是整个文件的内容从上到下显示在屏幕上。 more会以一页一页的显示方便使用者逐页阅读，而最基本的指令就是按空白键（space）就往下一页显示，按 b 键就会往回（back）一页显示，而且还有搜寻字串的功能 。more命令从前向后读取文件，因此在启动时就加载整个文件。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">more [-dlfpcsu] [-num] [+/ pattern] [+ linenum] [file …]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-d\t显示帮助，而不是响铃</span><br><span class=\"line\">-f\t统计逻辑行数而不是屏幕行数</span><br><span class=\"line\">-l\t抑制换页(form feed)后的暂停</span><br><span class=\"line\">-p\t不滚屏，清屏并显示文本</span><br><span class=\"line\">-c\t不滚屏，显示文本并清理行尾</span><br><span class=\"line\">-u\t抑制下划线</span><br><span class=\"line\">-s\t将多个空行压缩为一行</span><br><span class=\"line\">-NUM\t指定每屏显示的行数为 NUM</span><br><span class=\"line\">+NUM\t从文件第 NUM 行开始显示</span><br><span class=\"line\">+/STRING\t从匹配搜索字符串 STRING 的文件位置开始显示</span><br><span class=\"line\">-V\t显示版本信息并退出</span><br></pre></td></tr></table></figure>\n<h3 id=\"17-less\"><a href=\"#17-less\" class=\"headerlink\" title=\"17.less\"></a>17.less</h3><p>less 与more命令类似，但可以通过翻页键查看上下页的内容</p>\n<p>less命令的作用与more十分相似，都可以用来浏览文字档案的内容，不同的是less命令允许用户向前或向后浏览文件，而more命令只能向下浏览。用less命令显示文件时，用PageUp键向上翻页，用PageDown键向下翻页。要退出less程序，应按Q键。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">less [参数] [文件]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-b&lt;缓冲区大小&gt; 设置缓冲区的大小</span><br><span class=\"line\">-e 当文件显示结束后，自动离开</span><br><span class=\"line\">-f 强迫打开特殊文件，例如外围设备代号、目录和二进制文件</span><br><span class=\"line\">-g 只标志最后搜索的关键词</span><br><span class=\"line\">-i 忽略搜索时的大小写</span><br><span class=\"line\">-m 显示类似more命令的百分比</span><br><span class=\"line\">-N 显示每行的行号</span><br><span class=\"line\">-o&lt;文件名&gt; 将less 输出的内容在指定文件中保存起来</span><br><span class=\"line\">-Q 不使用警告音</span><br><span class=\"line\">-s 显示连续空行为一行</span><br><span class=\"line\">-S 行过长时间将超出部分舍弃</span><br><span class=\"line\">-x&lt;数字&gt; 将“tab”键显示为规定的数字空格</span><br><span class=\"line\"></span><br><span class=\"line\">命令内部操作</span><br><span class=\"line\"></span><br><span class=\"line\">按键功能如下：</span><br><span class=\"line\">b 向后翻一页</span><br><span class=\"line\">d 向后翻半页</span><br><span class=\"line\">h 显示帮助界面</span><br><span class=\"line\">Q 退出less 命令</span><br><span class=\"line\">u 向前滚动半页</span><br><span class=\"line\">y 向前滚动一行</span><br><span class=\"line\">空格键 滚动一页</span><br><span class=\"line\">回车键 滚动一行 </span><br><span class=\"line\"></span><br><span class=\"line\">1) 向前搜索</span><br><span class=\"line\"></span><br><span class=\"line\">    / ： 使用一个模式进行搜索，并定位到下一个匹配的文本</span><br><span class=\"line\">    n ： 向前查找下一个匹配的文本</span><br><span class=\"line\">    N ： 向后查找前一个匹配的文本</span><br><span class=\"line\"></span><br><span class=\"line\">2) 向后搜索</span><br><span class=\"line\"></span><br><span class=\"line\">    ? ： 使用模式进行搜索，并定位到前一个匹配的文本</span><br><span class=\"line\">    n ： 向后查找下一个匹配的文本</span><br><span class=\"line\">    N ： 向前查找前一个匹配的文本</span><br><span class=\"line\"></span><br><span class=\"line\">2 全屏导航</span><br><span class=\"line\"></span><br><span class=\"line\">    ctrl + F ：向前移动一屏</span><br><span class=\"line\">    ctrl + B ：向后移动一屏</span><br><span class=\"line\">    ctrl + D ：向前移动半屏</span><br><span class=\"line\">    ctrl + U ：向后移动半屏</span><br><span class=\"line\"></span><br><span class=\"line\">3 单行导航</span><br><span class=\"line\"></span><br><span class=\"line\">    j ： 向前移动一行</span><br><span class=\"line\">    k ： 向后移动一行</span><br><span class=\"line\"></span><br><span class=\"line\">4 其它导航</span><br><span class=\"line\"></span><br><span class=\"line\">    G ： 移动到最后一行</span><br><span class=\"line\">    g ： 移动到第一行</span><br><span class=\"line\">    q / ZZ ： 退出 less 命令</span><br><span class=\"line\"></span><br><span class=\"line\">5 编辑文件</span><br><span class=\"line\"></span><br><span class=\"line\">    v ： 进入编辑模式，使用配置的编辑器编辑当前文件</span><br><span class=\"line\"></span><br><span class=\"line\">6 标记导航</span><br><span class=\"line\"></span><br><span class=\"line\">    当使用 less 查看大文件时，可以在任何一个位置作标记，可以通过命令导航到标有特定标记的文本位置。</span><br><span class=\"line\"></span><br><span class=\"line\">    ma ： 使用 a 标记文本的当前位置</span><br><span class=\"line\">    &#x27;a ： 导航到标记 a 处</span><br><span class=\"line\"></span><br><span class=\"line\">7 浏览多个文件</span><br><span class=\"line\"></span><br><span class=\"line\">    方式一，传递多个参数给 less，就能浏览多个文件。</span><br><span class=\"line\"></span><br><span class=\"line\">    less file1 file2</span><br><span class=\"line\"></span><br><span class=\"line\">    方式二，正在浏览一个文件时，使用 :e 打开另一个文件。</span><br><span class=\"line\"></span><br><span class=\"line\">    less file1</span><br><span class=\"line\">    :e file2</span><br><span class=\"line\"></span><br><span class=\"line\">     </span><br><span class=\"line\">    当打开多个文件时，使用如下命令在多个文件之间切换</span><br><span class=\"line\"></span><br><span class=\"line\">    :n - 浏览下一个文件</span><br><span class=\"line\">    :p - 浏览前一个文件</span><br></pre></td></tr></table></figure>\n<h3 id=\"18-grep\"><a href=\"#18-grep\" class=\"headerlink\" title=\"18.grep\"></a>18.grep</h3><p>Linux系统中grep命令是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹 配的行打印出来。grep全称是Global Regular Expression Print，表示全局正则表达式版本，它的使用权限是所有用户。</p>\n<p>grep命令的选项用于对搜索过程的补充，而其命令的模式十分灵活，可以是变量、字符串、正则表达式。需要注意的是：一当模式中包含了空格，务必要用双引号将其引起来。</p>\n<p>linux系统支持三种形式的grep命令，大儿子就是grep，标准，模仿的代表。二儿子兴趣爱好多-egrep，简称扩展grep命令，其实和grep -E等价，支持基本和扩展的正则表达式。小儿子跑的最快-fgrep，简称快速grep命令，其实和grep -F等价，不支持正则表达式，按照字符串表面意思进行匹配。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grep [options] PATTERN [FILE...]</span><br><span class=\"line\">grep [options] [-e PATTERN | -f FILE] [FILE...]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">匹配模式选择:</span><br><span class=\"line\"> -E, --extended-regexp     扩展正则表达式egrep</span><br><span class=\"line\"> -F, --fixed-strings       一个换行符分隔的字符串的集合fgrep</span><br><span class=\"line\"> -G, --basic-regexp        基本正则</span><br><span class=\"line\"> -P, --perl-regexp         调用的perl正则</span><br><span class=\"line\"> -e, --regexp=PATTERN      后面根正则模式，默认无</span><br><span class=\"line\"> -f, --file=FILE           从文件中获得匹配模式</span><br><span class=\"line\"> -i, --ignore-case         不区分大小写</span><br><span class=\"line\"> -w, --word-regexp         匹配整个单词</span><br><span class=\"line\"> -x, --line-regexp         匹配整行</span><br><span class=\"line\"> -z, --null-data           一个 0 字节的数据行，但不是空行</span><br><span class=\"line\"></span><br><span class=\"line\">杂项:</span><br><span class=\"line\"> -s, --no-messages         不显示错误信息</span><br><span class=\"line\"> -v, --invert-match        显示不匹配的行</span><br><span class=\"line\"> -V, --version             显示版本号</span><br><span class=\"line\"> --help                    显示帮助信息</span><br><span class=\"line\"> --mmap                use memory-mapped input if possible</span><br><span class=\"line\"></span><br><span class=\"line\">输入控制:</span><br><span class=\"line\"> -m, --max-count=NUM       匹配的最大数</span><br><span class=\"line\"> -b, --byte-offset         打印匹配行前面打印该行所在的块号码。</span><br><span class=\"line\"> -n, --line-number         显示的加上匹配所在的行号</span><br><span class=\"line\"> --line-buffered           刷新输出每一行</span><br><span class=\"line\"> -H, --with-filename       当搜索多个文件时，显示匹配文件名前缀</span><br><span class=\"line\"> -h, --no-filename         当搜索多个文件时，不显示匹配文件名前缀</span><br><span class=\"line\"> --label=LABEL            print LABEL as filename for standard input</span><br><span class=\"line\"> -o, --only-matching       只显示一行中匹配PATTERN 的部分</span><br><span class=\"line\"> -q, --quiet, --silent      不显示任何东西</span><br><span class=\"line\"> --binary-files=TYPE   假定二进制文件的TYPE 类型；</span><br><span class=\"line\">                                      TYPE 可以是`binary&#x27;, `text&#x27;, 或`without-match&#x27;</span><br><span class=\"line\"> -a, --text                匹配二进制的东西</span><br><span class=\"line\"> -I                        不匹配二进制的东西</span><br><span class=\"line\"> -d, --directories=ACTION  目录操作，读取，递归，跳过</span><br><span class=\"line\"> -D, --devices=ACTION      设置对设备，FIFO,管道的操作，读取，跳过</span><br><span class=\"line\"> -R, -r, --recursive       递归调用</span><br><span class=\"line\"> --include=PATTERN     只查找匹配FILE_PATTERN 的文件</span><br><span class=\"line\"> --exclude=PATTERN     跳过匹配FILE_PATTERN 的文件和目录</span><br><span class=\"line\"> --exclude-from=FILE   跳过所有除FILE 以外的文件</span><br><span class=\"line\"> -L, --files-without-match 匹配多个文件时，显示不匹配的文件名</span><br><span class=\"line\"> -l, --files-with-matches  匹配多个文件时，显示匹配的文件名</span><br><span class=\"line\"> -c, --count               显示匹配的行数</span><br><span class=\"line\"> -Z, --null                在FILE 文件最后打印空字符</span><br><span class=\"line\"></span><br><span class=\"line\">文件控制:</span><br><span class=\"line\"> -B, --before-context=NUM  打印匹配本身以及前面的几个行由NUM控制</span><br><span class=\"line\"> -A, --after-context=NUM   打印匹配本身以及随后的几个行由NUM控制</span><br><span class=\"line\"> -C, --context=NUM         打印匹配本身以及随后，前面的几个行由NUM控制</span><br><span class=\"line\"> -NUM                      根-C的用法一样的</span><br><span class=\"line\"> --color[=WHEN],</span><br><span class=\"line\"> --colour[=WHEN]       使用标志高亮匹配字串；</span><br><span class=\"line\"> </span><br><span class=\"line\"> -U, --binary               使用标志高亮匹配字串；</span><br><span class=\"line\"> -u, --unix-byte-offsets   当CR 字符不存在，报告字节偏移(MSDOS 模式)</span><br><span class=\"line\"> </span><br><span class=\"line\">规则表达式：</span><br><span class=\"line\">grep的规则表达式:</span><br><span class=\"line\"></span><br><span class=\"line\">^  #锚定行的开始 如：&#x27;^grep&#x27;匹配所有以grep开头的行。    </span><br><span class=\"line\">$  #锚定行的结束 如：&#x27;grep$&#x27;匹配所有以grep结尾的行。    </span><br><span class=\"line\">.  #匹配一个非换行符的字符 如：&#x27;gr.p&#x27;匹配gr后接一个任意字符，然后是p。    </span><br><span class=\"line\">*  #匹配零个或多个先前字符 如：&#x27;*grep&#x27;匹配所有一个或多个空格后紧跟grep的行。    </span><br><span class=\"line\">.*   #一起用代表任意字符。   </span><br><span class=\"line\">[]   #匹配一个指定范围内的字符，如&#x27;[Gg]rep&#x27;匹配Grep和grep。    </span><br><span class=\"line\">[^]  #匹配一个不在指定范围内的字符，如：&#x27;[^A-FH-Z]rep&#x27;匹配不包含A-R和T-Z的一个字母开头，紧跟rep的行。    </span><br><span class=\"line\">\\(..\\)  #标记匹配字符，如&#x27;\\(love\\)&#x27;，love被标记为1。    </span><br><span class=\"line\">\\&lt;      #锚定单词的开始，如:&#x27;\\&lt;grep&#x27;匹配包含以grep开头的单词的行。    </span><br><span class=\"line\">\\&gt;      #锚定单词的结束，如&#x27;grep\\&gt;&#x27;匹配包含以grep结尾的单词的行。    </span><br><span class=\"line\">x\\&#123;m\\&#125;  #重复字符x，m次，如：&#x27;0\\&#123;5\\&#125;&#x27;匹配包含5个o的行。    </span><br><span class=\"line\">x\\&#123;m,\\&#125;  #重复字符x,至少m次，如：&#x27;o\\&#123;5,\\&#125;&#x27;匹配至少有5个o的行。    </span><br><span class=\"line\">x\\&#123;m,n\\&#125;  #重复字符x，至少m次，不多于n次，如：&#x27;o\\&#123;5,10\\&#125;&#x27;匹配5--10个o的行。   </span><br><span class=\"line\">\\w    #匹配文字和数字字符，也就是[A-Za-z0-9]，如：&#x27;G\\w*p&#x27;匹配以G后跟零个或多个文字或数字字符，然后是p。   </span><br><span class=\"line\">\\W    #\\w的反置形式，匹配一个或多个非单词字符，如点号句号等。   </span><br><span class=\"line\">\\b    #单词锁定符，如: &#x27;\\bgrep\\b&#x27;只匹配grep。  </span><br><span class=\"line\"></span><br><span class=\"line\">POSIX字符:</span><br><span class=\"line\">为了在不同国家的字符编码中保持一至，POSIX(The Portable Operating System Interface)增加了特殊的字符类，如[:alnum:]是[A-Za-z0-9]的另一个写法。要把它们放到[]号内才能成为正则表达式，如[A- Za-z0-9]或[[:alnum:]]。在linux下的grep除fgrep外，都支持POSIX的字符类。</span><br><span class=\"line\"></span><br><span class=\"line\">[:alnum:]    #文字数字字符   </span><br><span class=\"line\">[:alpha:]    #文字字符   </span><br><span class=\"line\">[:digit:]    #数字字符   </span><br><span class=\"line\">[:graph:]    #非空字符（非空格、控制字符）   </span><br><span class=\"line\">[:lower:]    #小写字符   </span><br><span class=\"line\">[:cntrl:]    #控制字符   </span><br><span class=\"line\">[:print:]    #非空字符（包括空格）   </span><br><span class=\"line\">[:punct:]    #标点符号   </span><br><span class=\"line\">[:space:]    #所有空白字符（新行，空格，制表符）   </span><br><span class=\"line\">[:upper:]    #大写字符   </span><br><span class=\"line\">[:xdigit:]   #十六进制数字（0-9，a-f，A-F）  </span><br></pre></td></tr></table></figure>\n<h3 id=\"19-egrep\"><a href=\"#19-egrep\" class=\"headerlink\" title=\"19.egrep\"></a>19.egrep</h3><p>egrep命令用于在文件内查找指定的字符串。egrep执行效果与grep -E相似，使用的语法及参数可参照grep指令，与grep的不同点在于解读字符串的方法。egrep是用extended regular expression语法来解读的，而grep则用basic regular expression 语法解读，extended regular expression比basic regular expression的表达更规范。</p>\n<p><strong>egrep支持扩展的正则表达式</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">egrep [选项]... PATTERN [FILE]...</span><br><span class=\"line\">在每个 FILE 或是标准输入中查找 PATTERN。</span><br><span class=\"line\">PATTERN 是一个可扩展的正则表达式(缩写为 ERE)。</span><br><span class=\"line\"></span><br><span class=\"line\">例如: egrep -i &#x27;hello world&#x27; menu.h main.c</span><br></pre></td></tr></table></figure>\n<p><strong>注意</strong>: pattern如果是表达式或者超过两个单词的, 需要用引号引用. 可以是单引号也可双引号, 区别是单引号无法引用变量而双引号可以.</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在每个 FILE 或是标准输入中查找 PATTERN。</span><br><span class=\"line\">PATTERN 是一个可扩展的正则表达式(缩写为 ERE)。</span><br><span class=\"line\">例如: egrep -i &#x27;hello world&#x27; menu.h main.c</span><br><span class=\"line\"></span><br><span class=\"line\">正则表达式选择与解释:</span><br><span class=\"line\">  -e, --regexp=PATTERN      用 PATTERN 来进行匹配操作</span><br><span class=\"line\">  -f, --file=FILE           从 FILE 中取得 PATTERN</span><br><span class=\"line\">  -i, --ignore-case         忽略大小写</span><br><span class=\"line\">  -w, --word-regexp         强制 PATTERN 仅完全匹配字词</span><br><span class=\"line\">  -x, --line-regexp         强制 PATTERN 仅完全匹配一行</span><br><span class=\"line\">  -z, --null-data           一个 0 字节的数据行，但不是空行</span><br><span class=\"line\"></span><br><span class=\"line\">杂项:</span><br><span class=\"line\">  -s, --no-messages         不显示错误信息</span><br><span class=\"line\">  -v, --invert-match        选中不匹配的行</span><br><span class=\"line\">  -V, --version             显示版本信息并退出</span><br><span class=\"line\">      --help                显示此帮助并退出</span><br><span class=\"line\">      --mmap                忽略向后兼容性</span><br><span class=\"line\"></span><br><span class=\"line\">输入控制:</span><br><span class=\"line\">  -m, --max-count=NUM       匹配的最大数</span><br><span class=\"line\">  -b, --byte-offset         打印匹配行前面打印该行所在的块号码。</span><br><span class=\"line\">  -n, --line-number         显示的加上匹配所在的行号</span><br><span class=\"line\">  --line-buffered           刷新输出每一行</span><br><span class=\"line\">  -H, --with-filename       当搜索多个文件时，显示匹配文件名前缀</span><br><span class=\"line\">  -h, --no-filename         当搜索多个文件时，不显示匹配文件名前缀</span><br><span class=\"line\">  -o, --only-matching       只显示一行中匹配PATTERN 的部分</span><br><span class=\"line\">  -q, --quiet, --silent     不显示所有输出</span><br><span class=\"line\">      --binary-files=TYPE   假定二进制文件的TYPE 类型；</span><br><span class=\"line\">                            TYPE 可以是`binary&#x27;, `text&#x27;, 或`without-match&#x27;</span><br><span class=\"line\">  -a, --text                等同于 --binary-files=text</span><br><span class=\"line\">  -I                        等同于 --binary-files=without-match</span><br><span class=\"line\">  -d, --directories=ACTION  操作目录的方式；</span><br><span class=\"line\">                            ACTION 可以是`read&#x27;, `recurse&#x27;,或`skip&#x27;</span><br><span class=\"line\">  -D, --devices=ACTION      操作设备、先入先出队列、套接字的方式；</span><br><span class=\"line\">                            ACTION 可以是`read&#x27;或`skip&#x27;</span><br><span class=\"line\">  -R, -r, --recursive       等同于 --directories=recurse</span><br><span class=\"line\">      --include=FILE_PATTERN  只查找匹配FILE_PATTERN 的文件</span><br><span class=\"line\">      --exclude=FILE_PATTERN  跳过匹配FILE_PATTERN 的文件和目录</span><br><span class=\"line\">      --exclude-from=FILE   跳过所有除FILE 以外的文件</span><br><span class=\"line\">      --exclude-dir=PATTERN  跳过所有匹配PATTERN 的目录。</span><br><span class=\"line\">  -L, --files-without-match  只打印不匹配FILEs 的文件名</span><br><span class=\"line\">  -l, --files-with-matches  只打印匹配FILES 的文件名</span><br><span class=\"line\">  -c, --count               只打印每个FILE 中的匹配行数目</span><br><span class=\"line\">  -T, --initial-tab         行首tabs 分隔（如有必要）</span><br><span class=\"line\">  -Z, --null                在FILE 文件最后打印空字符</span><br><span class=\"line\"></span><br><span class=\"line\">文件控制:</span><br><span class=\"line\">  -B, --before-context=NUM  打印以文本起始的NUM 行</span><br><span class=\"line\">  -A, --after-context=NUM   打印以文本结尾的NUM 行</span><br><span class=\"line\">  -C, --context=NUM         打印输出文本NUM 行</span><br><span class=\"line\">  -NUM                      等同于 --context=NUM</span><br><span class=\"line\">      --color[=WHEN],</span><br><span class=\"line\">      --colour[=WHEN]       使用标志高亮匹配字串；</span><br><span class=\"line\">                            WHEN 可以是`always&#x27;, `never&#x27;或`auto&#x27;</span><br><span class=\"line\">  -U, --binary              不要清除行尾的CR 字符(MSDOS 模式)</span><br><span class=\"line\">  -u, --unix-byte-offsets   当CR 字符不存在，报告字节偏移(MSDOS 模式)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">不带 FILE 参数，或是 FILE 为 -，将读取标准输入。如果少于两个 FILE 参数</span><br><span class=\"line\">就要默认使用 -h 参数。如果选中任意一行，那退出状态为 0，否则为 1；</span><br><span class=\"line\">如果有错误产生，且未指定 -q 参数，那退出状态为 2。</span><br></pre></td></tr></table></figure>\n<h3 id=\"20-wc\"><a href=\"#20-wc\" class=\"headerlink\" title=\"20.wc\"></a>20.wc</h3><p>wc - 输出文件中的行数、单词数、字节数</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wc [选项列表]... [文件名列表]...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">对每个文件输出行、单词、和字节统计数，如果指定了多于一个文件则还有</span><br><span class=\"line\">个行数的总计。没有指定文件或指定的文件是 -，则读取标准输入。</span><br><span class=\"line\">-c, --bytes, --chars</span><br><span class=\"line\">\t输出字节统计数。</span><br><span class=\"line\">-l, --lines</span><br><span class=\"line\">\t输出换行符统计数。</span><br><span class=\"line\">-L, --max-line-length</span><br><span class=\"line\">\t输出最长的行的长度。</span><br><span class=\"line\">-w, --words</span><br><span class=\"line\">\t输出单词统计数。</span><br><span class=\"line\">--help </span><br><span class=\"line\">\t显示帮助并退出</span><br><span class=\"line\">--version</span><br><span class=\"line\">\t输出版本信息并退出</span><br></pre></td></tr></table></figure>\n<h3 id=\"21-sort\"><a href=\"#21-sort\" class=\"headerlink\" title=\"21.sort\"></a>21.sort</h3><p><strong>sort命令</strong>是在Linux里非常有用，它将文件进行排序，并将排序结果标准输出。sort命令既可以从特定的文件，也可以从stdin中获取输入。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：sort [选项]... [文件]...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">长选项必须使用的参数对于短选项时也是必需使用的。</span><br><span class=\"line\">排序选项：</span><br><span class=\"line\"></span><br><span class=\"line\">  -b, --ignore-leading-blanks   忽略前导的空白区域</span><br><span class=\"line\">  -d, --dictionary-order        只考虑空白区域和字母字符</span><br><span class=\"line\">  -f, --ignore-case             忽略字母大小写</span><br><span class=\"line\">  -g, --general-numeric-sort    按照常规数值排序</span><br><span class=\"line\">  -i, --ignore-nonprinting      只排序可打印字符</span><br><span class=\"line\">  -M, --month-sort              比较 (未知) &lt; &quot;一月&quot; &lt; ... &lt; &quot;十二月&quot;</span><br><span class=\"line\">                                在LC_ALL=C 时为(unknown) &lt; `JAN&#x27; &lt; ... &lt; `DEC&#x27;</span><br><span class=\"line\">  -h, --human-numeric-sort    使用易读性数字(例如： 2K 1G)</span><br><span class=\"line\">  -n, --numeric-sort            根据字符串数值比较</span><br><span class=\"line\">  -R, --random-sort             根据随机hash 排序</span><br><span class=\"line\">      --random-source=文件      从指定文件中获得随机字节</span><br><span class=\"line\">  -r, --reverse                 逆序输出排序结果</span><br><span class=\"line\">      --sort=WORD               按照WORD 指定的格式排序：</span><br><span class=\"line\">                                        一般数字-g，高可读性-h，月份-M，数字-n，</span><br><span class=\"line\">                                        随机-R，版本-V</span><br><span class=\"line\">  -V, --version-sort            在文本内进行自然版本排序</span><br><span class=\"line\"></span><br><span class=\"line\">其他选项：</span><br><span class=\"line\"></span><br><span class=\"line\">      --batch-size=NMERGE       一次最多合并NMERGE 个输入；如果输入更多</span><br><span class=\"line\">                                        则使用临时文件</span><br><span class=\"line\">  -c, --check, --check=diagnose-first   检查输入是否已排序，若已有序则不进行操作</span><br><span class=\"line\">  -C, --check=quiet, --check=silent     类似-c，但不报告第一个无序行</span><br><span class=\"line\">      --compress-program=程序   使用指定程序压缩临时文件；使用该程序</span><br><span class=\"line\">                                        的-d 参数解压缩文件</span><br><span class=\"line\">      --debug                   为用于排序的行添加注释，并将有可能有问题的</span><br><span class=\"line\">                                        用法输出到标准错误输出</span><br><span class=\"line\">      --files0-from=文件        从指定文件读取以NUL 终止的名称，如果该文件被</span><br><span class=\"line\">                                        指定为&quot;-&quot;则从标准输入读文件名</span><br><span class=\"line\">  -k, --key=位置1[,位置2]       在位置1 开始一个key，在位置2 终止(默认为行尾)</span><br><span class=\"line\">                                参看POS 语法。</span><br><span class=\"line\">  -m, --merge                   合并已排序的文件，不再进行排序</span><br><span class=\"line\">  -o, --output=文件             将结果写入到文件而非标准输出</span><br><span class=\"line\">  -s, --stable                  禁用last-resort 比较以稳定比较算法</span><br><span class=\"line\">  -S, --buffer-size=大小        指定主内存缓存大小</span><br><span class=\"line\">  -t, --field-separator=分隔符  使用指定的分隔符代替非空格到空格的转换</span><br><span class=\"line\">  -T, --temporary-directory=目录        使用指定目录而非$TMPDIR 或/tmp 作为</span><br><span class=\"line\">                                        临时目录，可用多个选项指定多个目录</span><br><span class=\"line\">      --parallel=N              将同时运行的排序数改变为N</span><br><span class=\"line\">  -u, --unique          配合-c，严格校验排序；不配合-c，则只输出一次排序结果</span><br><span class=\"line\">  -z, --zero-terminated 以0 字节而非新行作为行尾标志</span><br><span class=\"line\">      --help            显示此帮助信息并退出</span><br><span class=\"line\">      --version         显示版本信息并退出</span><br><span class=\"line\"></span><br><span class=\"line\">POS 是F[.C][OPTS]，F 代表域编号，C 是域中字母的位置，F 和C 均从1开始计数</span><br><span class=\"line\">如果没有有效的-t 或-b 选项存在，则从前导空格后开始计数字符。OPTS 是一个或多个</span><br><span class=\"line\">由单个字母表示的顺序选项，以此覆盖此key 的全局顺序设置。如果没有指定key 则</span><br><span class=\"line\">将其整个行。</span><br><span class=\"line\"></span><br><span class=\"line\">指定的大小可以使用以下单位之一：</span><br><span class=\"line\">内存使用率% 1%，b 1、K 1024 (默认)，M、G、T、P、E、Z、Y 等依此类推。</span><br><span class=\"line\"></span><br><span class=\"line\">如果不指定文件，或者文件为&quot;-&quot;，则从标准输入读取数据。</span><br></pre></td></tr></table></figure>\n<h3 id=\"22-uniq\"><a href=\"#22-uniq\" class=\"headerlink\" title=\"22.uniq\"></a>22.uniq</h3><p>uniq - 删除排序文件中的重复行</p>\n<p>uniq命令用于报告或忽略文件中的重复行，一般与sort命令结合使用。</p>\n<p>uniq命令全称是“unique”，中文释义是“独特的，唯一的”。该命令的作用是用来去除文本文件中连续的重复行，中间不能夹杂其他文本行。去除了重复的，保留的都是唯一的，也就是独特的，唯一的了。</p>\n<p>我们应当注意的是，它和sort的区别，sort只要有重复行，它就去除，而uniq重复行必须要连续，也可以用它忽略文件中的重复行。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：uniq [选项]... [文件]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">从输入文件或者标准输入中筛选相邻的匹配行并写入到输出文件或标准输出。</span><br><span class=\"line\"></span><br><span class=\"line\">不附加任何选项时匹配行将在首次出现处被合并。</span><br><span class=\"line\"></span><br><span class=\"line\">长选项必须使用的参数对于短选项时也是必需使用的。</span><br><span class=\"line\">  -c, --count           在每行前加上表示相应行目出现次数的前缀编号</span><br><span class=\"line\">  -d, --repeated        只输出重复的行</span><br><span class=\"line\">  -D, --all-repeated[=delimit-method    显示所有重复的行</span><br><span class=\"line\">                        delimit-method=&#123;none(default),prepend,separate&#125;</span><br><span class=\"line\">                        以空行为界限</span><br><span class=\"line\">  -f, --skip-fields=N   比较时跳过前N 列</span><br><span class=\"line\">  -i, --ignore-case     在比较的时候不区分大小写</span><br><span class=\"line\">  -s, --skip-chars=N    比较时跳过前N 个字符</span><br><span class=\"line\">  -u, --unique          只显示唯一的行</span><br><span class=\"line\">  -z, --zero-terminated 使用&#x27;\\0&#x27;作为行结束符，而不是新换行</span><br><span class=\"line\">  -w, --check-chars=N   对每行第N 个字符以后的内容不作对照</span><br><span class=\"line\">      --help            显示此帮助信息并退出</span><br><span class=\"line\">      --version         显示版本信息并退出</span><br><span class=\"line\"></span><br><span class=\"line\">若域中为先空字符(通常包括空格以及制表符)，然后非空字符，域中字符前的空字符将被跳过。</span><br><span class=\"line\"></span><br><span class=\"line\">提示：uniq 不会检查重复的行，除非它们是相邻的行。</span><br><span class=\"line\">如果您想先对输入排序，使用没有uniq 的&quot;sort -u&quot;。</span><br><span class=\"line\">同时，比较服从&quot;LC_COLLATE&quot; 变量所指定的规则。</span><br></pre></td></tr></table></figure>\n<h3 id=\"23-which\"><a href=\"#23-which\" class=\"headerlink\" title=\"23.which\"></a>23.which</h3><p>which 命令用于查找并显示给定命令的绝对路径，环境变量 PATH 中保存了查找命令时需要遍历的目录。which 指令会在环境变量 $PATH 设置的目录里查找符合条件的文件。也就是说，使用 which 命令，就可以看到某个系统命令是否存在，以及执行的到底是哪一个位置的命令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">which [选项] 执行文件名 […]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">查找环境变量中的文件</span><br><span class=\"line\"></span><br><span class=\"line\">-a   查找全部内容，而非第一个文件</span><br><span class=\"line\">-n   &lt;文件名长度&gt; 　指定文件名长度，指定的长度必须大于或等于所有文件中最长的文件名。 </span><br><span class=\"line\">-p   &lt;文件名长度&gt; 　与-n参数相同，但此处的&lt;文件名长度&gt;包括了文件的路径。 </span><br><span class=\"line\">-w 　指定输出时栏位的宽度。 </span><br><span class=\"line\">-V 　显示版本信息。</span><br><span class=\"line\"></span><br><span class=\"line\">--version, -[vV]\t显示版本信息并退出</span><br><span class=\"line\">--help\t显示帮助信息并退出</span><br><span class=\"line\">--skip-dot\t跳过 PATH 中以点开头的目录</span><br><span class=\"line\">--skip-tilde\t跳过 PATH 中以波形符号开头的目录</span><br><span class=\"line\">--show-dot\t不要在输出中将点扩展到当前目录</span><br><span class=\"line\">--show-tilde\t为 HOME 目录（非根目录）输出波形</span><br><span class=\"line\">--tty-only\t如果不在 tty 上，停止右边的处理选项</span><br><span class=\"line\">--all, -a\t打印 PATH 中的所有匹配项，而不仅仅是第一个</span><br><span class=\"line\">--read-alias, -i\t从 stdin 中读取别名列表</span><br><span class=\"line\">--skip-alias\t忽略选项 --read-alias；不读 stdin</span><br><span class=\"line\">--read-functions\t从 stdin 读取 shell 函数</span><br><span class=\"line\">--skip-functions\t忽略选项 --read-functions；不读 stdin</span><br></pre></td></tr></table></figure>\n<h3 id=\"24-ln\"><a href=\"#24-ln\" class=\"headerlink\" title=\"24.ln\"></a>24.ln</h3><p>ln软链接也称为符号链接，类似于 windows 里的快捷方式，有自己的数据块，主要存放 了链接其他文件的路径。 1）基本语法</p>\n<p> ln -s [原文件或目录] [软链接名] （功能描述：给原文件创建一个软链接，注意要使用绝对路径） </p>\n<p>2）经验技巧</p>\n<p>删除软链接： rm -rf 软链接名，而不是 rm -rf 软链接名/ </p>\n<p>如果使用 rm -rf 软链接名/ 删除，会把软链接对应的真实目录下内容删掉 </p>\n<p>查询：通过 ll 就可以查看，列表属性第 1 位是 l，尾部会有位置指向。</p>\n<p><a href=\"https://so.csdn.net/so/search?q=硬链接&amp;spm=1001.2101.3001.7020\">硬链接</a>（类似复制文件）</p>\n<p>1）基本语法</p>\n<p>ln [原文件或目录] [硬链接名]</p>\n<p><strong>如果文件被删除，则软链接文件失去指向，变为不可用</strong><br><strong>如果文件被删除，由于硬链接文件直接指向内容，因此不受影响</strong></p>\n<h3 id=\"25-输出重定向和-gt-gt-追加\"><a href=\"#25-输出重定向和-gt-gt-追加\" class=\"headerlink\" title=\"25.> 输出重定向和&gt;&gt;追加\"></a>25.> 输出重定向和&gt;&gt;追加</h3><p>可将本应显示在终端上的内容保存到指定文件中。</p>\n<p>如：ls &gt; test.txt ( test.txt 如果不存在，则创建，存在则覆盖其内容 )</p>\n<p>1）ls -l &gt; 文件 （功能描述：列表的内容写入文件 a.txt 中（覆盖写））</p>\n<p>2）ls -al &gt;&gt; 文件 （功能描述：列表的内容追加到文件 aa.txt 的末尾） </p>\n<p>3）cat 文件 1 &gt; 文件 2 （功能描述：将文件 1 的内容覆盖到文件 2） </p>\n<p>4）echo “内容” &gt;&gt; 文件</p>\n<p>注意： <code>&gt;输出重定向会覆盖原来的内容，&gt;&gt;输出重定向则会追加到文件的尾部。</code></p>\n<h3 id=\"26\"><a href=\"#26\" class=\"headerlink\" title=\"26.|\"></a>26.|</h3><p>管道：一个命令的输出可以通过管道做为另一个命令的输入。</p>\n<p>“ | ”的左右分为两端，从左端写入到右端。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python@ubuntu:/bin$ ll -h |more   </span><br><span class=\"line\">总用量 13M</span><br><span class=\"line\">drwxr-xr-x  2 root root  4.0K 8月   4  2016 ./</span><br><span class=\"line\">drwxr-xr-x 26 root root  4.0K 7月  30  2016 ../</span><br><span class=\"line\">-rwxr-xr-x  1 root root 1014K 6月  24  2016 bash*</span><br><span class=\"line\">-rwxr-xr-x  1 root root   31K 5月  20  2015 bunzip2*</span><br><span class=\"line\">-rwxr-xr-x  1 root root  1.9M 8月  19  2015 busybox*</span><br><span class=\"line\">-rwxr-xr-x  1 root root   31K 5月  20  2015 bzcat*</span><br><span class=\"line\">lrwxrwxrwx  1 root root     6 5月  16  2016 bzcmp -&gt; bzdiff*</span><br><span class=\"line\">-rwxr-xr-x  1 root root  2.1K 5月  20  2015 bzdiff*</span><br><span class=\"line\">lrwxrwxrwx  1 root root     6 5月  16  2016 bzegrep -&gt; bzgrep*</span><br><span class=\"line\">--更多--</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"十、-文件压缩解压命令\"><a href=\"#十、-文件压缩解压命令\" class=\"headerlink\" title=\"十、 文件压缩解压命令\"></a>十、 文件压缩解压命令</h1><h3 id=\"1-tar\"><a href=\"#1-tar\" class=\"headerlink\" title=\"1.tar\"></a>1.tar</h3><p>tar命令：用来压缩和解压文件。tar本身不具有压缩功能。他是调用压缩功能实现的</p>\n<p>tar命令可以为linux的文件和目录创建档案。利用tar，可以为某一特定文件创建档案（备份文件），也可以在档案中改变文件，或者向档案中加入新的文件。tar最初被用来在磁带上创建档案，现在，用户可以在任何设备上创建档案。利用tar命令，可以把一大堆的文件和目录全部打包成一个文件，这对于备份文件或将几个文件组合成为一个文件以便于网络传输是非常有用的。</p>\n<p>首先要弄清两个概念：打包和压缩。打包是指将一大堆文件或目录变成一个总的文件；压缩则是将一个大的文件通过一些压缩算法变成一个小文件。</p>\n<p>为什么要区分这两个概念呢？这源于Linux中很多压缩程序只能针对一个文件进行压缩，这样当你想要压缩一大堆文件时，你得先将这一大堆文件先打成一个包（tar命令），然后再用压缩程序进行压缩（bzip2和gzip命令）。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：tar 选项... 参数...</span><br></pre></td></tr></table></figure>\n<p><img src=\"/img/image-20240829160935311.png\" alt=\"image-20240829160935311\" style=\"zoom: 80%;\" /></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">主操作模式:</span><br><span class=\"line\"></span><br><span class=\"line\"> -A, --catenate, --concatenate   追加 tar 文件至归档</span><br><span class=\"line\"> -c, --create               创建一个新归档</span><br><span class=\"line\"> -d, --diff, --compare      找出归档和文件系统的差异</span><br><span class=\"line\"> --delete               从归档(非磁带！)中删除</span><br><span class=\"line\"> -r, --append               追加文件至归档结尾</span><br><span class=\"line\"> -t, --list                 列出归档内容</span><br><span class=\"line\"> --test-label           测试归档卷标并退出</span><br><span class=\"line\"> -u, --update               仅追加比归档中副本更新的文件</span><br><span class=\"line\"> -x, --extract, --get       从归档中解出文件</span><br><span class=\"line\"></span><br><span class=\"line\"> 操作修饰符:</span><br><span class=\"line\"> --check-device         当创建增量归档时检查设备号(默认)</span><br><span class=\"line\"> -g, --listed-incremental=文件处理新式的 GNU 格式的增量备份</span><br><span class=\"line\"> -G, --incremental          处理老式的 GNU 格式的增量备份</span><br><span class=\"line\"> --ignore-failed-read当遇上不可读文件时不要以非零值退出</span><br><span class=\"line\"> -n, --seek                 归档可检索</span><br><span class=\"line\"> --no-check-device      当创建增量归档时不要检查设备号</span><br><span class=\"line\"> --occurrence[=NUMBER]  仅处理归档中每个文件的第 NUMBER个事件；仅当与以下子命令 --delete,</span><br><span class=\"line\"> --diff, --extract 或是 --list中的一个联合使用时，此选项才有效。而且不管文件列表是以命令行形式给出或是通过</span><br><span class=\"line\"> -T 选项指定的；NUMBER 值默认为 1</span><br><span class=\"line\"> --sparse-version=MAJOR[.MINOR]设置所用的离散格式版本(隐含--sparse)</span><br><span class=\"line\"> -S, --sparse               高效处理离散文件</span><br><span class=\"line\"></span><br><span class=\"line\"> 重写控制:</span><br><span class=\"line\"></span><br><span class=\"line\"> -k, --keep-old-files       解压时不要替换存在的文件</span><br><span class=\"line\"> --keep-newer-files不要替换比归档中副本更新的已存在的文件</span><br><span class=\"line\"> --no-overwrite-dir     保留已存在目录的元数据</span><br><span class=\"line\"> --overwrite            解压时重写存在的文件</span><br><span class=\"line\"> --overwrite-dir解压时重写已存在目录的元数据(默认)</span><br><span class=\"line\"> --recursive-unlink     解压目录之前先清除目录层次</span><br><span class=\"line\"> --remove-files         在添加文件至归档后删除它们</span><br><span class=\"line\"> -U, --unlink-first         在解压要重写的文件之前先删除它们</span><br><span class=\"line\"> -W, --verify               在写入以后尝试校验归档</span><br><span class=\"line\"></span><br><span class=\"line\"> 选择输出流:</span><br><span class=\"line\"></span><br><span class=\"line\"> --ignore-command-error 忽略子进程的退出代码</span><br><span class=\"line\"> --no-ignore-command-error将子进程的非零退出代码认为发生错误</span><br><span class=\"line\"> -O, --to-stdout            解压文件至标准输出</span><br><span class=\"line\"> --to-command=COMMAND将解压的文件通过管道传送至另一个程序</span><br><span class=\"line\"> 操作文件属性:</span><br><span class=\"line\"></span><br><span class=\"line\"> --atime-preserve[=METHOD]在输出的文件上保留访问时间，要么通过在读取(默认</span><br><span class=\"line\"> METHOD=‘replace’)后还原时间，要不就不要在第一次(METHOD=‘system’)设置时间</span><br><span class=\"line\"> --delay-directory-restore 直到解压结束才设置修改时间和所解目录的权限</span><br><span class=\"line\"> --group=名称         强制将 NAME作为所添加的文件的组所有者</span><br><span class=\"line\"> --mode=CHANGES         强制将所添加的文件(符号)更改为权限CHANGES</span><br><span class=\"line\"> --mtime=DATE-OR-FILE   从 DATE-OR-FILE 中为添加的文件设置mtime</span><br><span class=\"line\"> -m, --touch                不要解压文件的修改时间</span><br><span class=\"line\"> --no-delay-directory-restore取消 --delay-directory-restore 选项的效果</span><br><span class=\"line\"> --no-same-owner        将文件解压为您所有</span><br><span class=\"line\"> --no-same-permissions从归档中解压权限时使用用户的掩码位(默认为普通用户服务)</span><br><span class=\"line\"> --numeric-owner        总是以数字代表用户/组的名称</span><br><span class=\"line\"> --owner=名称         强制将 NAME作为所添加的文件的所有者</span><br><span class=\"line\"> -p, --preserve-permissions, --same-permissions解压文件权限信息(默认只为超级用户服务)</span><br><span class=\"line\"> --preserve             与 -p 和 -s 一样</span><br><span class=\"line\"> --same-owner           尝试解压时保持所有者关系一致</span><br><span class=\"line\"> -s, --preserve-order, --same-order为解压至匹配归档排序名称</span><br><span class=\"line\"></span><br><span class=\"line\"> 设备选择和切换:</span><br><span class=\"line\"></span><br><span class=\"line\"> -f, --file=ARCHIVE         使用归档文件或 ARCHIVE 设备</span><br><span class=\"line\"> --force-local即使归档文件存在副本还是把它认为是本地归档</span><br><span class=\"line\"> -F, --info-script=名称, --new-volume-script=名称在每卷磁带最后运行脚本(隐含 -M)</span><br><span class=\"line\"> -L, --tape-length=NUMBER   写入 NUMBER × 1024 字节后更换磁带</span><br><span class=\"line\"> -M, --multi-volume         创建/列出/解压多卷归档文件</span><br><span class=\"line\"> --rmt-command=COMMAND  使用指定的 rmt COMMAND 代替 rmt</span><br><span class=\"line\"> --rsh-command=COMMAND  使用远程 COMMAND 代替 rsh</span><br><span class=\"line\"> --volno-file=文件    使用/更新 FILE 中的卷数</span><br><span class=\"line\"></span><br><span class=\"line\"> 设备分块:</span><br><span class=\"line\"></span><br><span class=\"line\"> -b, --blocking-factor=BLOCKS   每个记录 BLOCKS x 512 字节</span><br><span class=\"line\"> -B, --read-full-records    读取时重新分块(只对 4.2BSD 管道有效)</span><br><span class=\"line\"> -i, --ignore-zeros         忽略归档中的零字节块(即文件结尾)</span><br><span class=\"line\"> --record-size=NUMBER   每个记录的字节数 NUMBER，乘以 512</span><br><span class=\"line\"></span><br><span class=\"line\"> 选择归档格式:</span><br><span class=\"line\"></span><br><span class=\"line\"> -H, --format=FORMAT        创建指定格式的归档</span><br><span class=\"line\"></span><br><span class=\"line\"> FORMAT 是以下格式中的一种:</span><br><span class=\"line\"></span><br><span class=\"line\"> gnu                      GNU tar 1.13.x 格式</span><br><span class=\"line\"> oldgnu                   GNU 格式 as per tar &lt;= 1.12</span><br><span class=\"line\"> pax                      POSIX 1003.1-2001 (pax) 格式</span><br><span class=\"line\"> posix                    等同于 pax</span><br><span class=\"line\"> ustar                    POSIX 1003.1-1988 (ustar) 格式</span><br><span class=\"line\"> v7                       old V7 tar 格式</span><br><span class=\"line\"></span><br><span class=\"line\"> --old-archive, --portability等同于 --format=v7</span><br><span class=\"line\"> --pax-option=关键字[[:]=值][,关键字[[:]=值]]...控制 pax 关键字</span><br><span class=\"line\"> --posix                等同于 --format=posix</span><br><span class=\"line\"> -V, --label=TEXT           创建带有卷名 TEXT的归档；在列出/解压时，使用 TEXT作为卷名的模式串</span><br><span class=\"line\"></span><br><span class=\"line\"> 压缩选项:</span><br><span class=\"line\"></span><br><span class=\"line\"> -a, --auto-compress        使用归档后缀来决定压缩程序</span><br><span class=\"line\"> -I, --use-compress-program=PROG通过 PROG 过滤(必须是能接受 -d选项的程序)</span><br><span class=\"line\"> -j, --bzip2                通过 bzip2 过滤归档</span><br><span class=\"line\"> --lzma                 通过 lzma 过滤归档</span><br><span class=\"line\"> --no-auto-compress     do not use archive suffix to determine thecompression program</span><br><span class=\"line\"> -z, --gzip, --gunzip, --ungzip   通过 gzip 过滤归档</span><br><span class=\"line\"> -Z, --compress, --uncompress   通过 compress 过滤归档</span><br><span class=\"line\"></span><br><span class=\"line\"> -J, --xz                   filter the archive through xz</span><br><span class=\"line\"> --lzop                 通过 lzop 过滤归档</span><br><span class=\"line\"></span><br><span class=\"line\"> 本地文件选择:</span><br><span class=\"line\"></span><br><span class=\"line\"> --add-file=文件      添加指定的 FILE 至归档(如果名字以 -开始会很有用的)</span><br><span class=\"line\"> --backup[=CONTROL]     在删除前备份，选择 CONTROL 版本</span><br><span class=\"line\"> -C, --directory=DIR        改变至目录 DIR</span><br><span class=\"line\"> --exclude=PATTERN      排除以 PATTERN 指定的文件</span><br><span class=\"line\"> --exclude-caches       除标识文件本身外，排除包含CACHEDIR.TAG 的目录中的内容</span><br><span class=\"line\"> --exclude-caches-all   排除包含 CACHEDIR.TAG 的目录</span><br><span class=\"line\"> --exclude-caches-under 排除包含 CACHEDIR.TAG的目录中所有内容</span><br><span class=\"line\"> --exclude-tag=文件   除 FILE 自身外，排除包含 FILE的目录中的内容</span><br><span class=\"line\"> --exclude-tag-all=文件   排除包含 FILE 的目录</span><br><span class=\"line\"> --exclude-tag-under=文件   排除包含 FILE的目录中的所有内容</span><br><span class=\"line\"> --exclude-vcs          排除版本控制系统目录</span><br><span class=\"line\"> -h, --dereference跟踪符号链接；将它们所指向的文件归档并输出</span><br><span class=\"line\"> --hard-dereference 跟踪硬链接；将它们所指向的文件归档并输出</span><br><span class=\"line\"> -K, --starting-file=MEMBER-NAME从归档中的 MEMBER-NAME 成员处开始</span><br><span class=\"line\"> --newer-mtime=DATE     当只有数据改变时比较数据和时间</span><br><span class=\"line\"> --no-null              禁用上一次的效果 --null 选项</span><br><span class=\"line\"> --no-recursion         避免目录中的自动降级</span><br><span class=\"line\"> --no-unquote           不以 -T 读取的文件名作为引用结束</span><br><span class=\"line\"> --null                 -T 读取以空终止的名字，-C 禁用</span><br><span class=\"line\"> -N, --newer=DATE-OR-FILE, --after-date=DATE-OR-FILE只保存比 DATE-OR-FILE 更新的文件</span><br><span class=\"line\"> --one-file-system      创建归档时保存在本地文件系统中</span><br><span class=\"line\"> -P, --absolute-names       不要从文件名中清除引导符‘/’</span><br><span class=\"line\"> --recursion            目录递归(默认)</span><br><span class=\"line\"> --suffix=STRING        在删除前备份，除非被环境变量SIMPLE_BACKUP_SUFFIX覆盖，否则覆盖常用后缀(‘’)</span><br><span class=\"line\"> -T, --files-from=文件    从 FILE中获取文件名来解压或创建文件</span><br><span class=\"line\"> --unquote              以 -T读取的文件名作为引用结束(默认)</span><br><span class=\"line\"> -X, --exclude-from=文件  排除 FILE 中列出的模式串</span><br><span class=\"line\"></span><br><span class=\"line\"> 文件名变换:</span><br><span class=\"line\"></span><br><span class=\"line\"> --strip-components=NUMBER   解压时从文件名中清除 NUMBER个引导部分</span><br><span class=\"line\"> --transform=EXPRESSION, --xform=EXPRESSION使用 sed 代替 EXPRESSION 来进行文件名变换</span><br><span class=\"line\"></span><br><span class=\"line\"> 文件名匹配选项(同时影响排除和包括模式串):</span><br><span class=\"line\"></span><br><span class=\"line\"> --anchored             模式串匹配文件名头部</span><br><span class=\"line\"> --ignore-case          忽略大小写</span><br><span class=\"line\"> --no-anchored          模式串匹配任意‘/’后字符(默认对</span><br><span class=\"line\"> exclusion 有效)</span><br><span class=\"line\"> --no-ignore-case       匹配大小写(默认)</span><br><span class=\"line\"> --no-wildcards         逐字匹配字符串</span><br><span class=\"line\"> --no-wildcards-match-slash   通配符不匹配‘/’</span><br><span class=\"line\"> --wildcards            使用通配符(默认对 exclusion )</span><br><span class=\"line\"> --wildcards-match-slash通配符匹配‘/’(默认对排除操作有效)</span><br><span class=\"line\"></span><br><span class=\"line\"> 提示性输出:</span><br><span class=\"line\"></span><br><span class=\"line\"> --checkpoint[=NUMBER]  每隔 NUMBER个记录显示进度信息(默认为 10 个)</span><br><span class=\"line\"> --checkpoint-action=ACTION   在每个检查点上执行 ACTION</span><br><span class=\"line\"> --index-file=文件    将详细输出发送至 FILE</span><br><span class=\"line\"> -l, --check-links只要不是所有链接都被输出就打印信息</span><br><span class=\"line\"> --no-quote-chars=STRING   禁用来自 STRING 的字符引用</span><br><span class=\"line\"> --quote-chars=STRING   来自 STRING 的额外的引用字符</span><br><span class=\"line\"> --quoting-style=STYLE  设置名称引用风格；有效的 STYLE值请参阅以下说明</span><br><span class=\"line\"> -R, --block-number         每个信息都显示归档内的块数</span><br><span class=\"line\"> --show-defaults        显示 tar 默认选项</span><br><span class=\"line\"> --show-omitted-dir 列表或解压时，列出每个不匹配查找标准的目录</span><br><span class=\"line\"> --show-transformed-names, --show-stored-names显示变换后的文件名或归档名</span><br><span class=\"line\"> --totals[=SIGNAL]      处理归档后打印出总字节数；当此SIGNAL 被触发时带参数 -打印总字节数；允许的信号为:</span><br><span class=\"line\"> SIGHUP，SIGQUIT，SIGINT，SIGUSR1 和</span><br><span class=\"line\"> SIGUSR2；同时也接受不带 SIG</span><br><span class=\"line\"> 前缀的信号名称</span><br><span class=\"line\"> --utc                  以 UTC 格式打印文件修改信息</span><br><span class=\"line\"> -v, --verbose              详细地列出处理的文件</span><br><span class=\"line\"> -w, --interactive, --confirmation每次操作都要求确认</span><br><span class=\"line\"></span><br><span class=\"line\"> 兼容性选项:</span><br><span class=\"line\"></span><br><span class=\"line\"> -o                         创建归档时，相当于</span><br><span class=\"line\"> --old-archive；展开归档时，相当于</span><br><span class=\"line\"> --no-same-owner</span><br><span class=\"line\"></span><br><span class=\"line\"> 其它选项:</span><br><span class=\"line\"></span><br><span class=\"line\"> -?, --help                 显示此帮助列表</span><br><span class=\"line\"> --restrict             禁用某些潜在的有危险的选项</span><br><span class=\"line\"> --usage                显示简短的用法说明</span><br><span class=\"line\"> --version              打印程序版本</span><br><span class=\"line\"></span><br><span class=\"line\">长选项和相应短选项具有相同的强制参数或可选参数。</span><br><span class=\"line\"></span><br><span class=\"line\">除非以 --suffix 或 SIMPLE_BACKUP_SUFFIX</span><br><span class=\"line\">设置备份后缀，否则备份后缀就是“~”。</span><br><span class=\"line\">可以用 --backup 或 VERSION_CONTROL 设置版本控制，可能的值为：</span><br><span class=\"line\"></span><br><span class=\"line\"> none, off       从不做备份</span><br><span class=\"line\"> t, numbered     进行编号备份</span><br><span class=\"line\"> nil, existing</span><br><span class=\"line\">如果编号备份存在则进行编号备份，否则进行简单备份</span><br><span class=\"line\"> never, simple   总是使用简单备份</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-gzip\"><a href=\"#2-gzip\" class=\"headerlink\" title=\"2.gzip\"></a>2.gzip</h3><p>gzip命令用来压缩文件。gzip是个使用广泛的压缩程序，文件经它压缩过后，其名称后面会多处“.gz”扩展名。</p>\n<p>gzip是在Linux系统中经常使用的一个对文件进行压缩和解压缩的命令，既方便又好用。gzip不仅可以用来压缩大的、较少使用的文件以节省磁盘空间，还可以和tar命令一起构成Linux操作系统中比较流行的压缩文件格式。据统计，gzip命令对文本文件有60%～70%的压缩率。减少文件大小有两个明显的好处，一是可以减少存储空间，二是通过网络传输文件时，可以减少传输的时间。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gzip [ -acdfhlLnNrtvV19 ] [-S 后缀] [ 文件名 ...  ]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a或——ascii：使用ASCII文字模式；</span><br><span class=\"line\">-d或--decompress或----uncompress：解开压缩文件；</span><br><span class=\"line\">-f或——force：强行压缩文件。不理会文件名称或硬连接是否存在以及该文件是否为符号连接；</span><br><span class=\"line\">-h或——help：在线帮助；</span><br><span class=\"line\">-l或——list：列出压缩文件的相关信息；</span><br><span class=\"line\">-L或——license：显示版本与版权信息；</span><br><span class=\"line\">-n或--no-name：压缩文件时，不保存原来的文件名称及时间戳记；</span><br><span class=\"line\">-N或——name：压缩文件时，保存原来的文件名称及时间戳记；</span><br><span class=\"line\">-q或——quiet：不显示警告信息；</span><br><span class=\"line\">-r或——recursive：递归处理，将指定目录下的所有文件及子目录一并处理；</span><br><span class=\"line\">-S或&lt;压缩字尾字符串&gt;或----suffix&lt;压缩字尾字符串&gt;：更改压缩字尾字符串；</span><br><span class=\"line\">-t或——test：测试压缩文件是否正确无误；</span><br><span class=\"line\">-v或——verbose：显示指令执行过程；</span><br><span class=\"line\">-V或——version：显示版本信息；</span><br><span class=\"line\">-&lt;压缩效率&gt;：压缩效率是一个介于1~9的数值，预设值为“6”，指定愈大的数值，压缩效率就会愈高；</span><br><span class=\"line\">--best：此参数的效果和指定“-9”参数相同；</span><br><span class=\"line\">--fast：此参数的效果和指定“-1”参数相同。</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-gunzip\"><a href=\"#3-gunzip\" class=\"headerlink\" title=\"3.gunzip\"></a>3.gunzip</h3><p><strong>gunzip命令</strong>用来解压缩文件。gunzip是个使用广泛的解压缩程序，它用于解开被gunzip压缩过的文件，这些压缩文件预设最后的扩展名为.gz。事实上gunzip就是gzip的硬连接，因此不论是压缩或解压缩，都可通过gzip指令单独完成。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gunzip [ -acfhlLnNrtvV ] [-S 后缀] [ 文件名 ...  ]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a或——ascii：使用ASCII文字模式；</span><br><span class=\"line\">-c或--stdout或--to-stdout：把解压后的文件输出到标准输出设备；</span><br><span class=\"line\">-f或-force：强行解开压缩文件，不理会文件名称或硬连接是否存在以及该文件是否为符号连接；</span><br><span class=\"line\">-h或——help：在线帮助；</span><br><span class=\"line\">-l或——list：列出压缩文件的相关信息；</span><br><span class=\"line\">-L或——license：显示版本与版权信息；</span><br><span class=\"line\">-n或--no-name：解压缩时，若压缩文件内含有原来的文件名称及时间戳记，则将其忽略不予处理；</span><br><span class=\"line\">-N或——name：解压缩时，若压缩文件内含有原来的文件名称及时间戳记，则将其回存到解开的文件上；</span><br><span class=\"line\">-q或——quiet：不显示警告信息；</span><br><span class=\"line\">-r或——recursive：递归处理，将指定目录下的所有文件及子目录一并处理；</span><br><span class=\"line\">-S或&lt;压缩字尾字符串&gt;或----suffix&lt;压缩字尾字符串&gt;：更改压缩字尾字符串；</span><br><span class=\"line\">-t或——test：测试压缩文件是否正确无误；</span><br><span class=\"line\">-v或——verbose：显示指令执行过程；</span><br><span class=\"line\">-V或——version：显示版本信息；</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-bzip2\"><a href=\"#4-bzip2\" class=\"headerlink\" title=\"4.bzip2\"></a>4.bzip2</h3><p>Linux系统中bzip2命令的英文是“bunzip2”，即.bz2文件格式的压缩程序； bzip2命令系统默认是没有安装的，需要安装bzip2库才可以使用此命令。</p>\n<p>bzip2命令采用新的压缩演算法，压缩效果比传统的LZ77/LZ78压缩演算法来得好。若没有加上任何参数，bzip2压缩完文件后会产生.bz2的压缩文件，并删除原始的文件。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bzip2 [ -cdfkqstvzVL123456789 ] [ filenames ...  ]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-c或——stdout：将压缩与解压缩的结果送到标准输出；</span><br><span class=\"line\">-d或——decompress：执行解压缩；</span><br><span class=\"line\">-f或-force：bzip2在压缩或解压缩时，若输出文件与现有文件同名，预设不会覆盖现有文件。若要覆盖。请使用此参数；</span><br><span class=\"line\">-h或——help：在线帮助；</span><br><span class=\"line\">-k或——keep：bzip2在压缩或解压缩后，会删除原始文件。若要保留原始文件，请使用此参数；</span><br><span class=\"line\">-s或——small：降低程序执行时内存的使用量；</span><br><span class=\"line\">-t或——test：测试.bz2压缩文件的完整性；</span><br><span class=\"line\">-v或——verbose：压缩或解压缩文件时，显示详细的信息；</span><br><span class=\"line\">-z或——compress：强制执行压缩；</span><br><span class=\"line\">-V或——version：显示版本信息；</span><br><span class=\"line\">--repetitive-best：若文件中有重复出现的资料时，可利用此参数提高压缩效果；</span><br><span class=\"line\">--repetitive-fast：若文件中有重复出现的资料时，可利用此参数加快执行效果。</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-bunzip2\"><a href=\"#5-bunzip2\" class=\"headerlink\" title=\"5.bunzip2\"></a>5.bunzip2</h3><p>bunzip2命令解压缩由bzip2指令创建的”.bz2”压缩包。对文件进行压缩与解压缩。此命令类似于gzip/gunzip)”命令，只能对文件进行压缩。对于目录只能压缩目录下的所有文件，压缩完成后，在目录下生成以“.bz2”为后缀的压缩包。bunzip2其实是bzip2的符号链接，即软链接，因此压缩解压都可以通过bzip2实现。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bunzip2 [ -fkvsVL ] [ filenames ...  ]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-f或--force：解压缩时，若输出的文件与现有文件同名时，预设不会覆盖现有的文件；</span><br><span class=\"line\">-k或——keep：在解压缩后，预设会删除原来的压缩文件。若要保留压缩文件，请使用此参数；</span><br><span class=\"line\">-s或——small：降低程序执行时，内存的使用量；</span><br><span class=\"line\">-v或——verbose：解压缩文件时，显示详细的信息；</span><br><span class=\"line\">-l，--license，-V或——version：显示版本信息。</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-bzip2recover\"><a href=\"#6-bzip2recover\" class=\"headerlink\" title=\"6.bzip2recover\"></a>6.bzip2recover</h3><p><strong>bzip2recover命令</strong>用来修复损坏的.bz2文件 ， bzip2是以区块的方式来压缩文件，每个区块视为独立的单位。因此，当某一区块损坏时，便可利用bzip2recover，试着将文件中的区块隔开来，以便解压缩正常的区块。通常只适用在压缩文件很大的情况。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bzip2recover filename</span><br></pre></td></tr></table></figure>\n<p><img src=\"../img/image-20240711182844695.png\" alt=\"image-20240711182844695\"></p>\n<h3 id=\"7-zip\"><a href=\"#7-zip\" class=\"headerlink\" title=\"7.zip\"></a>7.zip</h3><p>zip 命令是一个应用广泛的跨平台的压缩工具，压缩文件的后缀为 .zip文件</p>\n<p>zip程序将一个或多个压缩文件与有关文件的信息(名称、路径、日期、上次修改的时间、保护和检查信息以验证文件完整性)一起放入一个压缩存档中。可以使用一个命令将整个目录结构打包到zip存档中。</p>\n<p>对于文本文件来说，压缩比为2：1和3：1是常见的。zip只有一种压缩方法(通缩)，并且可以在不压缩的情况下存储文件。(如果添加了bzip 2支持，zip也可以使用bzip 2压缩，但这些条目需要一个合理的现代解压缩来解压缩。当选择bzip 2压缩时，它将通货紧缩替换为默认方法。)zip会自动为每个要压缩的文件选择更好的两个文件(通缩或存储，如果选择bzip2，则选择bzip2或Store)。</p>\n<p><img src=\"/img/image-20240829141043082.png\" alt=\"image-20240829141043082\" style=\"zoom:67%;\" /></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">zip [参数] [文件]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-A：调整可执行的自动解压缩文件；</span><br><span class=\"line\">-b&lt;工作目录&gt;：指定暂时存放文件的目录；</span><br><span class=\"line\">-c：替每个被压缩的文件加上注释；</span><br><span class=\"line\">-d：从压缩文件内删除指定的文件；</span><br><span class=\"line\">-D：压缩文件内不建立目录名称；</span><br><span class=\"line\">-f：此参数的效果和指定“-u”参数类似，但不仅更新既有文件，如果某些文件原本不存在于压缩文件内，使用本参数会一并将其加入压缩文件中；</span><br><span class=\"line\">-F：尝试修复已损坏的压缩文件；</span><br><span class=\"line\">-g：将文件压缩后附加在已有的压缩文件之后，而非另行建立新的压缩文件；</span><br><span class=\"line\">-h：在线帮助；</span><br><span class=\"line\">-i&lt;范本样式&gt;：只压缩符合条件的文件；</span><br><span class=\"line\">-j：只保存文件名称及其内容，而不存放任何目录名称；</span><br><span class=\"line\">-J：删除压缩文件前面不必要的数据；</span><br><span class=\"line\">-k：使用MS-DOS兼容格式的文件名称；</span><br><span class=\"line\">-l：压缩文件时，把LF字符置换成LF+CR字符；</span><br><span class=\"line\">-ll：压缩文件时，把LF+cp字符置换成LF字符；</span><br><span class=\"line\">-L：显示版权信息；</span><br><span class=\"line\">-m：将文件压缩并加入压缩文件后，删除原始文件，即把文件移到压缩文件中；</span><br><span class=\"line\">-n&lt;字尾字符串&gt;：不压缩具有特定字尾字符串的文件；</span><br><span class=\"line\">-o：以压缩文件内拥有最新更改时间的文件为准，将压缩文件的更改时间设成和该文件相同；</span><br><span class=\"line\">-q：不显示指令执行过程；</span><br><span class=\"line\">-r：递归处理，将指定目录下的所有文件和子目录一并处理；</span><br><span class=\"line\">-S：包含系统和隐藏文件；</span><br><span class=\"line\">-t&lt;日期时间&gt;：把压缩文件的日期设成指定的日期；</span><br><span class=\"line\">-T：检查备份文件内的每个文件是否正确无误；</span><br><span class=\"line\">-u：更换较新的文件到压缩文件内；</span><br><span class=\"line\">-v：显示指令执行过程或显示版本信息；</span><br><span class=\"line\">-V：保存VMS操作系统的文件属性；</span><br><span class=\"line\">-w：在文件名称里假如版本编号，本参数仅在VMS操作系统下有效；</span><br><span class=\"line\">-x&lt;范本样式&gt;：压缩时排除符合条件的文件；</span><br><span class=\"line\">-X：不保存额外的文件属性；</span><br><span class=\"line\">-y：直接保存符号连接，而非该链接所指向的文件，本参数仅在UNIX之类的系统下有效；</span><br><span class=\"line\">-z：替压缩文件加上注释；</span><br><span class=\"line\">-$：保存第一个被压缩文件所在磁盘的卷册名称；</span><br><span class=\"line\">-&lt;压缩效率&gt;：压缩效率是一个介于1~9的数值。</span><br></pre></td></tr></table></figure>\n<h3 id=\"8-unzip\"><a href=\"#8-unzip\" class=\"headerlink\" title=\"8.unzip\"></a>8.unzip</h3><p>unzip命令用于解压缩由zip命令压缩的“.zip”压缩包。</p>\n<p>默认行为（就是没有选项）是从指定的ZIP存档中提取所有的文件到当前目录（及其下面的子目录）。一个配套程序zip（1L）创建ZIP存档；这两个程序都与PKWARE的PKZIP和PKUNZIP为MS-DOS创建的存档文件兼容，但许多情况下，程序选项或默认行为是不同的。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">unzip [-Z] [-cflptTuvz[abjnoqsCDKLMUVWX$/:^]] file[.zip] [file(s) ...] [-x xfile(s) ...] [-d exdir]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-c：将解压缩的结果显示到屏幕上，并对字符做适当的转换；</span><br><span class=\"line\">-f：更新现有的文件；</span><br><span class=\"line\">-l：显示压缩文件内所包含的文件；</span><br><span class=\"line\">-p：与-c参数类似，会将解压缩的结果显示到屏幕上，但不会执行任何的转换；</span><br><span class=\"line\">-t：检查压缩文件是否正确；</span><br><span class=\"line\">-u：与-f参数类似，但是除了更新现有的文件外，也会将压缩文件中的其他文件解压缩到目录中；</span><br><span class=\"line\">-v：执行时显示详细的信息；</span><br><span class=\"line\">-z：仅显示压缩文件的备注文字；</span><br><span class=\"line\">-a：对文本文件进行必要的字符转换；</span><br><span class=\"line\">-b：不要对文本文件进行字符转换；</span><br><span class=\"line\">-C：压缩文件中的文件名称区分大小写；</span><br><span class=\"line\">-j：不处理压缩文件中原有的目录路径；</span><br><span class=\"line\">-L：将压缩文件中的全部文件名改为小写；</span><br><span class=\"line\">-M：将输出结果送到more程序处理；</span><br><span class=\"line\">-n：解压缩时不要覆盖原有的文件；</span><br><span class=\"line\">-o：不必先询问用户，unzip执行后覆盖原有的文件；</span><br><span class=\"line\">-P&lt;密码&gt;：使用zip的密码选项；</span><br><span class=\"line\">-q：执行时不显示任何信息；</span><br><span class=\"line\">-s：将文件名中的空白字符转换为底线字符；</span><br><span class=\"line\">-V：保留VMS的文件版本信息；</span><br><span class=\"line\">-X：解压缩时同时回存文件原来的UID/GID；</span><br><span class=\"line\">-d&lt;目录&gt;：指定文件解压缩后所要存储的目录；</span><br><span class=\"line\">-x&lt;文件&gt;：指定不要处理.zip压缩文件中的哪些文件；</span><br><span class=\"line\">-Z：unzip-Z等于执行zipinfo指令。</span><br></pre></td></tr></table></figure>\n<h3 id=\"9-zipinfo\"><a href=\"#9-zipinfo\" class=\"headerlink\" title=\"9.zipinfo\"></a>9.zipinfo</h3><p><strong>zipinfo命令</strong>的全称为“zip information”，该命令用于列出压缩文件信息。执行zipinfo指令可得知zip压缩文件的详细信息。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">zipinfo [-12hlmMstTvz][压缩文件][文件...][-x &lt;范本样式&gt;]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-1：只列出文件名称；</span><br><span class=\"line\">-2：此参数的效果和指定“-1”参数类似，但可搭配“-h”，“-t”和“-z”参数使用；</span><br><span class=\"line\">-h：只列出压缩文件的文件名称；</span><br><span class=\"line\">-l：此参数的效果和指定“-m”参数类似，但会列出原始文件的大小而非每个文件的压缩率；</span><br><span class=\"line\">-m：此参数的效果和指定“-s”参数类似，但多会列出每个文件的压缩率；</span><br><span class=\"line\">-M：若信息内容超过一个画面，则采用类似more指令的方式列出信息；</span><br><span class=\"line\">-s：用类似执行“ls-l”指令的效果列出压缩文件内容；</span><br><span class=\"line\">-t：只列出压缩文件内所包含的文件数目，压缩前后的文件大小及压缩率；</span><br><span class=\"line\">-T：将压缩文件内每个文件的日期时间用年，月，日，时，分，秒的顺序列出；</span><br><span class=\"line\">-v：详细显示压缩文件内每一个文件的信息；</span><br><span class=\"line\">-x&lt;范本样式&gt;：不列出符合条件的文件的信息；</span><br><span class=\"line\">-z：如果压缩文件内含有注释，就将注释显示出来。</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"十一、信息显示命令\"><a href=\"#十一、信息显示命令\" class=\"headerlink\" title=\"十一、信息显示命令\"></a>十一、信息显示命令</h1><h3 id=\"1-uname\"><a href=\"#1-uname\" class=\"headerlink\" title=\"1.uname\"></a>1.uname</h3><p>uname命令的英文全称即“Unix name”。</p>\n<p>用于显示系统相关信息，比如主机名、内核版本号、硬件架构、操作系统类型等。</p>\n<p>如果未指定任何选项，其效果相当于执行<code>uname -s</code>命令，即显示系统内核的名字。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：uname [选项]...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输出一组系统信息。如果不跟随选项，则视为只附加-s 选项。</span><br><span class=\"line\"></span><br><span class=\"line\">  -a, --all                     以如下次序输出所有信息。其中若-p 和</span><br><span class=\"line\">                                -i 的探测结果不可知则被省略：</span><br><span class=\"line\">  -s, --kernel-name             输出内核名称</span><br><span class=\"line\">  -n, --nodename                输出网络节点上的主机名</span><br><span class=\"line\">  -r, --kernel-release          输出内核发行号</span><br><span class=\"line\">  -v, --kernel-version          输出内核版本</span><br><span class=\"line\">  -m, --machine         输出主机的硬件架构名称</span><br><span class=\"line\">  -p, --processor               输出处理器类型或&quot;unknown&quot;</span><br><span class=\"line\">  -i, --hardware-platform       输出硬件平台或&quot;unknown&quot;</span><br><span class=\"line\">  -o, --operating-system        输出操作系统名称</span><br><span class=\"line\">      --help            显示此帮助信息并退出</span><br><span class=\"line\">      --version         显示版本信息并退出</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-hostname\"><a href=\"#2-hostname\" class=\"headerlink\" title=\"2.hostname\"></a>2.hostname</h3><p>hostname命令用于显示和设置系统的主机名称。环境变量HOSTNAME也保存了当前的主机名。在使用hostname命令设置主机名后，系统并不会永久保存新的主机名，重新启动机器之后还是原来的主机名。如果需要永久修改主机名，需要同时修改/etc/hosts和/etc/sysconfig/network的相关内容。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hostname [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hostname - 用来显示或者设置当前系统的主机名，主机名被许多网络程序使用，来标识主机。</span><br><span class=\"line\"></span><br><span class=\"line\">-a,--alias</span><br><span class=\"line\">    显示主机的别名(如果使用了的话).</span><br><span class=\"line\">-d,--domain</span><br><span class=\"line\">    显示DNS域名.不要使用命令 domainname 来获得DNS域名,因为这会显示NIS域名而非DNS域名.可使用 dnsdomainname 替换之.</span><br><span class=\"line\">-F,--file filename</span><br><span class=\"line\">    从指定文件中读取主机名.注释(以一个`#&#x27;开头的行)可忽略.</span><br><span class=\"line\">-f,--fqdn,--long</span><br><span class=\"line\">    显示FQDN(完全资格域名).一个FQDN包括一个短格式主机名和DNS域名.除非你正在使用bind或 者NIS来作主机查询,否则你可以在/etc/hosts文件中修改FQDN和DNS域名(这是FQDN的一 部分).</span><br><span class=\"line\">-h,--help</span><br><span class=\"line\">    打印用法信息并退出.</span><br><span class=\"line\">-I, --all-ip-addresses all addresses for the host </span><br><span class=\"line\">    显示主机的所有地址</span><br><span class=\"line\">-i,--ip-address</span><br><span class=\"line\">    显示主机的IP地址(组).</span><br><span class=\"line\">-n,--node</span><br><span class=\"line\">    显示DECnet节点名.如果指定了参数(或者指定了 --file name ),那么root也可以设置一个新的节点名.</span><br><span class=\"line\">-s,--short</span><br><span class=\"line\">    显示短格式主机名.这是一个去掉第一个圆点后面部分的主机名.</span><br><span class=\"line\">-V,--version</span><br><span class=\"line\">    在标准输出上打印版本信息并以成功的状态退出.</span><br><span class=\"line\">-v,--verbose</span><br><span class=\"line\">    详尽说明并告知所正在执行的.</span><br><span class=\"line\">-y,--yp,--nis</span><br><span class=\"line\">    显示NIS域名.如果指定了参数(或者指定了 --file name ),那么root也可以设置一个新的NIS域.</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-uptime\"><a href=\"#3-uptime\" class=\"headerlink\" title=\"3.uptime\"></a>3.uptime</h3><p><strong>uptime命令</strong>能够打印系统总共运行了多长时间和系统的平均负载。uptime命令可以显示的信息显示依次为：现在时间、系统已经运行了多长时间、目前有多少登陆用户、系统在过去的1分钟、5分钟和15分钟内的平均负载。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">uptime [参数]</span><br></pre></td></tr></table></figure>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><strong>-p</strong></th>\n<th style=\"text-align:center\"><strong>以漂亮的格式显示机器正常运行的时间</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">-s</td>\n<td style=\"text-align:center\">系统自开始运行时间，格式为yyyy-mm-dd hh:mm:ss</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-h</td>\n<td style=\"text-align:center\">显示帮助信息</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h3 id=\"4-stat\"><a href=\"#4-stat\" class=\"headerlink\" title=\"4.stat\"></a>4.stat</h3><p>stat命令用来显示文件或文件系统的详细信息</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stat [选项]... 文件...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">显示文件或文件系统的状态。</span><br><span class=\"line\"></span><br><span class=\"line\">  -L, --dereference     跟随链接</span><br><span class=\"line\">  -f, --file-system     显示文件系统状态而非文件状态</span><br><span class=\"line\">  -c --format=格式      使用指定输出格式代替默认值，每用一次指定格式换一新行</span><br><span class=\"line\">      --printf=格式     类似 --format，但是会解释反斜杠转义符，不使用换行作</span><br><span class=\"line\">                                输出结尾。如果您仍希望使用换行，可以在格式中</span><br><span class=\"line\">                                加入&quot;\\n&quot;</span><br><span class=\"line\">  -t, --terse           使用简洁格式输出</span><br><span class=\"line\">      --help            显示此帮助信息并退出</span><br><span class=\"line\">      --version         显示版本信息并退出</span><br><span class=\"line\"></span><br><span class=\"line\">有效的文件格式序列(不使用 --file-system)：</span><br><span class=\"line\"></span><br><span class=\"line\">  %a    八进制权限</span><br><span class=\"line\">  %A   用可读性较好的方式输出权限</span><br><span class=\"line\">  %b   计算已分配块数(参见%B)</span><br><span class=\"line\">  %B   以字节为单位输出%b 所报告的每个块的大小</span><br><span class=\"line\">  %C   SELinux 安全环境字符串</span><br><span class=\"line\">  %d    十进制设备编号</span><br><span class=\"line\">  %D    十六进制设备编号</span><br><span class=\"line\">  %f    十六进制原始模式</span><br><span class=\"line\">  %F    文件类型</span><br><span class=\"line\">  %g    文件的属组ID</span><br><span class=\"line\">  %G    文件的属组组名</span><br><span class=\"line\">  %h    硬链接数量</span><br><span class=\"line\">  %i    Inode 编号</span><br><span class=\"line\">  %m    挂载点</span><br><span class=\"line\">  %n    文件名</span><br><span class=\"line\">  %N    如果对象是一个符号链接，显示引用到的其它文件名</span><br><span class=\"line\">  %o    I/O 块大小</span><br><span class=\"line\">  %s    总计大小，以字节为单位</span><br><span class=\"line\">  %t    十六进制主设备类型</span><br><span class=\"line\">  %T    十六进制子设备类型</span><br><span class=\"line\">  %u    文件的属主ID</span><br><span class=\"line\">  %U    文件的属主用户名</span><br><span class=\"line\">  %w    文件创建时间，若未知则显示&quot;-&quot;</span><br><span class=\"line\">  %W    从UNIX 元年起以秒计的文件创建时间，若未知则显示&quot;-&quot;</span><br><span class=\"line\">  %x    上次访问时间</span><br><span class=\"line\">  %X    从UNIX 元年起以秒计的上次访问时间</span><br><span class=\"line\">  %y    上次修改时间</span><br><span class=\"line\">  %Y    从UNIX 元年起以秒计的上次修改时间</span><br><span class=\"line\">  %z    上次更改时间</span><br><span class=\"line\">  %Z    从UNIX 元年起以秒计的上次更改时间</span><br><span class=\"line\"></span><br><span class=\"line\">有效的文件系统格式序列：</span><br><span class=\"line\"></span><br><span class=\"line\">  %a    非超级用户可用的剩余块数</span><br><span class=\"line\">  %b    文件系统的总数据块数</span><br><span class=\"line\">  %c    文件系统中文件节点总数</span><br><span class=\"line\">  %d    文件系统中空闲文件节点数</span><br><span class=\"line\">  %f    文件系统中空闲块数</span><br><span class=\"line\">  %i    十六进制文件系统ID</span><br><span class=\"line\">  %I    允许的文件名最大长度</span><br><span class=\"line\">  %n    文件名</span><br><span class=\"line\">  %s    块大小(用于快速传输)</span><br><span class=\"line\">  %S    基本块大小(用于块计数)</span><br><span class=\"line\">  %t    十六进制类型描述</span><br><span class=\"line\">  %T    可读性较好的类型描述</span><br><span class=\"line\"></span><br><span class=\"line\">注意：您的shell 内含自己的stat 程序版本，它会覆盖这里所提及的相应</span><br><span class=\"line\">版本。请查阅您的shell 文档获知它所支持的选项。</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"十二、用户和组管理命令\"><a href=\"#十二、用户和组管理命令\" class=\"headerlink\" title=\"十二、用户和组管理命令\"></a>十二、用户和组管理命令</h1><h3 id=\"1-su\"><a href=\"#1-su\" class=\"headerlink\" title=\"1.su\"></a>1.su</h3><p><strong>su命令</strong>用于切换当前用户身份到其他用户身份，变更时须输入所要变更的用户帐号与密码。</p>\n<p>普通用户切换到root用户，可以使用su – 或su root,但是必须输入root密码才能完成切换。root用户切换到普通用户，可以使用su username,不需要输入任何密码即可完成切换。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">su [选项] [-] [USER [参数]...]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">修改有效用户标识和组标识为USER的.</span><br><span class=\"line\"></span><br><span class=\"line\">-, -l, --login</span><br><span class=\"line\">       使得shell为可登录的shell</span><br><span class=\"line\"></span><br><span class=\"line\">-c, --commmand=COMMAND</span><br><span class=\"line\">       传递单个COMMAND给-c的shell.</span><br><span class=\"line\"></span><br><span class=\"line\">-f, --fast</span><br><span class=\"line\">       传递-f给shell(针对csh或tcsh)</span><br><span class=\"line\"></span><br><span class=\"line\">-m, --preserve-environment</span><br><span class=\"line\">       不重置环境变量</span><br><span class=\"line\"></span><br><span class=\"line\">-p     与-m同</span><br><span class=\"line\"></span><br><span class=\"line\">-s, --shell=SHELL</span><br><span class=\"line\">       如果/etc/shells允许,运行SHELL.</span><br><span class=\"line\"></span><br><span class=\"line\">--help 显示帮助并退出</span><br><span class=\"line\"></span><br><span class=\"line\">--version</span><br><span class=\"line\">       输出版本信息并退出</span><br><span class=\"line\"></span><br><span class=\"line\">单一的-意味着-l.如果没有给定USER,则假定为root.</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-sudo\"><a href=\"#2-sudo\" class=\"headerlink\" title=\"2.sudo\"></a>2.sudo</h3><p>sudo - 以其他用户身份执行一条命令</p>\n<p>sudo命令用来以其他身份来执行命令，预设的身份为root。在/etc/sudoers中设置了可执行sudo指令的用户。若其未经授权的用户企图使用sudo，则会发出警告的邮件给管理员。用户使用sudo时，必须先输入密码，之后有5分钟的有效期限，超过期限则必须重新输入密码。</p>\n<p>sudo 是一种权限管理机制，管理员可以给一些普通用户授权去执行一些 root 执行的操作，而不需要知道 root 的密码。</p>\n<p>sudo 允许一个已授权用户以超级用户或者其它用户的角色运行一个命令。当然，能做什么不能做什么都是通过安全策略来指定的。sudo 支持插件架构的安全策略，并能把输入输出写入日志。第三方可以开发并发布自己的安全策略和输入输出日志插件，并让它们无缝的和 sudo 一起工作。默认的安全策略记录在 /etc/sudoers 文件中。而安全策略可能需要用户通过密码来验证他们自己。也就是在用户执行 sudo 命令时要求用户输入自己账号的密码。如果验证失败，sudo 命令将会退出。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">usage: sudo -h | -K | -k | -V</span><br><span class=\"line\">usage: sudo -v [-AknS] [-g group] [-h host] [-p prompt] [-u user]</span><br><span class=\"line\">usage: sudo -l [-AknS] [-g group] [-h host] [-p prompt] [-U user] [-u user]</span><br><span class=\"line\">            [command]</span><br><span class=\"line\">usage: sudo [-AbEHknPS] [-r role] [-t type] [-C num] [-g group] [-h host] [-p</span><br><span class=\"line\">            prompt] [-u user] [VAR=value] [-i|-s] [&lt;command&gt;]</span><br><span class=\"line\">usage: sudo -e [-AknS] [-r role] [-t type] [-C num] [-g group] [-h host] [-p</span><br><span class=\"line\">            prompt] [-u user] file ...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项：</span><br><span class=\"line\">  -A, --askpass               使用助手程序进行密码提示</span><br><span class=\"line\">  -b, --background            在后台运行命令</span><br><span class=\"line\">  -C, --close-from=num        关闭所有 &gt;= num 的文件描述符</span><br><span class=\"line\">  -E, --preserve-env          在执行命令时保留用户环境</span><br><span class=\"line\">  -e, --edit                  编辑文件而非执行命令</span><br><span class=\"line\">  -g, --group=group           以指定的用户组或 ID 执行命令</span><br><span class=\"line\">  -H, --set-home              将 HOME 变量设为目标用户的主目录。</span><br><span class=\"line\">  -h, --help                  显示帮助消息并退出</span><br><span class=\"line\">  -h, --host=host             在主机上运行命令(如果插件支持)</span><br><span class=\"line\">  -i, --login                 以目标用户身份运行一个登录</span><br><span class=\"line\">                              shell；可同时指定一条命令</span><br><span class=\"line\">  -K, --remove-timestamp      完全移除时间戳文件</span><br><span class=\"line\">  -k, --reset-timestamp       无效的时间戳文件</span><br><span class=\"line\">  -l, --list                 </span><br><span class=\"line\">                              列出用户权限或检查某个特定命令；对于长格式，使用两次</span><br><span class=\"line\">  -n, --non-interactive       非交互模式，不提示</span><br><span class=\"line\">  -P, --preserve-groups      </span><br><span class=\"line\">                              保留组向量，而非设置为目标的组向量</span><br><span class=\"line\">  -p, --prompt=prompt         使用指定的密码提示</span><br><span class=\"line\">  -r, --role=role             以指定的角色创建 SELinux 安全环境</span><br><span class=\"line\">  -S, --stdin                 从标准输入读取密码</span><br><span class=\"line\">  -s, --shell                 以目标用户运行</span><br><span class=\"line\">                              shell；可同时指定一条命令</span><br><span class=\"line\">  -t, --type=type             以指定的类型创建 SELinux 安全环境</span><br><span class=\"line\">  -U, --other-user=user       在列表模式中显示用户的权限</span><br><span class=\"line\">  -u, --user=user             以指定用户或 ID</span><br><span class=\"line\">                              运行命令(或编辑文件)</span><br><span class=\"line\">  -V, --version               显示版本信息并退出</span><br><span class=\"line\">  -v, --validate              更新用户的时间戳而不执行命令</span><br><span class=\"line\">  --                          停止处理命令行参数</span><br></pre></td></tr></table></figure>\n<h4 id=\"sudo配置文件\"><a href=\"#sudo配置文件\" class=\"headerlink\" title=\"sudo配置文件\"></a>sudo配置文件</h4><p>sudo默认配置文件是<strong>/etc/sudoers</strong> ，一般使用<a href=\"https://so.csdn.net/so/search?q=Linux&amp;spm=1001.2101.3001.7020\">Linux</a>指定编辑工具<strong>visudo</strong> ，此工具的好处是可以进行错误检查。在添加规则不符合语法规则时，保存退出时会提示给我们错误信息；配置好后，可以用切换到您授权的普通用户下，通过<code>sudo -l</code>来查看哪些命令是可以执行的或禁止的；</p>\n<p><strong>/etc/sudoers</strong> 文件中每行是一个规则，前面带有#号可以当作是注释的内容，并不执行；如果规则很长，可以写在多列上，可以用\\号来续行。</p>\n<p><strong>/etc/sudoers</strong> 的规则可分为两类；一类是<strong>授权规则</strong>，另一类是<strong>别名定义</strong>；别名定义并不是必须的，但授权规则是必须的；</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@itcast ~]# cat /etc/sudoers</span><br><span class=\"line\">## Sudoers allows particular users to run various commands as</span><br><span class=\"line\">## the root user, without needing the root password.</span><br><span class=\"line\">##该文件允许特定用户像root用户一样使用各种各样的命令，而不需要root用户的密码 </span><br><span class=\"line\">##</span><br><span class=\"line\">## Examples are provided at the bottom of the file for collections</span><br><span class=\"line\">## of related commands, which can then be delegated out to particular</span><br><span class=\"line\">## users or groups.</span><br><span class=\"line\">## 在文件的底部提供了很多相关命令的示例以供选择，这些示例都可以被特定用户或  </span><br><span class=\"line\">## ## 用户组所使用  </span><br><span class=\"line\">## This file must be edited with the &#x27;visudo&#x27; command.</span><br><span class=\"line\">## 该文件必须使用&quot;visudo&quot;命令编辑</span><br><span class=\"line\"></span><br><span class=\"line\">## Host Aliases</span><br><span class=\"line\">#主机别名</span><br><span class=\"line\">## Groups of machines. You may prefer to use hostnames (perhap using </span><br><span class=\"line\">## wildcards for entire domains) or IP addresses instead.</span><br><span class=\"line\">## 对于一组服务器，你可能会更喜欢使用主机名（可能是全域名的通配符）</span><br><span class=\"line\">## 或IP地址代替，这时可以配置主机别名</span><br><span class=\"line\">  </span><br><span class=\"line\"># Host_Alias     FILESERVERS = fs1, fs2</span><br><span class=\"line\"># Host_Alias     MAILSERVERS = smtp, smtp2</span><br><span class=\"line\"></span><br><span class=\"line\">## User Aliases</span><br><span class=\"line\">#用户别名</span><br><span class=\"line\">## These aren&#x27;t often necessary, as you can use regular groups</span><br><span class=\"line\">## (ie, from files, LDAP, NIS, etc) in this file - just use %groupname </span><br><span class=\"line\">## rather than USERALIAS</span><br><span class=\"line\">## 这并不很常用，因为你可以通过使用组来代替一组用户的别名  </span><br><span class=\"line\"># User_Alias ADMINS = jsmith, mikem</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">## Command Aliases</span><br><span class=\"line\">## These are groups of related commands...</span><br><span class=\"line\">## 指定一系列相互关联的命令（当然可以是一个）的别名，通过赋予该别名sudo权限，  </span><br><span class=\"line\">## 可以通过sudo调用所有别名包含的命令，下面是一些示例</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">## Networking</span><br><span class=\"line\">#网络操作相关命令别名  </span><br><span class=\"line\">Cmnd_Alias NETWORKING = /sbin/route, /sbin/ifconfig, /bin/ping, /sbin/dhclient,</span><br><span class=\"line\"> /usr/bin/net, /sbin/iptables, /usr/bin/rfcomm, /usr/bin/wvdial, /sbin/iwconfig, </span><br><span class=\"line\"> /sbin/mii-tool</span><br><span class=\"line\"></span><br><span class=\"line\">## Installation and management of software</span><br><span class=\"line\">#软件安装管理相关命令别名  </span><br><span class=\"line\">Cmnd_Alias SOFTWARE = /bin/rpm, /usr/bin/up2date, /usr/bin/yum</span><br><span class=\"line\"></span><br><span class=\"line\">## Services</span><br><span class=\"line\">#服务相关命令别名 </span><br><span class=\"line\">Cmnd_Alias SERVICES = /sbin/service, /sbin/chkconfig</span><br><span class=\"line\"></span><br><span class=\"line\">## Updating the locate database</span><br><span class=\"line\">#本地数据库升级命令别名  </span><br><span class=\"line\">Cmnd_Alias LOCATE = /usr/sbin/updatedb</span><br><span class=\"line\"></span><br><span class=\"line\">## Storage</span><br><span class=\"line\">#磁盘操作相关命令别名</span><br><span class=\"line\">Cmnd_Alias STORAGE = /sbin/fdisk, /sbin/sfdisk, /sbin/parted, /sbin/partprobe, /bin/mount, /bin/umount</span><br><span class=\"line\"></span><br><span class=\"line\">## Delegating permissions</span><br><span class=\"line\">#代理权限相关命令别名 </span><br><span class=\"line\">Cmnd_Alias DELEGATING = /usr/sbin/visudo, /bin/chown, /bin/chmod, /bin/chgrp</span><br><span class=\"line\"></span><br><span class=\"line\">## Processes</span><br><span class=\"line\">#进程相关命令别名</span><br><span class=\"line\">Cmnd_Alias PROCESSES = /bin/nice, /bin/kill, /usr/bin/kill, /usr/bin/killall</span><br><span class=\"line\"></span><br><span class=\"line\">## Drivers</span><br><span class=\"line\">#驱动命令别名</span><br><span class=\"line\">Cmnd_Alias DRIVERS = /sbin/modprobe</span><br><span class=\"line\">#环境变量的相关配置</span><br><span class=\"line\"># Defaults specification</span><br><span class=\"line\"></span><br><span class=\"line\">#</span><br><span class=\"line\"># Disable &quot;ssh hostname sudo &lt;cmd&gt;&quot;, because it will show the password in clear. </span><br><span class=\"line\">#         You have to run &quot;ssh -t hostname sudo &lt;cmd&gt;&quot;.</span><br><span class=\"line\">#</span><br><span class=\"line\">Defaults    requiretty</span><br><span class=\"line\"></span><br><span class=\"line\">Defaults    env_reset</span><br><span class=\"line\">Defaults    env_keep = &quot;COLORS DISPLAY HOSTNAME HISTSIZE INPUTRC KDEDIR \\</span><br><span class=\"line\">                        LS_COLORS MAIL PS1 PS2 QTDIR USERNAME \\</span><br><span class=\"line\">                        LANG LC_ADDRESS LC_CTYPE LC_COLLATE LC_IDENTIFICATION \\</span><br><span class=\"line\">                        LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC \\</span><br><span class=\"line\">                        LC_PAPER LC_TELEPHONE LC_TIME LC_ALL LANGUAGE LINGUAS \\</span><br><span class=\"line\">                        _XKB_CHARSET XAUTHORITY&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">## Next comes the main part: which users can run what software on</span><br><span class=\"line\">## which machines (the sudoers file can be shared between multiple</span><br><span class=\"line\">## systems).</span><br><span class=\"line\">## 下面是规则配置：什么用户在哪台服务器上可以执行哪些命令（sudoers文件可以在多个系统上共享）</span><br><span class=\"line\">## Syntax:</span><br><span class=\"line\">##语法</span><br><span class=\"line\">##      user    MACHINE=COMMANDS</span><br><span class=\"line\">##  用户 登录的主机=（可以变换的身份） 可以执行的命令  </span><br><span class=\"line\">##</span><br><span class=\"line\">## The COMMANDS section may have other options added to it.</span><br><span class=\"line\">## 命令部分可以附带一些其它的选项  </span><br><span class=\"line\">##</span><br><span class=\"line\">## Allow root to run any commands anywhere </span><br><span class=\"line\">## 允许root用户执行任意路径下的任意命令 </span><br><span class=\"line\">root    ALL=(ALL)       ALL</span><br><span class=\"line\"></span><br><span class=\"line\">## Allows members of the &#x27;sys&#x27; group to run networking, software,</span><br><span class=\"line\">## service management apps and more.</span><br><span class=\"line\"># %sys ALL = NETWORKING, SOFTWARE, SERVICES, STORAGE, DELEGATING, PROCESSES, LOCATE, DRIVERS</span><br><span class=\"line\">## 允许sys中户组中的用户使用NETWORKING等所有别名中配置的命令</span><br><span class=\"line\">  </span><br><span class=\"line\">## Allows people in group wheel to run all commands</span><br><span class=\"line\"># %wheel        ALL=(ALL)       ALL</span><br><span class=\"line\">## 允许wheel用户组中的用户执行所有命令  </span><br><span class=\"line\">## Same thing without a password</span><br><span class=\"line\">## 允许wheel用户组中的用户在不输入该用户的密码的情况下使用所有命令</span><br><span class=\"line\"># %wheel        ALL=(ALL)       NOPASSWD: ALL</span><br><span class=\"line\"></span><br><span class=\"line\">## Allows members of the users group to mount and unmount the</span><br><span class=\"line\">## cdrom as root</span><br><span class=\"line\">## 允许users用户组中的用户像root用户一样使用mount、unmount、chrom命令 </span><br><span class=\"line\"># %users  ALL=/sbin/mount /mnt/cdrom, /sbin/umount /mnt/cdrom</span><br><span class=\"line\"></span><br><span class=\"line\">## Allows members of the users group to shutdown this system</span><br><span class=\"line\"># %users  localhost=/sbin/shutdown -h now</span><br><span class=\"line\">## 允许users用户组中的用户像root用户一样使用shutdown命令</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"sudo命令别名规则\"><a href=\"#sudo命令别名规则\" class=\"headerlink\" title=\"sudo命令别名规则\"></a>sudo命令别名规则</h4><p><strong>别名规则定义格式如下</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Alias_Type NAME = item1, item2, ...</span><br><span class=\"line\">或者</span><br><span class=\"line\">Alias_Type NAME = item1, item2, item3 : NAME = item4, item5</span><br></pre></td></tr></table></figure>\n<p><strong>别名类型（Alias_Type）：别名类型包括如下</strong></p>\n<ul>\n<li>Host_Alias 定义主机别名；</li>\n<li>User_Alias 用户别名，别名成员可以是用户，用户组（前面要加%号）</li>\n<li>Runas_Alias 用来定义runas别名，这个别名指定的是“目的用户”，即sudo 允许切换至的用户；</li>\n<li>Command_Alias 定义命令别名；</li>\n</ul>\n<p><strong>别名规则格式解析</strong></p>\n<p>NAME 就是别名了，NMAE的命名是包含大写字母、下划线以及数字，但必须以一个大写字母开头，比如SYNADM、SYN_ADM或SYNAD0是合法的，sYNAMDA或1SYNAD是不合法的；</p>\n<p>item 按中文翻译是项目，在这里我们可以译成成员，如果一个别名下有多个成员，成员与成员之间，通过半角逗号分隔；成员在必须是有效并事实存在的。什么是有效的呢？比如主机名，可以通过w查看用户的主机名（或ip地址），如果您只是本地机操作，只通过hostname 命令就能查看；用户名当然是在系统中存在 的，在/etc/paswd中必须存在；对于定义命令别名，成员也必须在系统中事实存在的文件名（需要绝对路径）；</p>\n<p>item成员受别名类型 Host_Alias、User_Alias、Runas_Alias、Command_Alias 制约，定义什么类型的别名，就要有什么类型的成员相配。我们用Host_Alias定义主机别名时，成员必须是与主机相关相关联，比如是主机名（包括远程登录的主机名）、ip地址（单个或整段）、掩码等； 当用户登录时，可以通过w命令来查看登录用户主机信息；用User_Alias和 Runas_Alias定义时，必须要用系统用户做为成员；用 Cmnd_Alias 定义执行命令的别名时，必须是系统存在的文件，文件名可以用通配符表示，配置Cmnd_Alias时命令需要绝对路径；</p>\n<p>其中 Runas_Alias 和User_Alias 有点相似，但与User_Alias 绝对不是同一个概念，Runas_Alias 定义的是某个系统用户可以sudo 切换身份到Runas_Alias 下的成员；我们在授权规则中以实例进行解说；</p>\n<p>别名规则是每行算一个规则，如果一个别名规则一行容不下时，可以通过\\来续行；同一类型别名的定义，一次也可以定义几个别名，他们中间用:号分隔，</p>\n<h4 id=\"sudo-设置普通用户具有-root-权限\"><a href=\"#sudo-设置普通用户具有-root-权限\" class=\"headerlink\" title=\"sudo 设置普通用户具有 root 权限\"></a>sudo 设置普通用户具有 root 权限</h4><p>1）添加 用户，并对其设置密码。</p>\n<p> [root@ ~]#useradd xxx</p>\n<p> [root@ ~]#passwd xxx</p>\n<p>2）修改配置文件 </p>\n<p>[root@ ~]#vim /etc/sudoers       修改 /etc/sudoers 文件，找到下面一行，在 root 下面添加一行，如下所示： </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## Allow root to run any commands anywhere </span><br><span class=\"line\">root ALL=(ALL) ALL root </span><br><span class=\"line\"></span><br><span class=\"line\">xxx ALL=(ALL) ALL xxx</span><br></pre></td></tr></table></figure>\n<p>或者配置成采用 sudo 命令时，不需要输入密码 </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## Allow root to run any commands anywhere </span><br><span class=\"line\">root ALL=(ALL) ALL root </span><br><span class=\"line\">xxx  ALL=(ALL) NOPASSWD:ALL </span><br></pre></td></tr></table></figure>\n<p>修改完毕，现在可以用 帐号登录，然后用命令 sudo ，即可获得 root 权限进行操作</p>\n<h3 id=\"3-useradd\"><a href=\"#3-useradd\" class=\"headerlink\" title=\"3.useradd\"></a>3.useradd</h3><p>useradd - 创建一个新用户或更新默认新用户信息</p>\n<p>useradd命令用于Linux中创建的新的系统用户。useradd可用来建立用户帐号。帐号建好之后，再用passwd设定帐号的密码．而可用userdel删除帐号。使用useradd指令所建立的帐号，实际上是保存在/etc/passwd文本文件中。</p>\n<p><strong>cat /etc/passwd 查看创建了哪些用户</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useradd [选项] 用户名</span><br><span class=\"line\">useradd -D</span><br><span class=\"line\">useradd -D [选项]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项：</span><br><span class=\"line\">  -b, --base-dir BASE_DIR       新账户的主目录的基目录</span><br><span class=\"line\">  -c, --comment COMMENT         新账户的 GECOS 字段</span><br><span class=\"line\">  -d, --home-dir HOME_DIR       新账户的主目录</span><br><span class=\"line\">  -D, --defaults                显示或更改默认的 useradd 配置</span><br><span class=\"line\"> -e, --expiredate EXPIRE_DATE  新账户的过期日期</span><br><span class=\"line\">  -f, --inactive INACTIVE       新账户的密码不活动期</span><br><span class=\"line\">  -g, --gid GROUP               新账户主组的名称或 ID</span><br><span class=\"line\">  -G, --groups GROUPS   新账户的附加组列表</span><br><span class=\"line\">  -h, --help                    显示此帮助信息并推出</span><br><span class=\"line\">  -k, --skel SKEL_DIR   使用此目录作为骨架目录</span><br><span class=\"line\">  -K, --key KEY=VALUE           不使用 /etc/login.defs 中的默认值</span><br><span class=\"line\">  -l, --no-log-init     不要将此用户添加到最近登录和登录失败数据库</span><br><span class=\"line\">  -m, --create-home     创建用户的主目录</span><br><span class=\"line\">  -M, --no-create-home          不创建用户的主目录</span><br><span class=\"line\">  -N, --no-user-group   不创建同名的组</span><br><span class=\"line\">  -o, --non-unique              允许使用重复的 UID 创建用户</span><br><span class=\"line\">  -p, --password PASSWORD               加密后的新账户密码</span><br><span class=\"line\">  -r, --system                  创建一个系统账户</span><br><span class=\"line\">  -R, --root CHROOT_DIR         chroot 到的目录</span><br><span class=\"line\">  -s, --shell SHELL             新账户的登录 shell</span><br><span class=\"line\">  -u, --uid UID                 新账户的用户 ID</span><br><span class=\"line\">  -U, --user-group              创建与用户同名的组</span><br><span class=\"line\">  -Z, --selinux-user SEUSER             为 SELinux 用户映射使用指定 SEUSER</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-userdel\"><a href=\"#4-userdel\" class=\"headerlink\" title=\"4.userdel\"></a>4.userdel</h3><p>userdel - 删除用户账户和相关文件</p>\n<p>userdel命令用于删除指定的用户及与该用户相关的文件，英文全称即“user delete”。其实userdel命令实际上是修改了系统的用户账号文件 /etc/passwd、/etc/shadow以及/etc/group文件。这与Linux系统”一切操作皆文件”的思想正好吻合。</p>\n<p>值得注意的是，但是如果有该要删除用户相关的进程正在运行，userdel命令通常不会删除一个用户账号。如果确实必须要删除，可以先终止用户进程，然后再执行userdel命令进行删除。但是userdel命令也提供了一个面对该种情况的参数，即”-f”选项。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">userdel [选项] 用户名</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项：</span><br><span class=\"line\">  -f, --force                   force some actions that would fail otherwise</span><br><span class=\"line\">                                e.g. removal of user still logged in</span><br><span class=\"line\">                                or files, even if not owned by the user</span><br><span class=\"line\">  -h, --help                    显示此帮助信息并推出</span><br><span class=\"line\">  -r, --remove                  删除主目录和邮件池</span><br><span class=\"line\">  -R, --root CHROOT_DIR         chroot 到的目录</span><br><span class=\"line\">  -Z, --selinux-user            为用户删除所有的 SELinux 用户映射</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-passwd\"><a href=\"#5-passwd\" class=\"headerlink\" title=\"5.passwd\"></a>5.passwd</h3><p><strong>passwd命令</strong>用于设置用户的认证信息，包括用户密码、账户锁定、密码失效等。直接运行passwd命令修改当前的用户密码，对其他用户的密码操作需要管理员权限。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法: passwd [选项...] &lt;帐号名称&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  -k, --keep-tokens       保持身份验证令牌不过期</span><br><span class=\"line\">  -d, --delete            删除已命名帐号的密码(只有根用户才能进行此操作)</span><br><span class=\"line\">  -l, --lock              锁定指名帐户的密码(仅限 root 用户)</span><br><span class=\"line\">  -u, --unlock            解锁指名账户的密码(仅限 root 用户)</span><br><span class=\"line\">  -e, --expire            终止指名帐户的密码(仅限 root 用户)</span><br><span class=\"line\">  -f, --force             强制执行操作</span><br><span class=\"line\">  -x, --maximum=DAYS      密码的最长有效时限(只有根用户才能进行此操作)</span><br><span class=\"line\">  -n, --minimum=DAYS      密码的最短有效时限(只有根用户才能进行此操作)</span><br><span class=\"line\">  -w, --warning=DAYS      在密码过期前多少天开始提醒用户(只有根用户才能进行此操作)</span><br><span class=\"line\">  -i, --inactive=DAYS     当密码过期后经过多少天该帐号会被禁用(只有根用户才能进行此操作)</span><br><span class=\"line\">  -S, --status            报告已命名帐号的密码状态(只有根用户才能进行此操作)</span><br><span class=\"line\">  --stdin                 从标准输入读取令牌(只有根用户才能进行此操作)</span><br><span class=\"line\"></span><br><span class=\"line\">Help options:</span><br><span class=\"line\">  -?, --help              Show this help message</span><br><span class=\"line\">  --usage                 Display brief usage message</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-usermod\"><a href=\"#6-usermod\" class=\"headerlink\" title=\"6.usermod\"></a>6.usermod</h3><p>usermod命令用于修改用户账号 。usermod可用来修改用户账号的各项设定，修改系统账号文件来反映通过命令行指定的变化。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：usermod [选项] 用户名</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项：</span><br><span class=\"line\">  -c, --comment 注释            GECOS 字段的新值</span><br><span class=\"line\">  -d, --home HOME_DIR           用户的新主目录</span><br><span class=\"line\">  -e, --expiredate EXPIRE_DATE  设定帐户过期的日期为 EXPIRE_DATE</span><br><span class=\"line\">  -f, --inactive INACTIVE       过期 INACTIVE 天数后，设定密码为失效状态</span><br><span class=\"line\">  -g, --gid GROUP               强制使用 GROUP 为新主组</span><br><span class=\"line\">  -G, --groups GROUPS           新的附加组列表 GROUPS</span><br><span class=\"line\">  -a, --append GROUP            将用户追加至上边 -G 中提到的附加组中，</span><br><span class=\"line\">                                并不从其它组中删除此用户</span><br><span class=\"line\">  -h, --help                    显示此帮助信息并推出</span><br><span class=\"line\">  -l, --login LOGIN             新的登录名称</span><br><span class=\"line\">  -L, --lock                    锁定用户帐号</span><br><span class=\"line\">  -m, --move-home               将家目录内容移至新位置 (仅于 -d 一起使用)</span><br><span class=\"line\">  -o, --non-unique              允许使用重复的(非唯一的) UID</span><br><span class=\"line\">  -p, --password PASSWORD       将加密过的密码 (PASSWORD) 设为新密码</span><br><span class=\"line\">  -R, --root CHROOT_DIR         chroot 到的目录</span><br><span class=\"line\">  -s, --shell SHELL             该用户帐号的新登录 shell</span><br><span class=\"line\">  -u, --uid UID                 用户帐号的新 UID</span><br><span class=\"line\">  -U, --unlock                  解锁用户帐号</span><br><span class=\"line\">  -Z, --selinux-user  SEUSER       用户账户的新 SELinux 用户映射</span><br></pre></td></tr></table></figure>\n<h3 id=\"7-groupadd\"><a href=\"#7-groupadd\" class=\"headerlink\" title=\"7.groupadd\"></a>7.groupadd</h3><p>groupadd - 创建一个新组</p>\n<p><strong>groupadd命令</strong>用于创建一个新的工作组，新工作组的信息将被添加到系统文件中。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">groupadd [选项] group</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项:</span><br><span class=\"line\">  -f, --force           如果组已经存在则成功退出</span><br><span class=\"line\">                        并且如果 GID 已经存在则取消 -g</span><br><span class=\"line\">  -g, --gid GID                 为新组使用 GID</span><br><span class=\"line\">  -h, --help                    显示此帮助信息并推出</span><br><span class=\"line\">  -K, --key KEY=VALUE           不使用 /etc/login.defs 中的默认值</span><br><span class=\"line\">  -o, --non-unique              允许创建有重复 GID 的组</span><br><span class=\"line\">  -p, --password PASSWORD       为新组使用此加密过的密码</span><br><span class=\"line\">  -r, --system                  创建一个系统账户</span><br><span class=\"line\">  -R, --root CHROOT_DIR         chroot 到的目录</span><br></pre></td></tr></table></figure>\n<h3 id=\"8-groupdel\"><a href=\"#8-groupdel\" class=\"headerlink\" title=\"8.groupdel\"></a>8.groupdel</h3><p>groupdel - 删除一个组</p>\n<p>groupdel命令用于删除指定的工作组，本命令要修改的系统文件包括/ect/group和/ect/gshadow。</p>\n<p>userdel修改系统账户文件，删除与 GROUP 相关的所有项目。给出的组名必须存在。若该群组中仍包括某些用户，则必须先删除这些用户后，方能删除群组。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：groupdel [选项] 组</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项:</span><br><span class=\"line\">  -h, --help                    显示此帮助信息并推出</span><br><span class=\"line\">  -R, --root CHROOT_DIR         chroot 到的目录</span><br></pre></td></tr></table></figure>\n<h3 id=\"9-groupmod\"><a href=\"#9-groupmod\" class=\"headerlink\" title=\"9.groupmod\"></a>9.groupmod</h3><p><strong>groupmod命令</strong>更改群组识别码或名称。需要更改群组的识别码或名称时，可用groupmod指令来完成这项工作。</p>\n<p>不过大家还是要注意，用户名不要随意修改，组名和 GID 也不要随意修改，因为非常容易导致管理员逻辑混乱。如果非要修改用户名或组名，则建议大家先删除旧的，再建立新的。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：groupmod [选项] 组</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项:</span><br><span class=\"line\">  -g, --gid GID                 将组 ID 改为 GID</span><br><span class=\"line\">  -h, --help                    显示此帮助信息并推出</span><br><span class=\"line\">  -n, --new-name NEW_GROUP      改名为 NEW_GROUP</span><br><span class=\"line\">  -o, --non-unique              允许使用重复的 GID</span><br><span class=\"line\">  -p, --password PASSWORD       将密码更改为(加密过的) PASSWORD</span><br><span class=\"line\">  -R, --root CHROOT_DIR         chroot 到的目录</span><br></pre></td></tr></table></figure>\n<h3 id=\"10-gpasswd\"><a href=\"#10-gpasswd\" class=\"headerlink\" title=\"10.gpasswd\"></a>10.gpasswd</h3><p>gpasswd命令是Linux下工作组文件/etc/group和/etc/gshadow管理工具。</p>\n<p>gpasswd命令是Linux下工作组文件/etc/group和/etc/gshadow的管理工具 ，系统管理员可以使用-a选项定义组管理员，使用-m选项定义成员，由组管理员用组名调用的gpasswd只提示输入组的新密码。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：gpasswd [选项] 组</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项：</span><br><span class=\"line\">  -a, --add USER                向组 GROUP 中添加用户 USER</span><br><span class=\"line\">  -d, --delete USER             从组 GROUP 中添加或删除用户</span><br><span class=\"line\">  -h, --help                    显示此帮助信息并推出</span><br><span class=\"line\">  -Q, --root CHROOT_DIR         要 chroot 进的目录</span><br><span class=\"line\">  -r, --delete-password         remove the GROUP&#x27;s password</span><br><span class=\"line\">  -R, --restrict                向其成员限制访问组 GROUP</span><br><span class=\"line\">  -M, --members USER,...        设置组 GROUP 的成员列表</span><br><span class=\"line\">  -A, --administrators ADMIN,...        设置组的管理员列表</span><br><span class=\"line\">除非使用 -A 或 -M 选项，不能结合使用这些选项。</span><br></pre></td></tr></table></figure>\n<h3 id=\"11-newgrp\"><a href=\"#11-newgrp\" class=\"headerlink\" title=\"11.newgrp\"></a>11.newgrp</h3><p>newgrp - 登录到一个新组</p>\n<p>newgrp命令类的英文全称为“new group”,该命令类似login指令，当它是以相同的帐号，另一个群组名称，再次登入系统。欲使用newgrp指令切换群组，您必须是该群组的用户，否则将无法登入指定的群组。</p>\n<p>单一用户要同时隶属多个群组，需利用交替用户的设置。若不指定群组名称，则newgrp指令会登入该用户名称的预设群组。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：newgrp [-] [用户组名]</span><br></pre></td></tr></table></figure>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><strong>–help</strong></th>\n<th style=\"text-align:center\"><strong>在线帮助</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">–vesion</td>\n<td style=\"text-align:center\">显示版本信息</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h3 id=\"12-chage\"><a href=\"#12-chage\" class=\"headerlink\" title=\"12.chage\"></a>12.chage</h3><p>chage - 更改用户密码过期信息</p>\n<p>chage命令是用来修改帐号和密码的有效期限；这个信息由系统用于确定用户何时必须更改其密码。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：chage [选项] 登录名</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项：</span><br><span class=\"line\">  -d, --lastday 最近日期        将最近一次密码设置时间设为“最近日期”</span><br><span class=\"line\">  -E, --expiredate 过期日期     将帐户过期时间设为“过期日期”</span><br><span class=\"line\">  -h, --help                    显示此帮助信息并推出</span><br><span class=\"line\">  -I, --inactive INACITVE       过期 INACTIVE 天数后，设定密码为失效状态</span><br><span class=\"line\">  -l, --list                    显示帐户年龄信息</span><br><span class=\"line\">  -m, --mindays 最小天数        将两次改变密码之间相距的最小天数设为“最小天数”</span><br><span class=\"line\">  -M, --maxdays 最大天数        将两次改变密码之间相距的最大天数设为“最大天数”</span><br><span class=\"line\">  -R, --root CHROOT_DIR         chroot 到的目录</span><br><span class=\"line\">  -W, --warndays 警告天数       将过期警告天数设为“警告天数”</span><br></pre></td></tr></table></figure>\n<h3 id=\"13-groups\"><a href=\"#13-groups\" class=\"headerlink\" title=\"13.groups\"></a>13.groups</h3><p>groups - 显示用户所在的组</p>\n<p><strong>groups命令</strong>在标准输入输出上输出指定用户所在组的组成员，每个用户属于<code>/etc/passwd</code>中指定的一个组和在<code>/etc/group</code>中指定的其他组。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：groups [选项]... [用户名]...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">显示每个输入的用户名所在的全部组，如果没有指定用户名则默认为当前进程用户(当用户组数据库发生变更时可能导致差异)。</span><br><span class=\"line\"></span><br><span class=\"line\">      --help            显示此帮助信息并退出</span><br><span class=\"line\">      --version         显示版本信息并退出</span><br></pre></td></tr></table></figure>\n<h3 id=\"14-who\"><a href=\"#14-who\" class=\"headerlink\" title=\"14.who\"></a>14.who</h3><p><strong>who命令</strong>用来打印当前登录用户信息，包含了系统的启动时间 、 活动进程 、 使用者 ID、使用终端等信息，是系统管理员了解系统运行状态的常用命令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：who [选项]... [ 文件 | 参数1 参数2 ]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">显示当前已登录的用户信息。</span><br><span class=\"line\"></span><br><span class=\"line\">  -a, --all             等于-b -d --login -p -r -t -T -u 选项的组合</span><br><span class=\"line\">  -b, --boot            上次系统启动时间</span><br><span class=\"line\">  -d, --dead            显示已死的进程</span><br><span class=\"line\">  -H, --heading 输出头部的标题列</span><br><span class=\"line\">  -l，--login           显示系统登录进程</span><br><span class=\"line\">      --lookup          尝试通过 DNS 查验主机名</span><br><span class=\"line\">  -m                    只面对和标准输入有直接交互的主机和用户</span><br><span class=\"line\">  -p, --process 显示由 init 进程衍生的活动进程</span><br><span class=\"line\">  -q, --count           列出所有已登录用户的登录名与用户数量</span><br><span class=\"line\">  -r, --runlevel        显示当前的运行级别</span><br><span class=\"line\">  -s, --short           只显示名称、线路和时间(默认)</span><br><span class=\"line\">  -T, -w, --mesg        用+，- 或 ? 标注用户消息状态</span><br><span class=\"line\">  -u, --users           列出已登录的用户</span><br><span class=\"line\">      --message 等于-T</span><br><span class=\"line\">      --writable        等于-T</span><br><span class=\"line\">      --help            显示此帮助信息并退出</span><br><span class=\"line\">      --version         显示版本信息并退出</span><br></pre></td></tr></table></figure>\n<h3 id=\"15-w\"><a href=\"#15-w\" class=\"headerlink\" title=\"15.w\"></a>15.w</h3><p>w - 显示已经登录的用户以及他们在做什么</p>\n<p><strong>w命令</strong>用于显示已经登陆系统的用户列表，并显示用户正在执行的指令。执行这个命令可得知目前登入系统的用户有那些人，以及他们正在执行的程序。单独执行w命令会显示所有的用户，您也可指定用户名称，仅显示某位用户的相关信息。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">w - [husfV] [user]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-h：不打印头信息；</span><br><span class=\"line\">-u：当显示当前进程和cpu时间时忽略用户名；</span><br><span class=\"line\">-s：使用短输出格式；</span><br><span class=\"line\">-f：显示用户从哪登录；</span><br><span class=\"line\">-V：显示版本信息。</span><br></pre></td></tr></table></figure>\n<h3 id=\"16-last\"><a href=\"#16-last\" class=\"headerlink\" title=\"16.last\"></a>16.last</h3><p>last命令用于显示用户最近登录信息。单独执行last命令，它会读取/var/log/wtmp的文件，并把该给文件的内容记录的登入系统的用户名单全部显示出来。</p>\n<p>last命令的作用是显示近期用户或终端的登录情况，通过查看系统记录的日志文件内容，进而使管理员可以获知谁曾经或者企图连接系统。</p>\n<p>执行last命令时，它会读取/var/log目录下名称为wtmp的文件，并把该文件记录的登录系统或终端的用户名单全部显示出来。默认显示wtmp的记录，btmp能显示的更详细，可以显示远程登录，例如ssh登录。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">last [-R] [-num] [ -n num ] [-adiox] [ -f file ] [name...]  [tty...]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a：把从何处登入系统的主机名称或ip地址，显示在最后一行；</span><br><span class=\"line\">-d：将IP地址转换成主机名称；</span><br><span class=\"line\">-f &lt;记录文件&gt;：指定记录文件。</span><br><span class=\"line\">-n &lt;显示列数&gt;或-&lt;显示列数&gt;：设置列出名单的显示列数；</span><br><span class=\"line\">-R：不显示登入系统的主机名称或IP地址；</span><br><span class=\"line\">-x：显示系统关机，重新开机，以及执行等级的改变等信息。</span><br></pre></td></tr></table></figure>\n<h3 id=\"17-lastlog\"><a href=\"#17-lastlog\" class=\"headerlink\" title=\"17.lastlog\"></a>17.<strong>lastlog</strong></h3><p>lastlog命令用于显示系统中所有用户最近一次登录信息。</p>\n<p>lastlog文件在每次有用户登录时被查询。可以使用lastlog命令检查某特定用户上次登录的时间，并格式化输出上次登录日志/var/log/lastlog的内容。它根据UID排序显示登录名、端口号（tty）和上次登录时间。如果一个用户从未登录过，lastlog显示<strong>Never logged</strong>。注意需要以root身份运行该命令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：lastlog [选项]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项：</span><br><span class=\"line\">  -b, --before DAYS             仅打印早于 DAYS 的最近登录记录</span><br><span class=\"line\">  -C, --clear                   clear lastlog record of an user (usable only with -u)</span><br><span class=\"line\">  -h, --help                    显示此帮助信息并推出</span><br><span class=\"line\">  -R, --root CHROOT_DIR         chroot 到的目录</span><br><span class=\"line\">  -S, --set                     set lastlog record to current time (usable only with -u)</span><br><span class=\"line\">  -t, --time DAYS               仅打印晚于 DAYS 的最近登录记录</span><br><span class=\"line\">  -u, --user LOGIN              打印 LOGIN 用户的最近登录记录</span><br></pre></td></tr></table></figure>\n<h3 id=\"18-users\"><a href=\"#18-users\" class=\"headerlink\" title=\"18.users\"></a>18.users</h3><p><strong>users命令</strong>用于显示当前登录系统的所有用户的用户列表。每个显示的用户名对应一个登录会话。如果一个用户有不止一个登录会话，那他的用户名将显示相同的次数。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：users [选项]... [文件]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">根据文件判断输出当前有谁正登录在系统上。</span><br><span class=\"line\">如果文件未予指定，则使用/var/run/utmp，/var/log/wtmp 是通用的相关文件。</span><br><span class=\"line\"></span><br><span class=\"line\">      --help            显示此帮助信息并退出</span><br><span class=\"line\">      --version         显示版本信息并退出</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"十三、权限命令\"><a href=\"#十三、权限命令\" class=\"headerlink\" title=\"十三、权限命令\"></a>十三、权限命令</h1><h3 id=\"1-chmod\"><a href=\"#1-chmod\" class=\"headerlink\" title=\"1.chmod**\"></a>1.chmod**</h3><p>chmod - 改变文件的访问权限</p>\n<p>chmod命令的英文原意是“change the permissions mode of a file”，我们简称为“change mode”，意为用来改变文件或目录权限的命令，但是只有文件的属主和超级用户root才能执行这个命令。有两种模式，一种是采用权限字母和操作符表达式；另一种是采用数字。</p>\n<p><strong>文件属性</strong> </p>\n<p>Linux系统是一种典型的多用户系统，不同的用户处于不同的地位，拥有不同的权限。 为了保护系统的安全性，Linux系统对不同的用户访问同一文件（包括目录文件）的权限做 了不同的规定。在Linux中我们可以使用ll或者ls -l命令来显示一个文件的属性以及文件所属 的用户和组。</p>\n<p><img src=\"../img/image-20240828154516230.png\" alt=\"image-20240828154516230\"></p>\n<p><img src=\"/img/image-20240828154103276.png\" alt=\"image-20240828154103276\" style=\"zoom:67%;\" /></p>\n<p><img src=\"/img/image-20240828154046348.png\" alt=\"image-20240828154046348\" style=\"zoom:67%;\" /></p>\n<p><img src=\"../img/7da5a8288cfb2d26b70da16da71b36e8.png\" alt=\"img\"></p>\n<p>如果没有权限，就会出现减号[ - ]而已。从左至右用0-9这些数字来表示:</p>\n<p> （1）0 首位表示类型 在Linux中第一个字符代表这个文件是目录、文件或链接文件等等 - 代表文件 d 代表目录 l 链接文档(link file)； </p>\n<ul>\n<li>“d” 代表文件夹</li>\n<li>“-” 代表普通文件</li>\n<li>“c” 代表硬件字符设备</li>\n<li>“b” 代表硬件块设备</li>\n<li>“s”表示管道文件</li>\n<li>“l” 代表软链接文件。</li>\n</ul>\n<p>后9个字母分别代表三组权限：文件所有者、用户组、其他用户拥有的权限。</p>\n<p>（2）第1-3位确定属主（该文件的所有者）拥有该文件的权限。—-User </p>\n<p>（3）第4-6位确定属组（所有者的同组用户）拥有该文件的权限，—-Group </p>\n<p>（4）第7-9位确定其他用户拥有该文件的权限 —-Other</p>\n<p><strong>rwx 作用文件和目录的不同解释</strong> </p>\n<p>（1）作用到文件：</p>\n<p>[ r ]代表可读(read): 可以读取，查看 </p>\n<p>[ w ]代表可写(write): 可以修改，但是不代表可以删除该文件，删除一个文件的前 提条件是对该文件所在的目录有写权限，才能删除该文件</p>\n<p>[ x ]代表可执行(execute):可以被系统执行 </p>\n<p>（2）作用到目录： </p>\n<p>[ r ]代表可读(read): 可以读取，ls查看目录内容 </p>\n<p>[ w ]代表可写(write): 可以修改，目录内创建+删除+重命名目录 </p>\n<p>[ x ]代表可执行(execute):可以进入该目录</p>\n<p><strong>chmod 改变权限</strong></p>\n<p> 1）基本语法</p>\n<p><img src=\"/img/image-20240828164407747.png\" alt=\"image-20240828164407747\" style=\"zoom: 80%;\" /></p>\n<p><strong>权限范围的表示法如下：</strong></p>\n<p>u   User，即文件或目录的拥有者；<br>g   Group，即文件或目录的所属群组；<br>o   Other，除了文件或目录拥有者或所属群组之外，其他用户皆属于这个范围；<br>a   All，即全部的用户，包含拥有者，所属群组以及其他用户；<br>r   读取权限，数字代号为“4”;<br>w   写入权限，数字代号为“2”；<br>x   执行或切换权限，数字代号为“1”；</p>\n<p>“-“ 不具任何权限，数字代号为“0”；<br>s   特殊功能说明：变更文件或目录的权限。</p>\n<p>第一种方式变更权限 </p>\n<p>chmod [{ugoa}{+-=}{rwx}] 文件或目录 </p>\n<p>第二种方式变更权限 </p>\n<p>chmod [mode=421 ] [文件或目录] </p>\n<p><strong>权限进制表示</strong></p>\n<p><img src=\"../img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kZW5namluLmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-17208389061342.png\" alt=\"在这里插入图片描述\"></p>\n<p>2）经验技巧 u:所有者 g:所有组 o:其他人 a:所有人(u、g、o 的总和)</p>\n<p>r=4 w=2 x=1    rwx=4+2+1=7</p>\n<pre><code>-rw------- (600)      只有拥有者有读写权限。\n-rw-r--r-- (644)      只有拥有者有读写权限；而属组用户和其他用户只有读权限。\n-rwx------ (700)     只有拥有者有读、写、执行权限。\n-rwxr-xr-x (755)    拥有者有读、写、执行权限；而属组用户和其他用户只有读、执行权限。\n-rwx--x--x (711)    拥有者有读、写、执行权限；而属组用户和其他用户只有执行权限。\n-rw-rw-rw- (666)   所有用户都有文件读、写权限。\n-rwxrwxrwx (777)  所有用户都有读、写、执行权限。\n</code></pre><p><strong>权限设定</strong></p>\n<p>增加权限<br>取消权限 =<br>唯一设定权限</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：chmod [选项]... 模式[,模式]... 文件...</span><br><span class=\"line\">　或：chmod [选项]... 八进制模式 文件...</span><br><span class=\"line\">　或：chmod [选项]... --reference=参考文件 文件...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">将每个文件的模式更改为指定值。</span><br><span class=\"line\"></span><br><span class=\"line\">  -c, --changes         类似 --verbose，但只在有更改时才显示结果</span><br><span class=\"line\">      --no-preserve-root        不特殊对待根目录(默认)</span><br><span class=\"line\">      --preserve-root           禁止对根目录进行递归操作</span><br><span class=\"line\">  -f, --silent, --quiet 去除大部份的错误信息</span><br><span class=\"line\">  -v, --verbose         为处理的所有文件显示诊断信息</span><br><span class=\"line\">      --reference=参考文件      使用指定参考文件的模式，而非自行指定权限模式</span><br><span class=\"line\">  -R, --recursive               以递归方式更改所有的文件及子目录</span><br><span class=\"line\">      --help            显示此帮助信息并退出</span><br><span class=\"line\">      --version         显示版本信息并退出</span><br><span class=\"line\"></span><br><span class=\"line\">每种 MODE 都应属于这类形式&quot;[ugoa]*([-+=]([rwxXst]*|[ugo]))+&quot;。</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-chown\"><a href=\"#3-chown\" class=\"headerlink\" title=\"3.chown\"></a>3.chown</h3><p>chown - 修改文件所有者和所属组</p>\n<p>Linux/Unix 属于多用户多任务操作系统，所有的文件皆有拥有者。利用 chown 命令可以将指定文件的拥有者改为指定的用户或组，用户可以是用户名或者用户ID，组可以是组名或者组ID，文件是以空格分开的要改变权限的文件列表，支持通配符。 一般来说，这个指令仅限系统管理者(root)所使用，普通用户没有权限改变文件所属者及所属组。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：chown [选项]... [所有者][:[组]] 文件...</span><br><span class=\"line\">　或：chown [选项]... --reference=参考文件 文件...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">当使用 --referebce 参数时，将文件的所有者和所属组更改为与指定参考文件相同。</span><br><span class=\"line\"></span><br><span class=\"line\">  -c, --changes                 类似 verbose，但只在有更改时才显示结果</span><br><span class=\"line\">      --dereference             受影响的是符号链接所指示的对象，而非符号链接本身</span><br><span class=\"line\">  -h, --no-dereference          会影响符号链接本身，而非符号链接所指示的目的地</span><br><span class=\"line\">                                (当系统支持更改符号链接的所有者时，此选项才有用)</span><br><span class=\"line\">      --from=当前所有者:当前所属组</span><br><span class=\"line\">                                只当每个文件的所有者和组符合选项所指定时才更改所</span><br><span class=\"line\">                                有者和组。其中一个可以省略，这时已省略的属性就不</span><br><span class=\"line\">                                需要符合原有的属性。</span><br><span class=\"line\">      --no-preserve-root        不特殊对待&quot;/&quot;(默认值)</span><br><span class=\"line\">      --preserve-root           不允许在&quot;/&quot;上递归操作</span><br><span class=\"line\">  -f, --silent, --quiet 去除大部份的错误信息</span><br><span class=\"line\">      --reference=参考文件      使用参考文件的所属组，而非指定值</span><br><span class=\"line\">  -R, --recursive               递归处理所有的文件及子目录</span><br><span class=\"line\">  -v, --verbose                 为处理的所有文件显示诊断信息</span><br><span class=\"line\"></span><br><span class=\"line\">      --help            显示此帮助信息并退出</span><br><span class=\"line\">      --version         显示版本信息并退出</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-chgrp\"><a href=\"#4-chgrp\" class=\"headerlink\" title=\"4.chgrp\"></a>4.chgrp</h3><p>chgrp是英语单词“change group”的缩写，命令的作用和其中文释义一样，为用于变更文件或目录的所属群组。</p>\n<p>chgrp命令用来改变文件或目录所属的用户组。该命令用来改变指定文件所属的用户组。其中，组名可以是用户组的id，也可以是用户组的组名。文件名可以 是由空格分开的要改变属组的文件列表，也可以是由通配符描述的文件集合。如果用户不是该文件的文件主或超级用户(root)，则不能改变该文件的组。</p>\n<p>在UNIX系统家族里，文件或目录权限的掌控以拥有者及所属群组来管理。您可以使用chgrp指令去变更文件与目录的所属群组，设置方式采用群组名称或群组识别码皆可。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：chgrp [选项]... 用户组 文件...</span><br><span class=\"line\">　或：chgrp [选项]... --reference=参考文件 文件...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-c或——changes：效果类似“-v”参数，但仅回报更改的部分；</span><br><span class=\"line\">-f或--quiet或——silent：不显示错误信息；</span><br><span class=\"line\">-h或--no-dereference：只对符号连接的文件作修改，而不是该其他任何相关文件；</span><br><span class=\"line\">-R或——recursive：递归处理，将指令目录下的所有文件及子目录一并处理；</span><br><span class=\"line\">-v或——verbose：显示指令执行过程；</span><br><span class=\"line\">--reference=&lt;参考文件或目录&gt;：把指定文件或目录的所属群组全部设成和参考文件或目录的所属群组相同；</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-chattr\"><a href=\"#5-chattr\" class=\"headerlink\" title=\"5.chattr\"></a>5.chattr</h3><p><strong>chattr命令</strong>用来改变文件属性。这项指令可改变存放在ext2文件系统上的文件或目录属性，这些属性共有以下几种模式：</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th><strong>参数</strong></th>\n<th><strong>作用</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>i</td>\n<td>无法对文件进行修改；若对目录设置了该参数，则仅能修改其中的子文件内容而不能新建或删除文件</td>\n</tr>\n<tr>\n<td>a</td>\n<td>仅允许补充（追加）内容，无法覆盖/删除内容（Append Only）</td>\n</tr>\n<tr>\n<td>S</td>\n<td>文件内容在变更后立即同步到硬盘（sync）</td>\n</tr>\n<tr>\n<td>s</td>\n<td>彻底从硬盘中删除，不可恢复（用0填充原文件所在硬盘区域）</td>\n</tr>\n<tr>\n<td>A</td>\n<td>不再修改这个文件或目录的最后访问时间（atime）</td>\n</tr>\n<tr>\n<td>b</td>\n<td>不再修改文件或目录的存取时间</td>\n</tr>\n<tr>\n<td>D</td>\n<td>检查压缩文件中的错误</td>\n</tr>\n<tr>\n<td>d</td>\n<td>使用dump命令备份时忽略本文件/目录</td>\n</tr>\n<tr>\n<td>c</td>\n<td>默认将文件或目录进行压缩</td>\n</tr>\n<tr>\n<td>u</td>\n<td>当删除该文件后依然保留其在硬盘中的数据，方便日后恢复</td>\n</tr>\n<tr>\n<td>t</td>\n<td>让文件系统支持尾部合并（tail-merging）</td>\n</tr>\n<tr>\n<td>x</td>\n<td>可以直接访问压缩文件中的内容</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>如果想要把某个隐藏功能添加到文件上，则需要在命令后面追加“+参数”，如果想要把某个隐藏功能移出文件，则需要追加“-参数”。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：chattr [参数] 文件</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-R：递归处理，将指令目录下的所有文件及子目录一并处理；</span><br><span class=\"line\">-v&lt;版本编号&gt;：设置文件或目录版本；</span><br><span class=\"line\">-V：显示指令执行过程；</span><br><span class=\"line\">+&lt;属性&gt;：开启文件或目录的该项属性；</span><br><span class=\"line\">-&lt;属性&gt;：关闭文件或目录的该项属性；</span><br><span class=\"line\">=&lt;属性&gt;：指定文件或目录的该项属性。</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-lsattr\"><a href=\"#6-lsattr\" class=\"headerlink\" title=\"6.lsattr\"></a>6.lsattr</h3><p><strong>lsattr命令</strong>的英文全称即“list attribute”，用于查看特定设备或特定文件在Linux第二扩展文件系统上的特有属性信息 。该命令常与chattr一起使用，chattr命令用于改变文件或目录的隐藏属性，而lsattr命令则用于查看其属性 。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：lsattr [参数] [文件]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a \t列出目录中的所有文件，包括隐藏文件</span><br><span class=\"line\">-d \t只显示目录名称</span><br><span class=\"line\">-R\t递归地处理指定目录下的所有文件及子目录</span><br><span class=\"line\">-v \t显示文件或目录版本</span><br><span class=\"line\">-V\t显示版本信息</span><br></pre></td></tr></table></figure>\n<h3 id=\"7-setfacl\"><a href=\"#7-setfacl\" class=\"headerlink\" title=\"7.setfacl\"></a>7.setfacl</h3><p>setfacl的英文全称是“ set file access control list ”,即“设置文件访问控制列表”。改命令可以更精确的控制权限的分配，比如让某一个用户对某一个文件具有某种权限。</p>\n<p>ACL指文件的所有者、所属组、其他人的读/写/执行之外的特殊的权限， 对于需要特殊权限的使用状况有一定帮助。 如某一个文件，不让单一的某个用户访问。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：setfacl [参数] [文件]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-m, --modify=acl 更改文件的访问控制列表</span><br><span class=\"line\">-M, --modify-file=file 从文件读取访问控制列表条目更改</span><br><span class=\"line\">-x, --remove=acl 根据文件中访问控制列表移除条目</span><br><span class=\"line\">-X, --remove-file=file 从文件读取访问控制列表条目并删除</span><br><span class=\"line\">-b, --remove-all 删除所有扩展访问控制列表条目</span><br><span class=\"line\">-k, --remove-default 移除默认访问控制列表</span><br><span class=\"line\">    --set=acl 设定替换当前的文件访问控制列表</span><br><span class=\"line\">    --set-file=file 从文件中读取访问控制列表条目设定</span><br><span class=\"line\">    --mask 重新计算有效权限掩码</span><br><span class=\"line\">-n, --no-mask 不重新计算有效权限掩码</span><br><span class=\"line\">-d, --default 应用到默认访问控制列表的操作</span><br><span class=\"line\">-R, --recursive 递归操作子目录</span><br><span class=\"line\">-L, --logical 依照系统逻辑，跟随符号链接</span><br><span class=\"line\">-P, --physical 依照自然逻辑，不跟随符号链接</span><br><span class=\"line\">    --restore=file 恢复访问控制列表，和“getfacl -R”作用相反</span><br><span class=\"line\">    --test 测试模式，并不真正修改访问控制列表属性</span><br><span class=\"line\">-v, --version           显示版本并退出</span><br><span class=\"line\">-h, --help              显示本帮助信息</span><br></pre></td></tr></table></figure>\n<p>选项-m和-x后边跟以acl规则。多条acl规则以逗号(,)隔开。选项-M和-X用来从文件或标准输入读取acl规则。<br>选项—set和—set-file用来设置文件或目录的acl规则，先前的设定将被覆盖。<br>选项-m(—modify)和-M(—modify-file)选项修改文件或目录的acl规则。<br>选项-x(—remove)和-X(—remove-file)选项删除acl规则。<br>当使用-M，-X选项从文件中读取规则时，setfacl接受getfacl命令输出的格式。每行至少一条规则，以#开始的行将被视为注释。</p>\n<p>当在不支持ACLs的文件系统上使用setfacl命令时，setfacl将修改文件权限位。如果acl规则并不完全匹配文件权限位，setfacl将会修改文件权限位使其尽可能的反应acl规则，并会向standard error发送错误消息，以大于0的状态返回。</p>\n<h3 id=\"8-getfacl\"><a href=\"#8-getfacl\" class=\"headerlink\" title=\"8.getfacl\"></a>8.getfacl</h3><p>获取文件访问控制列表</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getfacl  [选项]  文件 ...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a,  --access           仅显示文件访问控制列表</span><br><span class=\"line\">-d, --default           仅显示默认的访问控制列表</span><br><span class=\"line\">-c, --omit-header       不显示注释表头</span><br><span class=\"line\">-e, --all-effective     显示所有的有效权限</span><br><span class=\"line\">-E, --no-effective      显示无效权限</span><br><span class=\"line\">-s, --skip-base         跳过只有基条目(base entries)的文件</span><br><span class=\"line\">-R, --recursive         递归显示子目录</span><br><span class=\"line\">-L, --logical           逻辑遍历(跟随符号链接)</span><br><span class=\"line\">-P, --physical          物理遍历(不跟随符号链接)</span><br><span class=\"line\">-t, --tabular           使用制表符分隔的输出格式</span><br><span class=\"line\">-n, --numeric           显示数字的用户/组标识</span><br><span class=\"line\">-p, --absolute-names    不去除路径前的 &#x27;/&#x27; 符号</span><br><span class=\"line\">-v, --version           显示版本并退出</span><br><span class=\"line\">-h, --help              显示本帮助信息</span><br></pre></td></tr></table></figure>\n<h3 id=\"9-umask\"><a href=\"#9-umask\" class=\"headerlink\" title=\"9.umask\"></a>9.umask</h3><p><strong>umask命令</strong>用来设置限制新建文件权限的掩码。当新文件被创建时，其最初的权限由文件创建掩码决定。用户每次注册进入系统时，umask命令都被执行， 并自动设置掩码mode来限制新文件的权限。用户可以通过再次执行umask命令来改变默认值，新的权限将会把旧的覆盖掉。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">语法格式：umask [参数] [权限掩码]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-S:以字符的形式显示当前创建文件的默认权限。</span><br><span class=\"line\">-p：带umask开头以数字的形势显示当前掩码</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"十四、进程管理和服务管理命令\"><a href=\"#十四、进程管理和服务管理命令\" class=\"headerlink\" title=\"十四、进程管理和服务管理命令\"></a>十四、进程管理和服务管理命令</h1><h3 id=\"1-systemctl\"><a href=\"#1-systemctl\" class=\"headerlink\" title=\"1.systemctl\"></a>1.systemctl</h3><p>systemctl命令是系统服务管理器指令，它实际上将 service和chkconfig这两个命令组合到一起。</p>\n<p>Centos7之后从init完全换成了systemd的启动方式，systemd 启动服务的机制主要是通过 systemctl 的这个系统服务管理指令来处理。systemctl在用法上也囊括 service / chkconfig / setup / init 的大部分功能。</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th><strong>任务</strong></th>\n<th><strong>旧指令</strong></th>\n<th><strong>新指令</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>使某服务自动启动</td>\n<td>chkconfig —level 3 httpd on</td>\n<td>systemctl enable httpd.service</td>\n</tr>\n<tr>\n<td>使某服务不自动启动</td>\n<td>chkconfig —level 3 httpd off</td>\n<td>systemctl disable httpd.service</td>\n</tr>\n<tr>\n<td>检查服务状态</td>\n<td>service httpd status</td>\n<td>systemctl status httpd.service （服务详细信息） systemctl is-enabled httpd.service （仅显示是否 Active)</td>\n</tr>\n<tr>\n<td>显示所有已启动的服务</td>\n<td>chkconfig —list</td>\n<td>systemctl list-units —type=service</td>\n</tr>\n<tr>\n<td>启动某服务</td>\n<td>service httpd start</td>\n<td>systemctl start httpd.service</td>\n</tr>\n<tr>\n<td>停止某服务</td>\n<td>service httpd stop</td>\n<td>systemctl stop httpd.service</td>\n</tr>\n<tr>\n<td>重启某服务</td>\n<td>service httpd restart</td>\n<td>systemctl restart httpd.service</td>\n</tr>\n<tr>\n<td>某服务重新加载配置文件</td>\n<td>service httpd reload</td>\n<td>systemctl reload httpd.service</td>\n</tr>\n</tbody>\n</table>\n</div>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式:systemctl [选项...] &#123;命令&#125; ...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-start\t启动服务</span><br><span class=\"line\">-stop\t停止服务</span><br><span class=\"line\">-restart\t重启服务</span><br><span class=\"line\">-enable\t使某服务开机自启</span><br><span class=\"line\">-disable\t关闭某服务开机自启</span><br><span class=\"line\">-status\t查看服务状态</span><br><span class=\"line\">-list-units –type=service\t列举所有已启动服务</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-init\"><a href=\"#2-init\" class=\"headerlink\" title=\"2.init\"></a>2.init</h3><p>init命令是Linux下的进程初始化工具，init进程是所有Linux进程的父进程，它的进程号为1。init命令是Linux操作系统中不可缺少的程序之一，init进程是Linux内核引导运行的，是系统中的第一个进程。</p>\n<p><strong>注意：</strong>Centos7.5 中第一个进程是systemd进程</p>\n<p><strong>运行级别</strong></p>\n<p>到底什么是运行级呢？简单的说，运行级就是操作系统当前正在运行的功能级别。这个级别从0到6 ，具有不同的功能。你也可以在/etc/inittab中查看它的英文介绍。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#0  停机（千万不能把initdefault 设置为0）</span><br><span class=\"line\">#1  单用户模式</span><br><span class=\"line\">#2  多用户，没有 NFS(和级别3相似，会停止部分服务)</span><br><span class=\"line\">#3  完全多用户模式</span><br><span class=\"line\">#4  没有用到</span><br><span class=\"line\">#5  x11(Xwindow)</span><br><span class=\"line\">#6  重新启动（千万不要把initdefault 设置为6）</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：init [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Send control commands to the init daemon.</span><br><span class=\"line\"></span><br><span class=\"line\">     --help      Show this help</span><br><span class=\"line\">     --no-wall   Don&#x27;t send wall message before halt/power-off/reboot</span><br><span class=\"line\"></span><br><span class=\"line\">Commands:</span><br><span class=\"line\">  0              Power-off the machine</span><br><span class=\"line\">  6              Reboot the machine</span><br><span class=\"line\">  2, 3, 4, 5     Start runlevelX.target unit</span><br><span class=\"line\">  1, s, S        Enter rescue mode</span><br><span class=\"line\">  q, Q           Reload init daemon configuration</span><br><span class=\"line\">  u, U           Reexecute init daemon</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-telinit\"><a href=\"#3-telinit\" class=\"headerlink\" title=\"3.telinit\"></a>3.telinit</h3><p>设置当前系统的运行等级</p>\n<p><strong>说明</strong>:</p>\n<blockquote>\n<p>This is a legacy command available for compatibility only. It should not be used anymore, as the concept of runlevels is obsolete.</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：telinit [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Send control commands to the init daemon.</span><br><span class=\"line\"></span><br><span class=\"line\">     --help      Show this help</span><br><span class=\"line\">     --no-wall   Don&#x27;t send wall message before halt/power-off/reboot</span><br><span class=\"line\"></span><br><span class=\"line\">Commands:</span><br><span class=\"line\">  0              Power-off the machine</span><br><span class=\"line\">  6              Reboot the machine</span><br><span class=\"line\">  2, 3, 4, 5     Start runlevelX.target unit</span><br><span class=\"line\">  1, s, S        Enter rescue mode</span><br><span class=\"line\">  q, Q           Reload init daemon configuration</span><br><span class=\"line\">  u, U           Reexecute init daemon</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-ps\"><a href=\"#4-ps\" class=\"headerlink\" title=\"4.ps\"></a>4.ps</h3><p>ps命令用于报告当前系统的进程状态。ps命令是“process status”的缩写。可以搭配kill指令随时中断、删除不必要的程序。ps命令是最基本同时也是非常强大的进程查看命令，使用该命令可以确定有哪些进程正在运行和运行的状态、进程是否结束、进程有没有僵死、哪些进程占用了过多的资源等等，总之大部分信息都是可以通过执行该命令得到的。</p>\n<p><img src=\"../img/image-20240830120437675.png\" alt=\"image-20240830120437675\" style=\"zoom:80%;\" /></p>\n<p>（1）ps aux </p>\n<p>USER：该进程是由哪个用户产生的 </p>\n<p>PID：进程的ID号 </p>\n<p>%CPU：该进程占用CPU资源的百分比，占用越高，进程越耗费资源； </p>\n<p>%MEM：该进程占用物理内存的百分比，占用越高，进程越耗费资源； </p>\n<p>VSZ：该进程占用虚拟内存的大小，单位KB； </p>\n<p>RSS：该进程占用实际物理内存的大小，单位KB； </p>\n<p>TTY：该进程是在哪个终端中运行的。对于CentOS来说，tty1是图形化终端， tty2-tty6 是本地的字符界面终端。pts/0-255代表虚拟终端。 </p>\n<p>STAT：进程状态。常见的状态有：R：运行状态、S：睡眠状态、T：暂停状态、 Z：僵尸状态、s：包含子进程、l：多线程、+：前台显示 </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R 运行    Runnable (on run queue) 正在运行或在运行队列中等待。</span><br><span class=\"line\">S 睡眠    Sleeping                休眠中, 受阻, 在等待某个条件的形成或接受到信号。</span><br><span class=\"line\">I 空闲    Idle</span><br><span class=\"line\">Z 僵死    Zombie（a defunct process) 进程已终止, 但进程描述符存在, 直到父进程调用wait4()系统调用后释放。</span><br><span class=\"line\">D 不可中断    Uninterruptible sleep (ususally IO)    收到信号不唤醒和不可运行, 进程必须等待直到有中断发生。</span><br><span class=\"line\">T 终止    Terminate 进程收到SIGSTOP, SIGSTP, SIGTIN, SIGTOU信号后停止运行运行。</span><br><span class=\"line\">P 等待交换页</span><br><span class=\"line\">W 无驻留页    has no resident pages 没有足够的记忆体分页可分配。</span><br><span class=\"line\">X 死掉的进程</span><br><span class=\"line\">&lt; 高优先级进程 高优先序的进程</span><br><span class=\"line\">N 低优先    级进程 低优先序的进程</span><br><span class=\"line\">L 内存锁页    Lock 有记忆体分页分配并缩在记忆体内</span><br><span class=\"line\">s 进程的领导者（在它之下有子进程）；</span><br><span class=\"line\">l 多进程的（使用 CLONE_THREAD, 类似 NPTL pthreads）</span><br><span class=\"line\">+ 位于后台的进程组 </span><br></pre></td></tr></table></figure>\n<p>START：该进程的启动时间 </p>\n<p>TIME：该进程占用CPU的运算时间，注意不是系统时间 </p>\n<p>COMMAND：产生此进程的命令名 </p>\n<p>（2）ps-ef</p>\n<p>UID：用户ID </p>\n<p>PID：进程ID </p>\n<p>PPID：父进程ID </p>\n<p>C：CPU用于计算执行优先级的因子。数值越大，表明进程是CPU密集型运算， 执行优先级会降低；数值越小，表明进程是I/O密集型运算，执行优先级会提高 </p>\n<p>STIME：进程启动的时间 </p>\n<p>TTY：完整的终端名称 </p>\n<p>TIME：CPU时间 </p>\n<p>CMD：启动进程所用的命令和参数</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：ps [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a  显示所有终端机下执行的进程，除了阶段作业领导者之外。</span><br><span class=\"line\">　　 a  显示现行终端机下的所有进程，包括其他用户的进程。</span><br><span class=\"line\">　　-A  显示所有进程。</span><br><span class=\"line\">　　-c  显示CLS和PRI栏位。</span><br><span class=\"line\">　　 c  列出进程时，显示每个进程真正的指令名称，而不包含路径，参数或常驻服务的标示。</span><br><span class=\"line\">　　-C&lt;指令名称&gt; 　指定执行指令的名称，并列出该指令的进程的状况。</span><br><span class=\"line\">　　-d 　显示所有进程，但不包括阶段作业领导者的进程。</span><br><span class=\"line\">　　-e 　此参数的效果和指定&quot;A&quot;参数相同。</span><br><span class=\"line\">　　 e 　列出进程时，显示每个进程所使用的环境变量。</span><br><span class=\"line\">　　-f 　显示UID,PPIP,C与STIME栏位。</span><br><span class=\"line\">　　 f 　用ASCII字符显示树状结构，表达进程间的相互关系。</span><br><span class=\"line\">　　-g&lt;群组名称&gt; 　此参数的效果和指定&quot;-G&quot;参数相同，当亦能使用阶段作业领导者的名称来指定。</span><br><span class=\"line\">　　 g 　显示现行终端机下的所有进程，包括群组领导者的进程。</span><br><span class=\"line\">　　-G&lt;群组识别码&gt; 　列出属于该群组的进程的状况，也可使用群组名称来指定。</span><br><span class=\"line\">　　 h 　不显示标题列。</span><br><span class=\"line\">　　-H 　显示树状结构，表示进程间的相互关系。</span><br><span class=\"line\">　　-j或j 　采用工作控制的格式显示进程状况。</span><br><span class=\"line\">　　-l或l 　采用详细的格式来显示进程状况。</span><br><span class=\"line\">　　 L 　列出栏位的相关信息。</span><br><span class=\"line\">　　-m或m 　显示所有的执行绪。</span><br><span class=\"line\">　　 n 　以数字来表示USER和WCHAN栏位。</span><br><span class=\"line\">　　-N 　显示所有的进程，除了执行ps指令终端机下的进程之外。</span><br><span class=\"line\">　　-p&lt;进程识别码&gt; 　指定进程识别码，并列出该进程的状况。</span><br><span class=\"line\">　 　p&lt;进程识别码&gt; 　此参数的效果和指定&quot;-p&quot;参数相同，只在列表格式方面稍有差异。</span><br><span class=\"line\">　　 r 　只列出现行终端机正在执行中的进程。</span><br><span class=\"line\">　　-s&lt;阶段作业&gt; 　指定阶段作业的进程识别码，并列出隶属该阶段作业的进程的状况。</span><br><span class=\"line\">　 　s 　采用进程信号的格式显示进程状况。</span><br><span class=\"line\">　　 S 　列出进程时，包括已中断的子进程资料。</span><br><span class=\"line\">　　-t&lt;终端机编号&gt; 　指定终端机编号，并列出属于该终端机的进程的状况。</span><br><span class=\"line\">　　 t&lt;终端机编号&gt; 　此参数的效果和指定&quot;-t&quot;参数相同，只在列表格式方面稍有差异。</span><br><span class=\"line\">　　-T 　显示现行终端机下的所有进程。</span><br><span class=\"line\">　　-u&lt;用户识别码&gt; 　此参数的效果和指定&quot;-U&quot;参数相同。</span><br><span class=\"line\">　　 u 　以用户为主的格式来显示进程状况。</span><br><span class=\"line\">　　-U&lt;用户识别码&gt; 　列出属于该用户的进程的状况，也可使用用户名称来指定。</span><br><span class=\"line\">　　 U&lt;用户名称&gt; 　列出属于该用户的进程的状况。</span><br><span class=\"line\">　　 v 　采用虚拟内存的格式显示进程状况。</span><br><span class=\"line\">　　-V或V 　显示版本信息。</span><br><span class=\"line\">　　-w或w 　采用宽阔的格式来显示进程状况。　</span><br><span class=\"line\">　 　x 　显示所有进程，不以终端机来区分。</span><br><span class=\"line\">　　 X 　采用旧式的Linux i386登陆格式显示进程状况。</span><br><span class=\"line\">　　 -y 配合参数&quot;-l&quot;使用时，不显示F(flag)栏位，并以RSS栏位取代ADDR栏位</span><br><span class=\"line\">　　-&lt;进程识别码&gt; 　此参数的效果和指定&quot;p&quot;参数相同。</span><br><span class=\"line\">　　--cols&lt;每列字符数&gt; 　设置每列的最大字符数。</span><br><span class=\"line\">　　--columns&lt;每列字符数&gt; 　此参数的效果和指定&quot;--cols&quot;参数相同。</span><br><span class=\"line\">　　--cumulative 　此参数的效果和指定&quot;S&quot;参数相同。</span><br><span class=\"line\">　　--deselect 　此参数的效果和指定&quot;-N&quot;参数相同。</span><br><span class=\"line\">　　--forest 　此参数的效果和指定&quot;f&quot;参数相同。</span><br><span class=\"line\">　　--headers 　重复显示标题列。</span><br><span class=\"line\">　　--help 　在线帮助。</span><br><span class=\"line\">　　--info 　显示排错信息。</span><br><span class=\"line\">　　--lines&lt;显示列数&gt; 设置显示画面的列数。</span><br><span class=\"line\">　　--no-headers  此参数的效果和指定&quot;h&quot;参数相同，只在列表格式方面稍有差异。</span><br><span class=\"line\">　　--group&lt;群组名称&gt; 　此参数的效果和指定&quot;-G&quot;参数相同。</span><br><span class=\"line\">　　--Group&lt;群组识别码&gt; 　此参数的效果和指定&quot;-G&quot;参数相同。</span><br><span class=\"line\">　　--pid&lt;进程识别码&gt; 　此参数的效果和指定&quot;-p&quot;参数相同。</span><br><span class=\"line\">　　--rows&lt;显示列数&gt; 　此参数的效果和指定&quot;--lines&quot;参数相同。</span><br><span class=\"line\">　　--sid&lt;阶段作业&gt; 　此参数的效果和指定&quot;-s&quot;参数相同。</span><br><span class=\"line\">　　--tty&lt;终端机编号&gt; 　此参数的效果和指定&quot;-t&quot;参数相同。</span><br><span class=\"line\">　　--user&lt;用户名称&gt; 　此参数的效果和指定&quot;-U&quot;参数相同。</span><br><span class=\"line\">　　--User&lt;用户识别码&gt; 　此参数的效果和指定&quot;-U&quot;参数相同。</span><br><span class=\"line\">　　--version 　此参数的效果和指定&quot;-V&quot;参数相同。</span><br><span class=\"line\">　　--widty&lt;每列字符数&gt; 　此参数的效果和指定&quot;-cols&quot;参数相同。 </span><br></pre></td></tr></table></figure>\n<h3 id=\"5-pstree\"><a href=\"#5-pstree\" class=\"headerlink\" title=\"5.pstree\"></a>5.pstree</h3><p>linux系统中pstree命令的英文全称是“process tree”，即将所有行程以树状图显示，树状图将会以 pid (如果有指定) 或是以 init 这个基本行程为根 (root)，如果有指定使用者 id，则树状图会只显示该使用者所拥有的行程。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式： pstree [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a 　显示每个程序的完整指令，包含路径，参数或是常驻服务的标示。</span><br><span class=\"line\">-c 　不使用精简标示法。</span><br><span class=\"line\">-G 　使用VT100终端机的列绘图字符。</span><br><span class=\"line\">-h 　列出树状图时，特别标明执行的程序。</span><br><span class=\"line\">-H&lt;程序识别码&gt; 　此参数的效果和指定&quot;-h&quot;参数类似，但特别标明指定的程序。</span><br><span class=\"line\">-l 　采用长列格式显示树状图。</span><br><span class=\"line\">-n 　用程序识别码排序。预设是以程序名称来排序。</span><br><span class=\"line\">-p 　显示程序识别码。</span><br><span class=\"line\">-u 　显示用户名称。</span><br><span class=\"line\">-U 　使用UTF-8列绘图字符。</span><br><span class=\"line\">-V 　显示版本信息。</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-top\"><a href=\"#6-top\" class=\"headerlink\" title=\"6.top\"></a>6.top</h3><p><strong>top命令</strong>是Linux下常用的性能分析工具，能够实时显示系统中各个进程的资源占用状况，常用于服务端性能分析。</p>\n<p>在top命令中按f按可以查看显示的列信息，按对应字母来开启/关闭列，大写字母表示开启，小写字母表示关闭。带*号的是默认列。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：top [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-b：以批处理模式操作；</span><br><span class=\"line\">-c：显示完整的进程信息；</span><br><span class=\"line\">-d：屏幕刷新间隔时间；</span><br><span class=\"line\">-I：忽略失效过程；</span><br><span class=\"line\">-s：保密模式；</span><br><span class=\"line\">-S：累积模式；</span><br><span class=\"line\">-i&lt;时间&gt;：设置间隔时间；</span><br><span class=\"line\">-u&lt;用户名&gt;：指定用户名；</span><br><span class=\"line\">-p&lt;进程号&gt;：指定进程；</span><br><span class=\"line\">-n&lt;次数&gt;：循环显示的次数。</span><br></pre></td></tr></table></figure>\n<h3 id=\"7-kill\"><a href=\"#7-kill\" class=\"headerlink\" title=\"7.kill\"></a>7.kill</h3><p><strong>kill命令</strong>用来删除执行中的程序或工作。kill可将指定的信息送至程序。预设的信息为SIGTERM(15),可将指定程序终止。若仍无法终止该程序，可使用SIGKILL(9)信息尝试强制删除程序。程序或工作的编号可利用ps指令或job指令查看。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">语法格式：kill [参数] [进程号]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-9  强制停止</span><br><span class=\"line\">-l  &lt;信号变化哦啊&gt;，若不加信号的编号参数，则使用“-l”参数会列出全部的信号名称</span><br><span class=\"line\">-p  指定kill 命令只打印相关进程的进程号，而不发送任何信号</span><br><span class=\"line\">-s  指定发送信号</span><br></pre></td></tr></table></figure>\n<h3 id=\"8-killall\"><a href=\"#8-killall\" class=\"headerlink\" title=\"8.killall\"></a>8.killall</h3><p><strong>killall命令</strong>使用进程的名称来杀死进程，使用此指令可以杀死一组同名进程。我们可以使用kill命令杀死指定进程PID的进程，如果要找到我们需要杀死的进程，我们还需要在之前使用ps等命令再配合<a href=\"https://so.csdn.net/so/search?q=grep&amp;spm=1001.2101.3001.7020\">grep</a>来查找进程，而killall把这两个过程合二为一，是一个很好用的命令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">killall [-egiqvw] [-signal] name ...</span><br><span class=\"line\">killall -l</span><br><span class=\"line\">killall -V</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-e：对长名称进行精确匹配；</span><br><span class=\"line\">-l：忽略大小写的不同；</span><br><span class=\"line\">-p：杀死进程所属的进程组；</span><br><span class=\"line\">-i：交互式杀死进程，杀死进程前需要进行确认；</span><br><span class=\"line\">-l：打印所有已知信号列表；</span><br><span class=\"line\">-q：如果没有进程被杀死。则不输出任何信息；</span><br><span class=\"line\">-r：使用正规表达式匹配要杀死的进程名称；</span><br><span class=\"line\">-s：用指定的进程号代替默认信号“SIGTERM”；</span><br><span class=\"line\">-u：杀死指定用户的进程。</span><br></pre></td></tr></table></figure>\n<h3 id=\"9-nice\"><a href=\"#9-nice\" class=\"headerlink\" title=\"9.nice\"></a>9.nice</h3><p><strong>nice命令</strong>用于以指定的进程调度优先级启动其他的程序。</p>\n<p>系统的后台工作中，某些比较不重要的进程在运行，例如备份，由于备份工作相当耗系统资源，这个时候就可以调大备份命令的nice值，可以使系统资源更合理使用。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：</span><br><span class=\"line\"> nice [-n] &lt;优先级&gt; [-p|--pid] &lt;pid&gt;...</span><br><span class=\"line\"> nice [-n] &lt;优先级&gt;  -g|--pgrp &lt;pgid&gt;...</span><br><span class=\"line\"> nice [-n] &lt;优先级&gt;  -u|--user &lt;用户&gt;...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项：</span><br><span class=\"line\"> -g, --pgrp &lt;id&gt;        将参数解释为进程组 ID</span><br><span class=\"line\"> -n, --priority &lt;数字&gt;  指定 nice 增加值 范围在-20~19</span><br><span class=\"line\"> -p, --pid &lt;id&gt;         将参数解释为进程 ID (默认)</span><br><span class=\"line\"> -u, --user &lt;name|id&gt;   将参数解释为用户名或用户 ID</span><br><span class=\"line\"> -h, --help             显示帮助文本并退出</span><br><span class=\"line\"> -V, --version          显示版本信息并退出</span><br></pre></td></tr></table></figure>\n<h3 id=\"10-renice\"><a href=\"#10-renice\" class=\"headerlink\" title=\"10.renice\"></a>10.renice</h3><p><strong>renice命令</strong>可以修改正在运行的进程的调度优先级。</p>\n<p>该命令预设是以程序识别码指定程序调整其优先权，您亦可以指定程序群组或用户名称调整优先权等级，并修改所有隶属于该程序群组或用户的程序的优先权。只有系统管理者可以改变其他用户程序的优先权，也仅有系统管理者可以设置负数等级。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：</span><br><span class=\"line\"> renice [-n] &lt;优先级&gt; [-p|--pid] &lt;pid&gt;...</span><br><span class=\"line\"> renice [-n] &lt;优先级&gt;  -g|--pgrp &lt;pgid&gt;...</span><br><span class=\"line\"> renice [-n] &lt;优先级&gt;  -u|--user &lt;用户&gt;...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项：</span><br><span class=\"line\"> -g, --pgrp &lt;id&gt;        将参数解释为进程组 ID</span><br><span class=\"line\"> -n, --priority &lt;数字&gt;  指定 nice 增加值</span><br><span class=\"line\"> -p, --pid &lt;id&gt;         将参数解释为进程 ID (默认)</span><br><span class=\"line\"> -u, --user &lt;name|id&gt;   将参数解释为用户名或用户 ID</span><br><span class=\"line\"> -h, --help             显示帮助文本并退出</span><br><span class=\"line\"> -V, --version          显示版本信息并退出</span><br></pre></td></tr></table></figure>\n<h3 id=\"11-jobs\"><a href=\"#11-jobs\" class=\"headerlink\" title=\"11.jobs\"></a>11.jobs</h3><p><strong>jobs命令</strong>主要用于显示系统中的任务列表及其运行状态。</p>\n<p>该命令可以显示任务号及其对应的进程号，其中，任务号是以普通用户的角度进行的，而进程号则是从系统管理员的角度来看的。一个任务可以对应一个或者多个进程号。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jobs [-lnprs] [任务声明 ...]</span><br><span class=\"line\">jobs -x 命令 [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">列出活动的任务。JPBSPEC 限制仅输出指定的任务。</span><br><span class=\"line\">不带选项时，所有活动任务的状态都会显示。</span><br><span class=\"line\"></span><br><span class=\"line\">选项：</span><br><span class=\"line\">  -l        在正常信息基础上列出进程号</span><br><span class=\"line\">  -n        列出上次通告之后改变了状态的进程</span><br><span class=\"line\">  -p        仅列出进程号</span><br><span class=\"line\">  -r        限制仅输出运行中的任务</span><br><span class=\"line\">  -s        限制仅输出停止的任务</span><br><span class=\"line\"></span><br><span class=\"line\">如果使用了 -x 选项，ARG 参数中的所有任务声明会被替换为该任务</span><br><span class=\"line\">的进程组头领的进程号，然后执行 COMMAND 命令。</span><br><span class=\"line\"></span><br><span class=\"line\">退出状态：</span><br><span class=\"line\">返回成功，除非使用了无效的选项或者有错误发生。</span><br><span class=\"line\">如果使用 -x选项，则返回 COMMAND 命令的退出状态。</span><br></pre></td></tr></table></figure>\n<h3 id=\"12-fg\"><a href=\"#12-fg\" class=\"headerlink\" title=\"12.fg\"></a>12.fg</h3><p><strong>fg命令</strong>用于将后台作业（在后台运行的或者在后台挂起的作业）放到前台终端运行。与bg命令一样，若后台任务中只有一个，则使用该命令时，可以省略任务号。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">语法格式：fg [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fg: fg [任务声明]</span><br><span class=\"line\">    将任务移至前台。</span><br><span class=\"line\">    </span><br><span class=\"line\">    将以 JOB_SPEC 标识的任务放至前台，使其成为</span><br><span class=\"line\">    当前任务。如果 JOB_SPEC 不存在，shell 观念中的当前任务 </span><br><span class=\"line\">    将被使用。</span><br><span class=\"line\">    </span><br><span class=\"line\">    退出状态：</span><br><span class=\"line\">    放至前台的命令状态，或者当错误发生时为失败。</span><br></pre></td></tr></table></figure>\n<h3 id=\"13-bg\"><a href=\"#13-bg\" class=\"headerlink\" title=\"13.bg\"></a>13.bg</h3><p><strong>bg命令</strong>用于将作业放到后台运行，使前台可以执行其他任务。该命令的运行效果与在指令后面添加符号&amp;的效果是相同的，都是将其放到系统后台执行。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">语法格式：bg [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bg: bg [任务声明 ...]</span><br><span class=\"line\">    移动任务至后台。</span><br><span class=\"line\">    </span><br><span class=\"line\">    将 JOB_SPEC 标识的任务放至后台，就像它们</span><br><span class=\"line\">    是带 `&amp;&#x27; 启动的一样。如果 JOB_SPEC 不存在，shell 观念中的</span><br><span class=\"line\">    当前任务将会被使用。</span><br><span class=\"line\">    </span><br><span class=\"line\">    退出状态：</span><br><span class=\"line\">    返回成功除非任务管理没有启用或者错误发生。</span><br></pre></td></tr></table></figure>\n<h3 id=\"14-nohup\"><a href=\"#14-nohup\" class=\"headerlink\" title=\"14.nohup\"></a>14.nohup</h3><p>nohup命令可以将程序以忽略挂起信号的方式运行起来，被运行的程序的输出信息将不会显示到终端。</p>\n<p>无论是否将 nohup 命令的输出重定向到终端，输出都将附加到当前目录的 nohup.out 文件中。如果当前目录的 nohup.out 文件不可写，输出重定向到$HOME/nohup.out文件中。如果没有文件能创建或打开以用于追加，那么 command参数指定的命令不可调用。如果标准错误是一个终端，那么把指定的命令写给标准错误的所有输出作为标准输出重定向到相同的文件描述符。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：nohup 命令 [参数]...</span><br><span class=\"line\">　或：nohup 选项</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">执行 COMMAND 命令, 忽略 hangup (挂起) 信号.</span><br><span class=\"line\"></span><br><span class=\"line\">--help 显示此帮助, 然后退出</span><br><span class=\"line\"></span><br><span class=\"line\">--version</span><br><span class=\"line\">       显示版本信息, 然后退出</span><br></pre></td></tr></table></figure>\n<h3 id=\"15-crontab\"><a href=\"#15-crontab\" class=\"headerlink\" title=\"15.crontab\"></a>15.crontab</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">crontab [选项]</span><br></pre></td></tr></table></figure>\n<p><img src=\"/img/image-20240831190613952.png\" alt=\"image-20240831190613952\" style=\"zoom:80%;\" /></p>\n<p><img src=\"/img/image-20240831190808356.png\" alt=\"image-20240831190808356\" style=\"zoom:80%;\" /></p>\n<p><img src=\"/img/image-20240831190825692.png\" alt=\"image-20240831190825692\" style=\"zoom:80%;\" /></p>\n<p><img src=\"/img/image-20240831190841846.png\" alt=\"image-20240831190841846\" style=\"zoom:80%;\" /></p>\n<hr>\n<h1 id=\"十五、网络管理\"><a href=\"#十五、网络管理\" class=\"headerlink\" title=\"十五、网络管理\"></a>十五、网络管理</h1><h3 id=\"1-ping\"><a href=\"#1-ping\" class=\"headerlink\" title=\"1.ping\"></a>1.ping</h3><p>ping命令用来测试主机之间网络的连通性。执行ping指令会使用ICMP传输协议，发出要求回应的信息，若远端主机的网络功能没有问题，就会回应该信息，因而得知该主机运作正常。</p>\n<p>ping, ping6 - 向网络主机发送ICMP回显请求(ECHO_REQUEST)分组。</p>\n<p>注意：Linux系统下的ping命令与Windows系统下的ping命令稍有不同。Windows下运行ping命令一般会发出4个请求就结束运行该命令；而Linux下不会自动终止，此时需要我们按CTR+C终止或者使用-c参数为ping命令指定发送的请求数目。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：ping [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-d\t使用Socket的SO_DEBUG功能</span><br><span class=\"line\">-c\t指定发送报文的次数</span><br><span class=\"line\">-i\t指定收发信息的间隔时间</span><br><span class=\"line\">-I\t使用指定的网络接口送出数据包</span><br><span class=\"line\">-l\t设置在送出要求信息之前，先行发出的数据包</span><br><span class=\"line\">-n\t只输出数值</span><br><span class=\"line\">-p\t设置填满数据包的范本样式</span><br><span class=\"line\">-q\t不显示指令执行过程</span><br><span class=\"line\">-R\t记录路由过程</span><br><span class=\"line\">-s\t设置数据包的大小</span><br><span class=\"line\">-t\t设置存活数值TTL的大小</span><br><span class=\"line\">-v\t详细显示指令的执行过程</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-ifconfig\"><a href=\"#2-ifconfig\" class=\"headerlink\" title=\"2.ifconfig\"></a>2.ifconfig</h3><p>ifconfig命令的英文全称是“network interfaces configuring”，即用于配置和显示Linux内核中网络接口的网络参数。用ifconfig命令配置的网卡信息，在网卡重启后机器重启后，配置就不存在。要想将上述的配置信息永远的存的电脑里，那就要修改网卡的配置文件了。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ifconfig [接口]</span><br><span class=\"line\">ifconfig 接口 [aftype] options | address ...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">interface</span><br><span class=\"line\">接口的名称。这通常是一个驱动程序名，后面跟着一个单元号，例如用于第一个以太网接口的eth0。</span><br><span class=\"line\"></span><br><span class=\"line\">up</span><br><span class=\"line\">此标志将导致激活接口。如果将地址分配给接口，则会隐式指定该地址。</span><br><span class=\"line\"></span><br><span class=\"line\">down</span><br><span class=\"line\">此标志导致关闭此接口的驱动程序。</span><br><span class=\"line\"></span><br><span class=\"line\">[-]arp</span><br><span class=\"line\">启用或禁用在此接口上使用ARP协议。</span><br><span class=\"line\"></span><br><span class=\"line\">[-]promisc</span><br><span class=\"line\">启用或禁用接口的混杂模式。如果选中，网络上的所有数据包都将由接口接收。</span><br><span class=\"line\"></span><br><span class=\"line\">[-]allmulti</span><br><span class=\"line\">启用或禁用所有多播模式。如果选中，则接口将接收网络上的所有多播数据包。</span><br><span class=\"line\"></span><br><span class=\"line\">metric N</span><br><span class=\"line\">此参数设置接口度量。它在GNU/Linux下不可用</span><br><span class=\"line\"></span><br><span class=\"line\">mtu N</span><br><span class=\"line\">此参数设置接口的最大传输单元(MTU)。</span><br><span class=\"line\"></span><br><span class=\"line\">dstaddr addr</span><br><span class=\"line\">为点对点链路(如PPP)设置远程IP地址.这个关键字现在已经过时了；使用pointopoint关键字代替。</span><br><span class=\"line\"></span><br><span class=\"line\">netmask addr</span><br><span class=\"line\">设置此接口的IP网络掩码。此值默认为通常的A、B或C类网络掩码(从接口IP地址派生)，但可以设置为任何值。</span><br><span class=\"line\"></span><br><span class=\"line\">add addr/prefixlen</span><br><span class=\"line\">向接口添加IPv 6地址</span><br><span class=\"line\"></span><br><span class=\"line\">del addr/prefixlen</span><br><span class=\"line\">从接口中删除IPv 6地址</span><br><span class=\"line\"></span><br><span class=\"line\">tunnel ::aa.bb.cc.dd</span><br><span class=\"line\">创建一个新的SIT(IPv6-in-IPv4)设备，通过隧道到达给定的目的地。</span><br><span class=\"line\"></span><br><span class=\"line\">irq addr</span><br><span class=\"line\">设置此设备使用的中断行。并非所有设备都可以动态更改其IRQ设置。</span><br><span class=\"line\"></span><br><span class=\"line\">io_addr addr</span><br><span class=\"line\">为该设备设置I/O空间中的起始地址</span><br><span class=\"line\"></span><br><span class=\"line\">mem_start addr</span><br><span class=\"line\">设置此设备使用的共享内存的起始地址。只有少数几个设备需要这个</span><br><span class=\"line\"></span><br><span class=\"line\">media type</span><br><span class=\"line\">设置设备要使用的物理端口或介质类型。并非所有设备都可以更改此设置，以及那些可以更改其支持的值的设备。典型的类型值是10 base 2(细以太网)、10 base T(双绞线10 Mbps以太网)、AUI(外收发信机)等。驱动的特殊介质类型可以用来告诉驱动对媒体进行自动感知。同样，并不是所有的驱动都能做到这一点。</span><br><span class=\"line\"></span><br><span class=\"line\">[-]broadcast [addr]</span><br><span class=\"line\">如果地址参数给定，则为该接口设置协议广播地址。否则，设置(或清除)接口的IFF_BROADCAST标志。</span><br><span class=\"line\"></span><br><span class=\"line\">[-]pointopoint [addr]</span><br><span class=\"line\">这个关键字启用了接口的点对点模式，这意味着它是两台机器之间的直接链接，没有其他人监听它。如果地址参数也给出了，就像过时的dstaddr关键字一样，设置链接另一端的协议地址。否则，设置或清除接口的IFF_POINTOPOINT标志。</span><br><span class=\"line\"></span><br><span class=\"line\">hw class address</span><br><span class=\"line\">如果设备驱动程序支持此操作，则设置此接口的硬件地址。关键字后面必须跟着硬件类的名称和相当于硬件地址的可打印的ASCII。目前支持的硬件类包括ether (以太网)、ax25(AMPRAX.25)、ARCnet和netrom(AMPR NET/ROM)。</span><br><span class=\"line\"></span><br><span class=\"line\">multicast</span><br><span class=\"line\">在接口上设置多播标志。这通常不应该需要，因为驱动程序本身设置正确的标志。</span><br><span class=\"line\"></span><br><span class=\"line\">address</span><br><span class=\"line\">要分配给此接口的IP地址。</span><br><span class=\"line\"></span><br><span class=\"line\">txqueuelen length</span><br><span class=\"line\">设置设备的传输队列的长度。对于具有高延迟(调制解调器链路，ISDN)的较慢设备，将其设置为小值是有用的，以防止快速批量传输过多地干扰诸如telnet之类的交互通信。</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-ifup\"><a href=\"#3-ifup\" class=\"headerlink\" title=\"3.ifup\"></a>3.ifup</h3><p>ifup命令用于激活指定的网络接口。ifup命令会去读取/etc/sysconfig/network-scripts/目录下的相关网络接口的配置文件，并根据配置文件的内容来激活该网络接口。</p>\n<p>注意：网络接口名称必须是/etc/sysconfig/network-scripts/目录配置文件中设置的才可以。如果使用ifconfig命令改变了网络接口后，ifup命令就不会识别了。因为ifup命令会对比当前网络的参数与/etc/sysconfig/network-scripts/中配置文件的内容是否相符。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：ifup &lt;设备名&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-ifdown\"><a href=\"#4-ifdown\" class=\"headerlink\" title=\"4.ifdown\"></a>4.ifdown</h3><p>ifdown命令用于禁用指定的网络接口。该命令会去读取/etc/sysconfig/network-scripts/目录下的相关网络接口的配置文件，并根据配置文件的内容来关闭该网络接口。</p>\n<p>注意：网络接口名称必须是/etc/sysconfig/network-scripts/目录配置文件中设置的才可以。如果使用ifconfig命令改变了网络接口后，ifdown命令就不会识别了。因为ifdown命令会对比当前网络的参数与/etc/sysconfig/network-scripts/中配置文件的内容是否相符。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：ifdown [网络接口]</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-ifcfg\"><a href=\"#5-ifcfg\" class=\"headerlink\" title=\"5.ifcfg\"></a>5.ifcfg</h3><p><strong>ifcfg命令</strong>是一个Bash脚本程序，用来设置Linux中的网络接口参数。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">语法格式： ifcfg [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">网络接口：指定要操作的网络接口</span><br><span class=\"line\">add/del：添加或删除网络接口上的地址</span><br><span class=\"line\">ip地址：指定IP地址和子网掩码</span><br><span class=\"line\">stop：停用指定的网络接口的IP地址</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-dhclient\"><a href=\"#6-dhclient\" class=\"headerlink\" title=\"6.dhclient\"></a>6.dhclient</h3><p><strong>dhclient命令</strong>使用动态主机配置协议动态的配置网络接口的网络参数，也支持BOOTP协议。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dhclient [参数] [网络接口]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-4 : 使用DHCPv4</span><br><span class=\"line\">-6 : 使用DHCPv6</span><br><span class=\"line\">-p\t指定dhcp客户端监听的端口号（默认端口号86）</span><br><span class=\"line\">-d\t总是以前台方式运行程序</span><br><span class=\"line\">-q\t安静模式，不打印任何错误的提示信息</span><br><span class=\"line\">-r\t释放ip地址</span><br><span class=\"line\">-n\t不配置任何接口</span><br><span class=\"line\">-x\t停止正在运行的DHCP客户端，而不释放当前租约，杀死现有的dhclient</span><br><span class=\"line\">-s\t在获取ip地址之前指定DHCP服务器</span><br><span class=\"line\">-w\t即使没有找到广播接口，也继续运行</span><br></pre></td></tr></table></figure>\n<h3 id=\"7-nc\"><a href=\"#7-nc\" class=\"headerlink\" title=\"7.nc\"></a>7.nc</h3><p><strong>nc</strong>是netcat的简写</p>\n<p><strong>nc的作用</strong></p>\n<p>（1）实现任意TCP/UDP端口的侦听，nc可以作为server以TCP或UDP方式侦听指定端口</p>\n<p>（2）端口的扫描，nc可以作为client发起TCP或UDP连接</p>\n<p>（3）机器之间传输文件</p>\n<p>（4）机器之间网络测速</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：nc [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-g&lt;网关&gt;：设置路由器跃程通信网关，最多设置8个；</span><br><span class=\"line\">-G&lt;指向器数目&gt;：设置来源路由指向器，其数值为4的倍数；</span><br><span class=\"line\">-h：在线帮助；</span><br><span class=\"line\">-i&lt;延迟秒数&gt;：设置时间间隔，以便传送信息及扫描通信端口；</span><br><span class=\"line\">-l：使用监听模式，监控传入的资料；</span><br><span class=\"line\">-n：直接使用ip地址，而不通过域名服务器；</span><br><span class=\"line\">-o&lt;输出文件&gt;：指定文件名称，把往来传输的数据以16进制字码倾倒成该文件保存；</span><br><span class=\"line\">-p&lt;通信端口&gt;：设置本地主机使用的通信端口；</span><br><span class=\"line\">-r：指定源端口和目的端口都进行随机的选择；</span><br><span class=\"line\">-s&lt;来源位址&gt;：设置本地主机送出数据包的IP地址；</span><br><span class=\"line\">-u：使用UDP传输协议；</span><br><span class=\"line\">-v：显示指令执行过程；</span><br><span class=\"line\">-w&lt;超时秒数&gt;：设置等待连线的时间；</span><br><span class=\"line\">-z：使用0输入/输出模式，只在扫描通信端口时使用。</span><br></pre></td></tr></table></figure>\n<h3 id=\"8-nslookup\"><a href=\"#8-nslookup\" class=\"headerlink\" title=\"8.nslookup\"></a>8.nslookup</h3><p>nslookup命令是常用域名查询工具，就是查DNS信息用的命令。</p>\n<p>nslookup命令的英文全称为 “query Internet name server interactively ”。nslookup有两种工作模式，即“交互模式”和“非交互模式”。在“交互模式”下，用户可以向域名服务器查询各类主机、域名的信息，或者输出域名中的主机列表。而在“非交互模式”下，用户可以针对一个主机或域名仅仅获取特定的名称或所需信息。</p>\n<p>进入交互模式，直接输入nslookup命令，不加任何参数，则直接进入交互模式，此时nslookup会连接到默认的域名服务器（即/etc/resolv.conf的第一个dns地址）。或者输入nslookup -nameserver/ip。进入非交互模式，就直接输入nslookup 域名就可以了。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：nslookup [参数] [域名]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-sil\t不显示任何警告信息</span><br><span class=\"line\">exit\t退出命令</span><br><span class=\"line\">server\t指定解析域名的服务器地址</span><br><span class=\"line\">set type=soa\t设置查询域名授权起始信息</span><br><span class=\"line\">set type=a\t设置查询域名A记录</span><br><span class=\"line\">set type=mx\t设置查询域名邮件交换记录</span><br></pre></td></tr></table></figure>\n<h3 id=\"9-host\"><a href=\"#9-host\" class=\"headerlink\" title=\"9.host\"></a>9.host</h3><p><strong>host命令</strong>是常用的分析域名查询工具，可以用来测试域名系统工作是否正常。</p>\n<p><strong>host命令</strong>是一个用于执行DNS查找的简单实用程序。它通常用于将名称转换为IP地址，反之亦然。 如果没有给出参数或选项，host将打印其命令行参数和选项的简短摘要。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：host [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a\t显示详细的DNS信息</span><br><span class=\"line\">-c\t指定查询类型，默认值为“IN”</span><br><span class=\"line\">-C\t查询指定主机的完整的SOA记录</span><br><span class=\"line\">-r\t不使用递归的查询方式查询域名</span><br><span class=\"line\">-t\t指定查询的域名信息类型</span><br><span class=\"line\">-v\t显示指令执行的详细信息</span><br><span class=\"line\">-w\t如果域名服务器没有给出应答信息，则总是等待，直到域名服务器给出应答</span><br><span class=\"line\">-W\t指定域名查询的最长时间，如果在指定时间内域名服务器没有给出应答信息则退出</span><br><span class=\"line\">-4\t使用IPv4查询传输 （默认）</span><br><span class=\"line\">-6\t使用IPv6查询传输</span><br></pre></td></tr></table></figure>\n<h3 id=\"10-arp\"><a href=\"#10-arp\" class=\"headerlink\" title=\"10.arp\"></a>10.arp</h3><p><strong>arp命令</strong>用于操作主机的arp缓冲区，它可以显示arp缓冲区中的所有条目、删除指定的条目或者添加静态的<a href=\"http://man.linuxde.net/ip\">ip</a>地址与MAC地址对应关系。</p>\n<p><strong>arp命令</strong>的英文全拼“Address Resolution Protocol” 。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：arp [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a\t显示arp缓存的所有条目，主机位可选参数</span><br><span class=\"line\">-H\t指定arp指令使用的地址类型</span><br><span class=\"line\">-d\t从arp缓存中删除指定主机的arp条目</span><br><span class=\"line\">-D\t使用指定接口的硬件地址</span><br><span class=\"line\">-e\t以linux的显示风格显示arp缓存中的条目</span><br><span class=\"line\">-i\t指定要操作arp缓存的网络接口</span><br><span class=\"line\">-n\t以数字方式显示arp缓存中的条目</span><br><span class=\"line\">-v\t显示详细的arp缓存条目，包括缓存条目的统计信息</span><br><span class=\"line\">-f\t设置主机的IP地址与MAC地址的静态映射</span><br></pre></td></tr></table></figure>\n<h3 id=\"11-netstat\"><a href=\"#11-netstat\" class=\"headerlink\" title=\"11.netstat\"></a>11.netstat</h3><p>netstat命令用于显示各种网络相关信息，如网络连接，路由表，接口状态 (Interface Statistics)，masquerade 连接，多播成员 (Multicast Memberships) 等等。</p>\n<p>从整体上看，netstat的输出结果可以分为两个部分：一个是Active Internet connections，称为有源TCP连接，其中”Recv-Q”和”Send-Q”指%0A的是接收队列和发送队列。这些数字一般都应该是0。如果不是则表示软件包正在队列中堆积。这种情况只能在非常少的情况见到；另一个是Active UNIX domain sockets，称为有源Unix域套接口(和网络套接字一样，但是只能用于本机通信，性能可以提高一倍)。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：netstat [选项] [参数]</span><br></pre></td></tr></table></figure>\n<p><img src=\"../img/image-20240830172059319.png\" alt=\"image-20240830172059319\" style=\"zoom:67%;\" /></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a或--all：显示所有连线中的Socket；</span><br><span class=\"line\">-A&lt;网络类型&gt;或--&lt;网络类型&gt;：列出该网络类型连线中的相关地址；</span><br><span class=\"line\">-c或--continuous：持续列出网络状态；</span><br><span class=\"line\">-C或--cache：显示路由器配置的快取信息；</span><br><span class=\"line\">-e或--extend：显示网络其他相关信息；</span><br><span class=\"line\">-F或--fib：显示FIB；</span><br><span class=\"line\">-g或--groups：显示多重广播功能群组组员名单；</span><br><span class=\"line\">-h或--help：在线帮助；</span><br><span class=\"line\">-i或--interfaces：显示网络界面信息表单；</span><br><span class=\"line\">-l或--listening：显示监控中的服务器的Socket；</span><br><span class=\"line\">-M或--masquerade：显示伪装的网络连线；</span><br><span class=\"line\">-n或--numeric：直接使用ip地址，而不通过域名服务器；</span><br><span class=\"line\">-N或--netlink或--symbolic：显示网络硬件外围设备的符号连接名称；</span><br><span class=\"line\">-o或--timers：显示计时器；</span><br><span class=\"line\">-p或--programs：显示正在使用Socket的程序识别码和程序名称；</span><br><span class=\"line\">-r或--route：显示Routing Table；</span><br><span class=\"line\">-s或--statistice：显示网络工作信息统计表；</span><br><span class=\"line\">-t或--tcp：显示TCP传输协议的连线状况；</span><br><span class=\"line\">-u或--udp：显示UDP传输协议的连线状况；</span><br><span class=\"line\">-v或--verbose：显示指令执行过程；</span><br><span class=\"line\">-V或--version：显示版本信息；</span><br><span class=\"line\">-w或--raw：显示RAW传输协议的连线状况；</span><br><span class=\"line\">-x或--unix：此参数的效果和指定&quot;-A unix&quot;参数相同；</span><br><span class=\"line\">--ip或--inet：此参数的效果和指定&quot;-A inet&quot;参数相同。</span><br></pre></td></tr></table></figure>\n<h3 id=\"12-traceroute\"><a href=\"#12-traceroute\" class=\"headerlink\" title=\"12.traceroute\"></a>12.traceroute</h3><p>traceroute命令用于追踪数据包在网络上的传输时的全部路径，它默认发送的数据包大小是40字节。通过traceroute我们可以知道信息从你的计算机到互联网另一端的主机是走的什么路径。当然每次数据包由某一同样的出发点（source）到达某一同样的目的地(destination)走的路径可能会不一样，但基本上来说大部分时候所走的路由是相同的。</p>\n<p>traceroute通过发送小的数据包到目的设备直到其返回，来测量其需要多长时间。一条路径上的每个设备traceroute要测3次。输出结果中包括每次测试的时间(ms)和设备的名称（如有的话）及其ip地址。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：traceroute [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-d\t使用Socket层级的排错功能</span><br><span class=\"line\">-f&lt;存活数值&gt;\t设置第一个检测数据包的存活数值TTL的大小</span><br><span class=\"line\">-F\t设置勿离断位</span><br><span class=\"line\">-g&lt;网关&gt;\t设置来源路由网关，最多可设置8个</span><br><span class=\"line\">-i&lt;网络界面&gt;\t使用指定的网络界面送出数据包</span><br><span class=\"line\">-I\t使用ICMP回应取代UDP资料信息</span><br><span class=\"line\">-m&lt;存活数值&gt;\t设置检测数据包的最大存活数值TTL的大小</span><br><span class=\"line\">-n\t直接使用IP地址而非主机名称</span><br><span class=\"line\">-p&lt;通信端口&gt;\t设置UDP传输协议的通信端口</span><br><span class=\"line\">-r\t忽略普通的Routing Table，直接将数据包送到远端主机上</span><br><span class=\"line\">-s&lt;来源地址&gt;\t设置本地主机送出数据包的IP地址</span><br><span class=\"line\">-t&lt;服务类型&gt;\t设置检测数据包的TOS数值</span><br><span class=\"line\">-v\t详细显示指令的执行过程</span><br><span class=\"line\">-w\t设置等待远端主机回报的时间</span><br><span class=\"line\">-x\t开启或关闭数据包的正确性检验</span><br></pre></td></tr></table></figure>\n<h3 id=\"13-tracepath\"><a href=\"#13-tracepath\" class=\"headerlink\" title=\"13.tracepath\"></a>13.tracepath</h3><p><strong>tracepath命令</strong>用来追踪并显示报文到达目的主机所经过的路由信息，能够发现路由中的MTU值。tracepath使用套接字API来实现其所有功能，不需要root权限。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：tracepath [-n] [-b] [-l &lt;len&gt;] [-p port] &lt;destination&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-n\t只显示ip地址</span><br><span class=\"line\">-b\t同时显示ip地址和主机名</span><br><span class=\"line\">-l\t设置初始化的数据包长度，默认为65535</span><br><span class=\"line\">-m\t设置最大TTL值，默认为30</span><br><span class=\"line\">-p\t设置要使用的初始目标端口</span><br></pre></td></tr></table></figure>\n<h3 id=\"14-route\"><a href=\"#14-route\" class=\"headerlink\" title=\"14.route\"></a>14.route</h3><p>route命令用来显示并设置linux内核中的网络路由表，route命令设置的路由主要是静态路由。要实现两个不同的子网之间的通信，需要一台连接两个网络的路由器，或者同时位于两个网络的网关来实现。</p>\n<p>在linux系统中设置路由通常是为了解决以下问题：该linux系统在一个局域网中，局域网中有一个网关，能够让主机访问Internet，那么就需要将这台机器的ip地址设置为linux机器的默认路由。</p>\n<p>要注意的是：直接在命令行下执行route命令来添加路由，不会永久保存。当网卡重启或者机器重启之后，该路由就失效了。可以在/etc/rc.local中添加route命令来保证该路由设置永久有效。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">route [-nNvee] [-FC] [&lt;AF&gt;]           List kernel routing tables</span><br><span class=\"line\">route [-v] [-FC] &#123;add|del|flush&#125; ...  Modify routing table for AF.</span><br><span class=\"line\">route &#123;-h|--help&#125; [&lt;AF&gt;]              Detailed usage syntax for specified AF.</span><br><span class=\"line\">route &#123;-V|--version&#125;                  Display version/author and exit.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-v</span><br><span class=\"line\">    选用细节操作模式</span><br><span class=\"line\">-A family</span><br><span class=\"line\">    用指定的地址族(如`inet&#x27;，`inet6&#x27;)。</span><br><span class=\"line\">-n</span><br><span class=\"line\">    以数字形式代替解释主机名形式来显示地址。此项对试图检测对域名服务器进行路由发生故障的原因非常有用。</span><br><span class=\"line\">-e</span><br><span class=\"line\">    用netstat(8)的格式来显示选路表。-ee将产生包括选路表所有参数在内的大量信息。</span><br><span class=\"line\">-net</span><br><span class=\"line\">    路由目标为网络。</span><br><span class=\"line\">-host</span><br><span class=\"line\">    路由目标为主机。</span><br><span class=\"line\">-F</span><br><span class=\"line\">    显示内核的FIB选路表。其格式可以用-e 和 -ee选项改变。</span><br><span class=\"line\">-C</span><br><span class=\"line\">    显示内核的路由缓存。</span><br><span class=\"line\">del</span><br><span class=\"line\">    删除一条路由。</span><br><span class=\"line\">add</span><br><span class=\"line\">    添加一条路由。</span><br><span class=\"line\">target</span><br><span class=\"line\">    指定目标网络或主机。可以用点分十进制形式的IP地址或主机/网络名。</span><br><span class=\"line\">netmask Nm</span><br><span class=\"line\">    为添加的路由指定网络掩码。</span><br><span class=\"line\">gw Gw</span><br><span class=\"line\">    为发往目标网络/主机的任何分组指定网关。注意：指定的网关首先必须是可达的。也就是说必须为该网关预先</span><br><span class=\"line\">    指定一条静态路由。如果你为本地接口之一指定这个网关地址的话，那么此网关地址将用于决定此接口上的分组</span><br><span class=\"line\">    将如何进行路由。这是BSD风格所兼容的。</span><br><span class=\"line\">metric M</span><br><span class=\"line\">    把选路表中的路由值字段(由选路进程使用)设为M。</span><br><span class=\"line\">mss M</span><br><span class=\"line\">    把基于此路由之上的连接的TCP最大报文段长度设为M字节。这通常只用于优化选路设置。默认值为536。</span><br><span class=\"line\">window W</span><br><span class=\"line\">    把基于此路由之上的连接的TCP窗口长度设为W字节。这通常只用于AX.25网络和不能处理背对背形式的帧的设</span><br><span class=\"line\">    备。</span><br><span class=\"line\">irtt I</span><br><span class=\"line\">    把基于此路由之上的TCP连接的初始往返时间设为I毫秒(1-12000)。这通常也只用于AX.25网络。如果省略此</span><br><span class=\"line\">    选项，则使用RFC1122的缺省值300ms。</span><br><span class=\"line\">reject</span><br><span class=\"line\">    设置一条阻塞路由以使一条路由查找失败。这用于在使用缺省路由前先屏蔽掉一些网络。但这并不起到防火墙的</span><br><span class=\"line\">    作用。</span><br><span class=\"line\">mod, dyn, reinstate</span><br><span class=\"line\">    设置一条动态的或更改过的路由。这些标志通常只由选路进程来设置。这只用于诊断目的，</span><br><span class=\"line\">dev If</span><br><span class=\"line\">    强制使路由与指定的设备关联，因为否则内核会自己来试图检测相应的设备(通常检查已存在的路由和加入路由</span><br><span class=\"line\">    的设备的规格)。在多数正常的网络上无需使用。</span><br><span class=\"line\">    如果dev If是命令行上最后一个指定的选项，那么可以省略关键字dev，因为它是缺省值。否则路由修改对象</span><br><span class=\"line\">    (metric - netmask- gw - dev)无关紧要。</span><br></pre></td></tr></table></figure>\n<h3 id=\"15-ss\"><a href=\"#15-ss\" class=\"headerlink\" title=\"15.ss\"></a>15.ss</h3><p>ss是Socket Statistics的缩写。</p>\n<p>ss命令用来显示处于活动状态的套接字信息。ss命令可以用来获取socket统计信息，它可以显示和netstat类似的内容。但ss的优势在于它能够显示更多更详细的有关TCP和连接状态的信息，而且比netstat更快速更高效。</p>\n<p>当服务器的socket连接数量变得非常大时，无论是使用netstat命令还是直接cat /proc/net/tcp，执行速度都会很慢。可能你不会有切身的感受，但请相信我，当服务器维持的连接达到上万个的时候，使用netstat等于浪费 生命，而用ss才是节省时间。</p>\n<p>天下武功唯快不破。ss快的秘诀在于，它利用到了TCP协议栈中tcp_diag。tcp_diag是一个用于分析统计的模块，可以获得Linux 内核中第一手的信息，这就确保了ss的快捷高效。当然，如果你的系统中没有tcp_diag，ss也可以正常运行，只是效率会变得稍慢。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ss [选项]</span><br><span class=\"line\">ss [选项] [过滤]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-h, --help\t帮助信息</span><br><span class=\"line\">-V, --version\t程序版本信息</span><br><span class=\"line\">-n, --numeric\t不解析服务名称</span><br><span class=\"line\">-r, --resolve        解析主机名</span><br><span class=\"line\">-a, --all\t显示所有套接字（sockets）</span><br><span class=\"line\">-l, --listening\t显示监听状态的套接字（sockets）</span><br><span class=\"line\">-o, --options        显示计时器信息</span><br><span class=\"line\">-e, --extended       显示详细的套接字（sockets）信息</span><br><span class=\"line\">-m, --memory         显示套接字（socket）的内存使用情况</span><br><span class=\"line\">-p, --processes\t显示使用套接字（socket）的进程</span><br><span class=\"line\">-i, --info\t显示 TCP内部信息</span><br><span class=\"line\">-s, --summary\t显示套接字（socket）使用概况</span><br><span class=\"line\">-4, --ipv4           仅显示IPv4的套接字（sockets）</span><br><span class=\"line\">-6, --ipv6           仅显示IPv6的套接字（sockets）</span><br><span class=\"line\">-0, --packet\t        显示 PACKET 套接字（socket）</span><br><span class=\"line\">-t, --tcp\t仅显示 TCP套接字（sockets）</span><br><span class=\"line\">-u, --udp\t仅显示 UCP套接字（sockets）</span><br><span class=\"line\">-d, --dccp\t仅显示 DCCP套接字（sockets）</span><br><span class=\"line\">-w, --raw\t仅显示 RAW套接字（sockets）</span><br><span class=\"line\">-x, --unix\t仅显示 Unix套接字（sockets）</span><br><span class=\"line\">-f, --family=FAMILY  显示 FAMILY类型的套接字（sockets），FAMILY可选，支持  unix, inet,   \tinet6, link, netlink</span><br><span class=\"line\"></span><br><span class=\"line\">-A, --query=QUERY, --socket=QUERY</span><br><span class=\"line\">      QUERY := &#123;all|inet|tcp|udp|raw|unix|packet|netlink&#125;[,QUERY]</span><br><span class=\"line\"></span><br><span class=\"line\">-D, --diag=FILE     将原始TCP套接字（sockets）信息转储到文件</span><br><span class=\"line\">-F, --filter=FILE   从文件中都去过滤器信息</span><br><span class=\"line\">       FILTER := [ state TCP-STATE ] [ EXPRESSION ]</span><br></pre></td></tr></table></figure>\n<h3 id=\"16-ssh\"><a href=\"#16-ssh\" class=\"headerlink\" title=\"16.ssh\"></a>16.ssh</h3><p><strong>ssh命令</strong>是openssh套件中的客户端连接工具，可以给予ssh加密协议实现安全的远程登录服务器，实现对服务器的远程管理。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：ssh [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-1\t强制使用ssh协议版本1</span><br><span class=\"line\">-2\t强制使用ssh协议版本2</span><br><span class=\"line\">-4\t强制使用IPv4地址</span><br><span class=\"line\">-6\t强制使用IPv6地址</span><br><span class=\"line\">-A\t开启认证代理连接转发功能</span><br><span class=\"line\">-a\t关闭认证代理连接转发功能</span><br><span class=\"line\">-b&lt;IP地址&gt;\t使用本机指定的地址作为对位连接的源IP地址</span><br><span class=\"line\">-C\t请求压缩所有数据</span><br><span class=\"line\">-F&lt;配置文件&gt;\t指定ssh指令的配置文件，默认的配置文件为“/etc/ssh/ssh_config”</span><br><span class=\"line\">-f\t后台执行ssh指令</span><br><span class=\"line\">-g\t允许远程主机连接本机的转发端口</span><br><span class=\"line\">-i&lt;身份文件&gt;\t指定身份文件（即私钥文件）</span><br><span class=\"line\">-l&lt;登录名&gt;\t指定连接远程服务器的登录用户名</span><br><span class=\"line\">-N\t不执行远程指令</span><br><span class=\"line\">-o&lt;选项&gt;\t指定配置选项</span><br><span class=\"line\">-p&lt;端口&gt;\t指定远程服务器上的端口</span><br><span class=\"line\">-q\t静默模式，所有的警告和诊断信息被禁止输出</span><br><span class=\"line\">-X\t开启X11转发功能</span><br><span class=\"line\">-x\t关闭X11转发功能</span><br><span class=\"line\">-y\t开启信任X11转发功能</span><br></pre></td></tr></table></figure>\n<h3 id=\"17-sshd\"><a href=\"#17-sshd\" class=\"headerlink\" title=\"17.sshd\"></a>17.sshd</h3><p>sshd命令是opensshd软件套件中的服务器守护进程。</p>\n<p>openssh套件在不安全的网络中为两台为信任的主机之间建立加密的数据通信，是rlogin、rsh等明文传输数据的通信工具的替代品。sshd指令是openssh套件中的核心程序，其他的指令（如，sftp-server、slogin、scp）等都是基于sshd命令的。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式: sshd [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-4\t强制使用IPv4地址</span><br><span class=\"line\">-6\t强制使用IPv6地址</span><br><span class=\"line\">-D\t以非后台守护进程的方式运行服务器</span><br><span class=\"line\">-d\t调试模式</span><br><span class=\"line\">-e\t将错误发送到标准错误设备，而不是将其发送到系统日志</span><br><span class=\"line\">-f&lt;配置文件&gt;\t指定服务器的配置文件</span><br><span class=\"line\">-g&lt;登录过期时间&gt;\t指定客户端登录的过期时间（默认时间为120秒），如果在此期限内，用户没有正确认证，则服务器断开此客户端的连接</span><br><span class=\"line\">-h&lt;主机key文件&gt;\t指定读取主机key文件</span><br><span class=\"line\">-i\tsshd以inetd方式运行</span><br><span class=\"line\">-o&lt;选项&gt;\t指定sshd的配置选项</span><br><span class=\"line\">-p&lt;端口&gt;\t指定使用的端口号</span><br><span class=\"line\">-q\t静默模式，没有任何信息写入系统日志</span><br><span class=\"line\">-t\t测试模式</span><br></pre></td></tr></table></figure>\n<h3 id=\"18-ssh-keygen\"><a href=\"#18-ssh-keygen\" class=\"headerlink\" title=\"18.ssh-keygen\"></a>18.ssh-keygen</h3><p><strong>ssh-keygen命令</strong>用于为“ssh”生成、管理和转换认证密钥，它支持RSA和DSA两种认证密钥。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">语法</span><br><span class=\"line\">     ssh-keygen [-q] [-b bits] -t type [-N new_passphrase] [-C comment] [-f output_keyfile]</span><br><span class=\"line\">     ssh-keygen -p [-P old_passphrase] [-N new_passphrase] [-f keyfile]</span><br><span class=\"line\">     ssh-keygen -i [-f input_keyfile]</span><br><span class=\"line\">     ssh-keygen -e [-f input_keyfile]</span><br><span class=\"line\">     ssh-keygen -y [-f input_keyfile]</span><br><span class=\"line\">     ssh-keygen -c [-P passphrase] [-C comment] [-f keyfile]</span><br><span class=\"line\">     ssh-keygen -l [-f input_keyfile]</span><br><span class=\"line\">     ssh-keygen -B [-f input_keyfile]</span><br><span class=\"line\">     ssh-keygen -D reader</span><br><span class=\"line\">     ssh-keygen -F hostname [-f known_hosts_file]</span><br><span class=\"line\">     ssh-keygen -H [-f known_hosts_file]</span><br><span class=\"line\">     ssh-keygen -R hostname [-f known_hosts_file]</span><br><span class=\"line\">     ssh-keygen -U reader [-f input_keyfile]</span><br><span class=\"line\">     ssh-keygen -r hostname [-f input_keyfile] [-g]</span><br><span class=\"line\">     ssh-keygen -G output_file [-v] [-b bits] [-M memory] [-S start_point]</span><br><span class=\"line\">     ssh-keygen -T output_file -f input_file [-v] [-a num_trials] [-W generator]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-b：指定密钥长度；</span><br><span class=\"line\">-e：读取openssh的私钥或者公钥文件；</span><br><span class=\"line\">-C：添加注释；</span><br><span class=\"line\">-f：指定用来保存密钥的文件名；</span><br><span class=\"line\">-i：读取未加密的ssh-v2兼容的私钥/公钥文件，然后在标准输出设备上显示openssh兼容的私钥/公钥；</span><br><span class=\"line\">-l：显示公钥文件的指纹数据；</span><br><span class=\"line\">-N：提供一个新密语；</span><br><span class=\"line\">-P：提供（旧）密语；</span><br><span class=\"line\">-q：静默模式；</span><br><span class=\"line\">-t：指定要创建的密钥类型。</span><br></pre></td></tr></table></figure>\n<h3 id=\"19-ip\"><a href=\"#19-ip\" class=\"headerlink\" title=\"19.ip\"></a>19.ip</h3><p><strong>ip命令</strong>用来显示或操纵linux主机的路由、网络设备、策略路由和隧道，是Linux下较新的功能强大的网络配置工具。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：ip [参数] [选项]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-V：显示指令版本信息</span><br><span class=\"line\">-s：输出更详细的信息</span><br><span class=\"line\">-f：强制使用指定的协议族</span><br><span class=\"line\">-4：指定使用的网络层协议是IPv4协议</span><br><span class=\"line\">-6：指定使用的网络层协议是IPv6协议</span><br><span class=\"line\">-0：输出信息每条记录输出一行，即使内容较多也不换行显示</span><br><span class=\"line\">-r：显示主机时，不使用IP地址，而使用主机的域名</span><br></pre></td></tr></table></figure>\n<h3 id=\"20-tcpdump\"><a href=\"#20-tcpdump\" class=\"headerlink\" title=\"20.tcpdump\"></a>20.tcpdump</h3><p><strong>tcpdump命令</strong>是一款sniffer工具，它可以打印所有经过网络接口的数据包的头信息，也可以使用<code>-w</code>选项将数据包保存到文件中，方便以后分析。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：tcpdump [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a：尝试将网络和广播地址转换成名称</span><br><span class=\"line\">-c&lt;数据包数目&gt;：收到指定的数据包数目后，就停止进行倾倒操作</span><br><span class=\"line\">-d：把编译过的数据包编码转换成可阅读的格式，并倾倒到标准输出</span><br><span class=\"line\">-dd：把编译过的数据包编码转换成C语言的格式，并倾倒到标准输出</span><br><span class=\"line\">-ddd：把编译过的数据包编码转换成十进制数字的格式，并倾倒到标准输出</span><br><span class=\"line\">-e：在每列倾倒资料上显示连接层级的文件头</span><br><span class=\"line\">-f：用数字显示网际网络地址</span><br><span class=\"line\">-F&lt;表达文件&gt;：指定内含表达方式的文件</span><br><span class=\"line\">-i&lt;网络界面&gt;：使用指定的网络截面送出数据包</span><br><span class=\"line\">-l：使用标准输出列的缓冲区</span><br><span class=\"line\">-n：不把主机的网络地址转换成名字</span><br><span class=\"line\">-N：不列出域名</span><br><span class=\"line\">-O：不将数据包编码最佳化</span><br><span class=\"line\">-p：不让网络界面进入混杂模式</span><br><span class=\"line\">-q ：快速输出，仅列出少数的传输协议信息</span><br><span class=\"line\">-r&lt;数据包文件&gt;：从指定的文件读取数据包数据</span><br><span class=\"line\">-s&lt;数据包大小&gt;：设置每个数据包的大小</span><br><span class=\"line\">-S：用绝对而非相对数值列出TCP关联数</span><br><span class=\"line\">-t：在每列倾倒资料上不显示时间戳记</span><br><span class=\"line\">-tt： 在每列倾倒资料上显示未经格式化的时间戳记</span><br><span class=\"line\">-T&lt;数据包类型&gt;：强制将表达方式所指定的数据包转译成设置的数据包类型</span><br><span class=\"line\">-v：详细显示指令执行过程</span><br><span class=\"line\">-vv：更详细显示指令执行过程</span><br><span class=\"line\">-x：用十六进制字码列出数据包资料</span><br><span class=\"line\">-w&lt;数据包文件&gt;：把数据包数据写入指定的文件</span><br></pre></td></tr></table></figure>\n<h3 id=\"21-scp\"><a href=\"#21-scp\" class=\"headerlink\" title=\"21.scp\"></a>21.scp</h3><p>scp 就是 secure copy ，是一个在 Linux 下用来进行 <strong>远程拷贝文件</strong> 的命令<br>它的<strong>地址格式与 ssh 基本相同</strong>，需要注意的是，在指定端口时用的是大写的 -P 而不是小写的</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 把本地当前目录下的 01.py 文件 复制到 远程 家目录下的 Desktop/01.py</span><br><span class=\"line\"># 注意：`:` 后面的路径如果不是绝对路径，则以用户的家目录作为参照路径</span><br><span class=\"line\">scp -P port 01.py user@remote:Desktop/01.py</span><br><span class=\"line\"># 把远程 家目录下的 Desktop/01.py 文件 复制到 本地当前目录下的 01.py</span><br><span class=\"line\">scp -P port user@remote:Desktop/01.py 01.py</span><br><span class=\"line\"># 加上 -r 选项可以传送文件夹</span><br><span class=\"line\"># 把当前目录下的 demo 文件夹 复制到 远程 家目录下的 Desktop</span><br><span class=\"line\">scp -r demo user@remote:Desktop</span><br><span class=\"line\"># 把远程 家目录下的 Desktop 复制到 当前目录下的 demo 文件夹</span><br><span class=\"line\">scp -r user@remote:Desktop demo</span><br></pre></td></tr></table></figure>\n<h3 id=\"22-wget\"><a href=\"#22-wget\" class=\"headerlink\" title=\"22.wget\"></a>22.wget</h3><p>wget命令用来从指定的URL下载文件。wget非常稳定，它在带宽很窄的情况下和不稳定网络中有很强的适应性，如果是由于网络的原因下载失败，wget会不断的尝试，直到整个文件下载完毕。如果是服务器打断下载过程，它会再次联到服务器上从停止的地方继续下载。这对从那些限定了链接时间的服务器上下载大文件非常有用。</p>\n<p>wget支持HTTP，HTTPS和FTP协议，可以使用HTTP代理。所谓的自动下载是指，wget可以在用户退出系统的之后在后台执行。这意味这你可以登录系统，启动一个wget下载任务，然后退出系统，wget将在后台执行直到任务完成，相对于其它大部分浏览器在下载大量数据时需要用户一直的参与，这省去了极大的麻烦。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法： wget [选项]... [URL]...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">长选项所必须的参数在使用短选项时也是必须的。</span><br><span class=\"line\"></span><br><span class=\"line\">启动：</span><br><span class=\"line\">  -V,  --version           显示 Wget 的版本信息并退出。</span><br><span class=\"line\">  -h,  --help              打印此帮助。</span><br><span class=\"line\">  -b,  --background        启动后转入后台。</span><br><span class=\"line\">  -e,  --execute=COMMAND   运行一个“.wgetrc”风格的命令。</span><br><span class=\"line\"></span><br><span class=\"line\">日志和输入文件：</span><br><span class=\"line\">  -o,  --output-file=FILE    将日志信息写入 FILE。</span><br><span class=\"line\">  -a,  --append-output=FILE  将信息添加至 FILE。</span><br><span class=\"line\">  -d,  --debug               打印大量调试信息。</span><br><span class=\"line\">  -q,  --quiet               安静模式 (无信息输出)。</span><br><span class=\"line\">  -v,  --verbose             详尽的输出 (此为默认值)。</span><br><span class=\"line\">  -nv, --no-verbose          关闭详尽输出，但不进入安静模式。</span><br><span class=\"line\">  -i,  --input-file=FILE     下载本地或外部 FILE 中的 URLs。</span><br><span class=\"line\">  -F,  --force-html          把输入文件当成 HTML 文件。</span><br><span class=\"line\">  -B,  --base=URL            解析与 URL 相关的</span><br><span class=\"line\">                             HTML 输入文件 (由 -i -F 选项指定)。</span><br><span class=\"line\">       --config=FILE         Specify config file to use.</span><br><span class=\"line\"></span><br><span class=\"line\">下载：</span><br><span class=\"line\">  -t,  --tries=NUMBER            设置重试次数为 NUMBER (0 代表无限制)。</span><br><span class=\"line\">       --retry-connrefused       即使拒绝连接也是重试。</span><br><span class=\"line\">  -O,  --output-document=FILE    将文档写入 FILE。</span><br><span class=\"line\">  -nc, --no-clobber              skip downloads that would download to</span><br><span class=\"line\">                                 existing files (overwriting them).</span><br><span class=\"line\">  -c,  --continue                断点续传下载文件。</span><br><span class=\"line\">       --progress=TYPE           选择进度条类型。</span><br><span class=\"line\">  -N,  --timestamping            只获取比本地文件新的文件。</span><br><span class=\"line\">  --no-use-server-timestamps     不用服务器上的时间戳来设置本地文件。</span><br><span class=\"line\">  -S,  --server-response         打印服务器响应。</span><br><span class=\"line\">       --spider                  不下载任何文件。</span><br><span class=\"line\">  -T,  --timeout=SECONDS         将所有超时设为 SECONDS 秒。</span><br><span class=\"line\">       --dns-timeout=SECS        设置 DNS 查寻超时为 SECS 秒。</span><br><span class=\"line\">       --connect-timeout=SECS    设置连接超时为 SECS 秒。</span><br><span class=\"line\">       --read-timeout=SECS       设置读取超时为 SECS 秒。</span><br><span class=\"line\">  -w,  --wait=SECONDS            等待间隔为 SECONDS 秒。</span><br><span class=\"line\">       --waitretry=SECONDS       在获取文件的重试期间等待 1..SECONDS 秒。</span><br><span class=\"line\">       --random-wait             获取多个文件时，每次随机等待间隔</span><br><span class=\"line\">                                 0.5*WAIT...1.5*WAIT 秒。</span><br><span class=\"line\">       --no-proxy                禁止使用代理。</span><br><span class=\"line\">  -Q,  --quota=NUMBER            设置获取配额为 NUMBER 字节。</span><br><span class=\"line\">       --bind-address=ADDRESS    绑定至本地主机上的 ADDRESS (主机名或是 IP)。</span><br><span class=\"line\">       --limit-rate=RATE         限制下载速率为 RATE。</span><br><span class=\"line\">       --no-dns-cache            关闭 DNS 查寻缓存。</span><br><span class=\"line\">       --restrict-file-names=OS  限定文件名中的字符为 OS 允许的字符。</span><br><span class=\"line\">       --ignore-case             匹配文件/目录时忽略大小写。</span><br><span class=\"line\">  -4,  --inet4-only              仅连接至 IPv4 地址。</span><br><span class=\"line\">  -6,  --inet6-only              仅连接至 IPv6 地址。</span><br><span class=\"line\">       --prefer-family=FAMILY    首先连接至指定协议的地址</span><br><span class=\"line\">                                 FAMILY 为 IPv6，IPv4 或是 none。</span><br><span class=\"line\">       --user=USER               将 ftp 和 http 的用户名均设置为 USER。</span><br><span class=\"line\">       --password=PASS           将 ftp 和 http 的密码均设置为 PASS。</span><br><span class=\"line\">       --ask-password            提示输入密码。</span><br><span class=\"line\">       --no-iri                  关闭 IRI 支持。</span><br><span class=\"line\">       --local-encoding=ENC      IRI (国际化资源标识符) 使用 ENC 作为本地编码。</span><br><span class=\"line\">       --remote-encoding=ENC     使用 ENC 作为默认远程编码。</span><br><span class=\"line\">       --unlink                  remove file before clobber.</span><br><span class=\"line\"></span><br><span class=\"line\">目录：</span><br><span class=\"line\">  -nd, --no-directories           不创建目录。</span><br><span class=\"line\">  -x,  --force-directories        强制创建目录。</span><br><span class=\"line\">  -nH, --no-host-directories      不要创建主目录。</span><br><span class=\"line\">       --protocol-directories     在目录中使用协议名称。</span><br><span class=\"line\">  -P,  --directory-prefix=PREFIX  以 PREFIX/... 保存文件</span><br><span class=\"line\">       --cut-dirs=NUMBER          忽略远程目录中 NUMBER 个目录层。</span><br><span class=\"line\"></span><br><span class=\"line\">HTTP 选项：</span><br><span class=\"line\">       --http-user=USER        设置 http 用户名为 USER。</span><br><span class=\"line\">       --http-password=PASS    设置 http 密码为 PASS。</span><br><span class=\"line\">       --no-cache              不在服务器上缓存数据。</span><br><span class=\"line\">       --default-page=NAME     改变默认页</span><br><span class=\"line\">                               (默认页通常是“index.html”)。</span><br><span class=\"line\">  -E,  --adjust-extension      以合适的扩展名保存 HTML/CSS 文档。</span><br><span class=\"line\">       --ignore-length         忽略头部的‘Content-Length’区域。</span><br><span class=\"line\">       --header=STRING         在头部插入 STRING。</span><br><span class=\"line\">       --max-redirect          每页所允许的最大重定向。</span><br><span class=\"line\">       --proxy-user=USER       使用 USER 作为代理用户名。</span><br><span class=\"line\">       --proxy-password=PASS   使用 PASS 作为代理密码。</span><br><span class=\"line\">       --referer=URL           在 HTTP 请求头包含‘Referer: URL’。</span><br><span class=\"line\">       --save-headers          将 HTTP 头保存至文件。</span><br><span class=\"line\">  -U,  --user-agent=AGENT      标识为 AGENT 而不是 Wget/VERSION。</span><br><span class=\"line\">       --no-http-keep-alive    禁用 HTTP keep-alive (永久连接)。</span><br><span class=\"line\">       --no-cookies            不使用 cookies。</span><br><span class=\"line\">       --load-cookies=FILE     会话开始前从 FILE 中载入 cookies。</span><br><span class=\"line\">       --save-cookies=FILE     会话结束后保存 cookies 至 FILE。</span><br><span class=\"line\">       --keep-session-cookies  载入并保存会话 (非永久) cookies。</span><br><span class=\"line\">       --post-data=STRING      使用 POST 方式；把 STRING 作为数据发送。</span><br><span class=\"line\">       --post-file=FILE        使用 POST 方式；发送 FILE 内容。</span><br><span class=\"line\">       --content-disposition   当选中本地文件名时</span><br><span class=\"line\">                               允许 Content-Disposition 头部 (尚在实验)。</span><br><span class=\"line\">       --auth-no-challenge     发送不含服务器询问的首次等待</span><br><span class=\"line\">                               的基本 HTTP 验证信息。</span><br><span class=\"line\"></span><br><span class=\"line\">HTTPS (SSL/TLS) 选项：</span><br><span class=\"line\">       --secure-protocol=PR     选择安全协议，可以是 auto、SSLv2、</span><br><span class=\"line\">                                SSLv3 或是 TLSv1 中的一个。</span><br><span class=\"line\">       --no-check-certificate   不要验证服务器的证书。</span><br><span class=\"line\">       --certificate=FILE       客户端证书文件。</span><br><span class=\"line\">       --certificate-type=TYPE  客户端证书类型，PEM 或 DER。</span><br><span class=\"line\">       --private-key=FILE       私钥文件。</span><br><span class=\"line\">       --private-key-type=TYPE  私钥文件类型，PEM 或 DER。</span><br><span class=\"line\">       --ca-certificate=FILE    带有一组 CA 认证的文件。</span><br><span class=\"line\">       --ca-directory=DIR       保存 CA 认证的哈希列表的目录。</span><br><span class=\"line\">       --random-file=FILE       带有生成 SSL PRNG 的随机数据的文件。</span><br><span class=\"line\">       --egd-file=FILE          用于命名带有随机数据的 EGD 套接字的文件。</span><br><span class=\"line\"></span><br><span class=\"line\">FTP 选项：</span><br><span class=\"line\">       --ftp-user=USER         设置 ftp 用户名为 USER。</span><br><span class=\"line\">       --ftp-password=PASS     设置 ftp 密码为 PASS。</span><br><span class=\"line\">       --no-remove-listing     不要删除‘.listing’文件。</span><br><span class=\"line\">       --no-glob               不在 FTP 文件名中使用通配符展开。</span><br><span class=\"line\">       --no-passive-ftp        禁用“passive”传输模式。</span><br><span class=\"line\">       --retr-symlinks         递归目录时，获取链接的文件 (而非目录)。</span><br><span class=\"line\"></span><br><span class=\"line\">递归下载：</span><br><span class=\"line\">  -r,  --recursive          指定递归下载。</span><br><span class=\"line\">  -l,  --level=NUMBER       最大递归深度 (inf 或 0 代表无限制，即全部下载)。</span><br><span class=\"line\">       --delete-after       下载完成后删除本地文件。</span><br><span class=\"line\">  -k,  --convert-links      让下载得到的 HTML 或 CSS 中的链接指向本地文件。</span><br><span class=\"line\">  -K,  --backup-converted   在转换文件 X 前先将它备份为 X.orig。</span><br><span class=\"line\">  -m,  --mirror             -N -r -l inf --no-remove-listing 的缩写形式。</span><br><span class=\"line\">  -p,  --page-requisites    下载所有用于显示 HTML 页面的图片之类的元素。</span><br><span class=\"line\">       --strict-comments    用严格方式 (SGML) 处理 HTML 注释。</span><br><span class=\"line\"></span><br><span class=\"line\">递归接受/拒绝：</span><br><span class=\"line\">  -A,  --accept=LIST               逗号分隔的可接受的扩展名列表。</span><br><span class=\"line\">  -R,  --reject=LIST               逗号分隔的要拒绝的扩展名列表。</span><br><span class=\"line\">  -D,  --domains=LIST              逗号分隔的可接受的域列表。</span><br><span class=\"line\">       --exclude-domains=LIST      逗号分隔的要拒绝的域列表。</span><br><span class=\"line\">       --follow-ftp                跟踪 HTML 文档中的 FTP 链接。</span><br><span class=\"line\">       --follow-tags=LIST          逗号分隔的跟踪的 HTML 标识列表。</span><br><span class=\"line\">       --ignore-tags=LIST          逗号分隔的忽略的 HTML 标识列表。</span><br><span class=\"line\">  -H,  --span-hosts                递归时转向外部主机。</span><br><span class=\"line\">  -L,  --relative                  只跟踪有关系的链接。</span><br><span class=\"line\">  -I,  --include-directories=LIST  允许目录的列表。</span><br><span class=\"line\">  --trust-server-names             use the name specified by the redirection</span><br><span class=\"line\">                                   url last component.</span><br><span class=\"line\">  -X,  --exclude-directories=LIST  排除目录的列表。</span><br><span class=\"line\">  -np, --no-parent                 不追溯至父目录。</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"十六、内建命令\"><a href=\"#十六、内建命令\" class=\"headerlink\" title=\"十六、内建命令\"></a>十六、内建命令</h1><h3 id=\"1-type\"><a href=\"#1-type\" class=\"headerlink\" title=\"1.type\"></a>1.type</h3><p><strong>type命令</strong>用来显示指定命令的类型，判断给出的命令是内建命令还是外部命令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：type [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a 显示一个名字的所有可能</span><br><span class=\"line\">-t 判断一个名字当前是否是alias、keyword、function、builtin、file</span><br><span class=\"line\">-p 查看一个外部命令的执行路径</span><br><span class=\"line\">-P 查看内部命令路径</span><br></pre></td></tr></table></figure>\n<p>命令类型：</p>\n<ul>\n<li>alias：别名。</li>\n<li>keyword：关键字，Shell保留字。</li>\n<li>function：函数，Shell函数。</li>\n<li>builtin：内建命令，Shell内建命令。</li>\n<li>file：文件，磁盘文件，外部命令。</li>\n<li>unfound：没有找到。</li>\n</ul>\n<h3 id=\"2-env\"><a href=\"#2-env\" class=\"headerlink\" title=\"2.env\"></a>2.env</h3><p>env命令用于显示系统中已存在的环境变量，以及在定义的环境中执行指令。该命令只使用”-“作为参数选项时，隐藏了选项”-i”的功能。若没有设置任何选项和参数时，则直接显示当前的环境变量。</p>\n<p>如果使用env命令在新环境中执行指令时，会因为没有定义环境变量”PATH”而提示错误信息”such file or directory”。此时，用户可以重新定义一个新的”PATH”或者使用绝对路径。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：env [OPTION]... [-] [NAME=VALUE]... [COMMAND [ARG]...]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-i, --ignore-environment</span><br><span class=\"line\">    不带环境变量启动 </span><br><span class=\"line\">-u, --unset=NAME</span><br><span class=\"line\">    从环境变量中删除一个变量 </span><br><span class=\"line\">--help</span><br><span class=\"line\">    显示帮助并退出 </span><br><span class=\"line\">--version</span><br><span class=\"line\">    输出版本信息并退出 </span><br><span class=\"line\"></span><br><span class=\"line\">单独的-隐含-i.如果没有COMMAND,那么打印结果环境变量. </span><br></pre></td></tr></table></figure>\n<h3 id=\"3-set\"><a href=\"#3-set\" class=\"headerlink\" title=\"3.set\"></a>3.set</h3><p>set命令作用主要是显示系统中已经存在的shell变量，以及设置shell变量的新变量值。使用set更改shell特性时，符号”+“和”-“的作用分别是打开和关闭指定的模式。set命令不能够定义新的shell变量。如果要定义新的变量，可以使用declare命令以变量名=值的格式进行定义即可。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：set [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a\t标示已修改的变量，以供输出至环境变量</span><br><span class=\"line\">-b\t使被中止的后台程序立刻回报执行状态</span><br><span class=\"line\">-C\t转向所产生的文件无法覆盖已存在的文件</span><br><span class=\"line\">-d\tShell预设会用杂凑表记忆使用过的指令，以加速指令的执行。使用-d参数可取消</span><br><span class=\"line\">-e\t若指令传回值不等于0，则立即退出shell</span><br><span class=\"line\">-f\t取消使用通配符</span><br><span class=\"line\">-h\t自动记录函数的所在位置</span><br><span class=\"line\">-H \tShell可利用”!”加&lt;指令编号&gt;的方式来执行history中记录的指令</span><br><span class=\"line\">-k\t指令所给的参数都会被视为此指令的环境变量</span><br><span class=\"line\">-l\t记录for循环的变量名称</span><br><span class=\"line\">-m\t使用监视模式</span><br><span class=\"line\">-n\t只读取指令，而不实际执行</span><br><span class=\"line\">-p\t启动优先顺序模式</span><br><span class=\"line\">-P\t启动-P参数后，执行指令时，会以实际的文件或目录来取代符号连接</span><br><span class=\"line\">-t\t执行完随后的指令，即退出shell</span><br><span class=\"line\">-u\t当执行时使用到未定义过的变量，则显示错误信息</span><br><span class=\"line\">-v\t显示shell所读取的输入值</span><br><span class=\"line\">-x\t执行指令后，会先显示该指令及所下的参数</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-unset\"><a href=\"#4-unset\" class=\"headerlink\" title=\"4.unset\"></a>4.unset</h3><p><strong>unset命令</strong>用于删除已定义的shell变量（包括环境变量）和shell函数。unset命令不能够删除具有只读属性的shell变量和只读属性的环境变量。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：unset [-f] [-v] [名称 ...]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-f\t将每个 NAME 名称当作函数对待</span><br><span class=\"line\">-v\t将每个 NAME 名称当作变量对待</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-echo\"><a href=\"#5-echo\" class=\"headerlink\" title=\"5.echo\"></a>5.echo</h3><p>echo命令用于在shell中打印shell变量的值，或者直接输出指定的字符串。linux的echo命令，在shell编程中极为常用, 在终端下打印变量value的时候也是常常用到的，因此有必要了解下echo的用法echo命令的功能是在显示器上显示一段文字，一般起到一个提示的作用。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：echo[OPTION]... [STRING]...</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-n 不输出行尾的换行符.</span><br><span class=\"line\">-e 允许对下面列出的加反斜线转义的字符进行解释.</span><br><span class=\"line\">-E 禁止对在STRINGs中的那些序列进行解释.</span><br><span class=\"line\">--help 显示帮助并退出(须单独运行)</span><br><span class=\"line\">--version 输出版本信息并退出(须单独运行)</span><br><span class=\"line\"></span><br><span class=\"line\">\\NNN  字符的ASCII代码为NNN(八进制)</span><br><span class=\"line\">\\\\    反斜线</span><br><span class=\"line\">\\a    报警符(BEL)</span><br><span class=\"line\">\\b    退格符</span><br><span class=\"line\">\\c    禁止尾随的换行符</span><br><span class=\"line\">\\f    换页符</span><br><span class=\"line\">\\n    换行符</span><br><span class=\"line\">\\r    回车符</span><br><span class=\"line\">\\t    水平制表符</span><br><span class=\"line\">\\v    纵向制表符</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-alias\"><a href=\"#6-alias\" class=\"headerlink\" title=\"6.alias\"></a>6.alias</h3><p>alias命令用来设置指令的别名。我们可以使用该命令可以将一些较长的命令进行简化。使用alias时，用户必须使用单引号 ‘ ‘ 将原来的命令引起来，防止特殊字符导致错误。</p>\n<p>alias命令的作用只局限于该次登入的操作。若要每次登入都能够使用这些命令别名，则可将相应的alias命令存放到bash的初始化文件 /etc/bashrc中。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法:alias [-p] [名称[=值] ... ]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-p\t以可重用的格式打印所有的已定义的别名</span><br></pre></td></tr></table></figure>\n<h3 id=\"7-unalias\"><a href=\"#7-unalias\" class=\"headerlink\" title=\"7.unalias\"></a>7.unalias</h3><p><strong>unalias命令</strong>用来取消命令别名，是为shell内建命令。如果需要取消任意一个命令别名，则使用该命令别名作为指令的参数选项即可。如果使用-a选项，则表示取消所有已经存在的命令别名。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法:unalias [-a] 名称 [名称 ...]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a\t删除所有的别名定义.</span><br></pre></td></tr></table></figure>\n<h3 id=\"8-enable\"><a href=\"#8-enable\" class=\"headerlink\" title=\"8.enable\"></a>8.enable</h3><p><strong>enable命令</strong>可以用于启动或关闭 shell 的内建指令。 如要执行的文件名称与shell内建指令相同，可用enable -n来关闭shell内建指令。若不加-n参数，enable可重新启动关闭的指令。</p>\n<p>注意：</p>\n<p>linux shell命令执行时，shell总是先在自己的shell builtin中查找该命令，如果找到则执行该命令；如果找不到该命令，则会从环境变量$PATH指定的路径中依次去查找待执行的命令。因为了解了这一点，所以看起来好像没有办法编写用户自己的命令来替代shell builtin命令。有了enable命令我们就能做到了。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：</span><br><span class=\"line\">\tenable [-a] [-dnps] [-f 文件名] [名称 ...]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项：</span><br><span class=\"line\">      -a        打印一个内嵌的列表，并显示其中每一个是否启用</span><br><span class=\"line\">      -n        禁用每一个 NAME 内嵌或者显示一个被禁用的内嵌的列表</span><br><span class=\"line\">      -p        以可重用的格式打印一个内嵌的列表</span><br><span class=\"line\">      -s        仅打印Posix `special&#x27;  内嵌的名称</span><br><span class=\"line\">    </span><br><span class=\"line\">    控制动态加载的选项：</span><br><span class=\"line\">      -f        从共享对象 FILENAME 文件中加载 NAME 内嵌</span><br><span class=\"line\">      -d        删除以 -f 选项加载的内嵌</span><br><span class=\"line\">    </span><br><span class=\"line\">    不带选项时，每一个 NAME 内嵌都被启用。</span><br><span class=\"line\">    </span><br><span class=\"line\">    如果要使用 $PATH 中找到的 `test&#x27; 而不是 shell 内嵌的版本，</span><br><span class=\"line\">    输入 `enable -n test&#x27;。   </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"9-read\"><a href=\"#9-read\" class=\"headerlink\" title=\"9.read\"></a>9.read</h3><p><strong>read命令</strong>用于从标准输入读取数值。read 内部命令被用来从标准输入读取单行数据。这个命令可以用来读取键盘输入，当使用重定向的时候，可以读取文件中的一行数据。</p>\n<p>read命令一般用在shell脚本中。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：read [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a\t后跟一个变量，该变量会被认为是个数组，然后给其赋值，默认是以空格为分割符</span><br><span class=\"line\">– d\t后面跟一个标志符，其实只有其后的第一个字符有用，作为结束的标志</span><br><span class=\"line\">– p\t后面跟提示信息，即在输入前打印提示信息</span><br><span class=\"line\">– e\t在输入的时候可以使用命令补全功能</span><br><span class=\"line\">– n\t后跟一个数字，定义输入文本的长度</span><br><span class=\"line\">– r\t屏蔽\\，如果没有该选项，则\\作为一个转义字符，有的话 \\就是个正常的字符了</span><br><span class=\"line\">– s\t安静模式，在输入字符时不再屏幕上显示</span><br><span class=\"line\">– t\t后面跟秒数，定义输入字符的等待时间</span><br><span class=\"line\">– u\t后面跟fd，从文件描述符中读入，该文件描述符可以是exec新开启的</span><br></pre></td></tr></table></figure>\n<h3 id=\"10-let\"><a href=\"#10-let\" class=\"headerlink\" title=\"10.let\"></a>10.let</h3><p><strong>let命令</strong>是bash中用于计算的工具，用于执行一个或多个表达式，变量计算中不需要加上 $ 来表示变量。如果表达式中包含了空格或其他特殊字符，则必须引起来。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：let 参数 [参数 ...]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">id++, id--      variable post-increment, post-decrement</span><br><span class=\"line\">++id, --id      variable pre-increment, pre-decrement</span><br><span class=\"line\">-, +            unary minus, plus</span><br><span class=\"line\">!, ~            logical and bitwise negation</span><br><span class=\"line\">**              exponentiation</span><br><span class=\"line\">*, /, %         multiplication, division, remainder</span><br><span class=\"line\">+, -            addition, subtraction</span><br><span class=\"line\">&lt;&lt;, &gt;&gt;          left and right bitwise shifts</span><br><span class=\"line\">&lt;=, &gt;=, &lt;, &gt;    comparison</span><br><span class=\"line\">==, !=          equality, inequality</span><br><span class=\"line\">&amp;               bitwise AND</span><br><span class=\"line\">^               bitwise XOR</span><br><span class=\"line\">|               bitwise OR</span><br><span class=\"line\">&amp;&amp;              logical AND</span><br><span class=\"line\">||              logical OR</span><br><span class=\"line\">expr ? expr : expr</span><br><span class=\"line\">                conditional operator</span><br><span class=\"line\">=, *=, /=, %=,</span><br><span class=\"line\">+=, -=, &lt;&lt;=, &gt;&gt;=,</span><br><span class=\"line\">&amp;=, ^=, |=      assignment</span><br></pre></td></tr></table></figure>\n<h3 id=\"11-fc\"><a href=\"#11-fc\" class=\"headerlink\" title=\"11.fc\"></a>11.fc</h3><p><strong>fc命令</strong>自动调用vi编辑器修改已有历史命令，当保存时立即执行修改后的命令，也可以用来显示历史命令。fc命令编辑历史命令时，会自动调用vi编辑器。fc保存文件后，会自动执行所编辑过的命令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：fc [选项] [参数]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-e&lt;文本编辑器&gt;\t指定用来编辑命令的文本编辑器，默认是vi</span><br><span class=\"line\">-l\t列出第一条和最后一天命令范围内的历史命令，如果不跟命令范围则默认显示最近使用过的16条历史命令</span><br><span class=\"line\">-n\t显示历史命令时不显示命令序号</span><br><span class=\"line\">-r\t反序显示所有历史命令</span><br><span class=\"line\">-s&lt;命令名&gt;\t从历史命令中当前位置往前找到指定命令，并执行</span><br></pre></td></tr></table></figure>\n<h3 id=\"12-command\"><a href=\"#12-command\" class=\"headerlink\" title=\"12.command\"></a>12.command</h3><p><strong>command命令</strong>调用指定的指令并执行，命令执行时不查询shell函数。command命令只能够执行shell内部的命令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法： command [-pVv] 命令 [参数 ...]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-p\t使用 PATH 变量的一个默认值以确保所有的标准工具都能被找到。</span><br><span class=\"line\">-v\t打印 COMMAND 命令的描述，和 `type&#x27; 内嵌相似</span><br><span class=\"line\">-V\t打印每个 COMMAND 命令的详细描述</span><br></pre></td></tr></table></figure>\n<h3 id=\"13-exit\"><a href=\"#13-exit\" class=\"headerlink\" title=\"13.exit\"></a>13.exit</h3><p><strong>exit命令</strong>用来退出当前的shell或退出终端 ，并返回给定值。</p>\n<p>执行exit可使shell以指定的状态值退出。若不设置状态值参数，则shell以预设值退出。状态值0代表执行成功，其他值代表执行失败。状态值参数多用于脚本中，在终端状态下，直接输入“exit” 退出终端 。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：exit [状态值]</span><br></pre></td></tr></table></figure>\n<h3 id=\"14-exec\"><a href=\"#14-exec\" class=\"headerlink\" title=\"14.exec\"></a>14.exec</h3><p><strong>exec命令</strong>用于调用并执行指令的命令。exec命令通常用在shell脚本程序中，可以调用其他的命令。如果在当前终端中使用命令，则当指定的命令执行完毕后会立即退出终端。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法:exec [-cl] [-a 名称] [命令 [参数 ...]] [重定向 ...]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选项：</span><br><span class=\"line\">-a 名称   作为第0个参数传递给 COMMAND 命令</span><br><span class=\"line\">-c\t在一个空环境中执行 COMMAND 命令</span><br><span class=\"line\">-l\t在COMMAND 命令的第0个参数中加一个短线</span><br></pre></td></tr></table></figure>\n<h3 id=\"15-logout\"><a href=\"#15-logout\" class=\"headerlink\" title=\"15.logout\"></a>15.logout</h3><p><strong>logout指令</strong>退出一个登录 shell，其功能和login指令相互对应。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：logout [n]</span><br><span class=\"line\">--help\t在线帮助</span><br><span class=\"line\">--vesion\t显示版本信息</span><br></pre></td></tr></table></figure>\n<h3 id=\"16-login\"><a href=\"#16-login\" class=\"headerlink\" title=\"16.login\"></a>16.login</h3><p>login指令让用户登入系统，您亦可通过它的功能随时更换登入身份。在Slackware发行版中 ，您可在指令后面附加欲登入的用户名称，它会直接询问密码，等待用户输入。当/etc目录里含名称为nologin的文件时，系统只root帐号登入系统，其他用户一律不准登入。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">用法：login [ -p ] [ -h host ] [ -H ] [ -f username | username ]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-p：告诉login指令不销毁环境变量</span><br><span class=\"line\">-h：指定远程服务器的主机名</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"十七、Shell编程\"><a href=\"#十七、Shell编程\" class=\"headerlink\" title=\"十七、Shell编程\"></a>十七、Shell编程</h1><p> Shell 指 “提供给使用者使用界面” 的软件，即 Command Interpreter - 命令解析器。Shell 接收用户或者其他应用程序的命令，然后将这些命令转化成内核能够理解的语言并传递给内核，内核执行命令完成后，再将执行结果返回给用户或者应用程序。</p>\n<p> Shell 是包裹在操作系统外层的一道程序，负责外界与 Linux “内核” 的交互，但它隐藏了操作系统底层的具体细节，就像是 Linux 内核的一个 “外壳”，所以 Shell（壳）的名称也由此而来。</p>\n<p>图形化界面也是一种广义的 Shell，因为图形界面操作的本质也是 —— 将用户的命令传递给内核执行</p>\n<p>终端 只是人机交互的一个接口，提供输入输出命令的交互界面。终端的主要任务是接收用户输入的命令，并提交给 Shell。</p>\n<p>Shell 是命令解析器，主要任务是翻译命令。Shell 将终端输入的命令转化成内核能够理解的语言并传递给内核，由内核执行命令，并将执行结果返回给终端。</p>\n<p>当我们打开终端时，Shell 也会自动启动，操作系统会将终端和 Shell 关联起来。接着我们在终端输入命令，Shell 就负责解释命令。</p>\n<h2 id=\"17-1shell脚本的执行\"><a href=\"#17-1shell脚本的执行\" class=\"headerlink\" title=\"17.1shell脚本的执行\"></a>17.1shell脚本的执行</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vim test.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">echo &quot;hello world&quot;</span><br></pre></td></tr></table></figure>\n<p><strong>两种方式执行shell脚本</strong></p>\n<p>第一种：给文件增加执行权限</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ chmod u+x test.sh</span><br><span class=\"line\">[root@localhost ~]$ ./test.sh  #绝对路径或相对路径执行</span><br></pre></td></tr></table></figure>\n<p>第二种：通过Bash调用执行脚本</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ bash test.sh</span><br></pre></td></tr></table></figure>\n<p>第三种：.</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ . test.sh</span><br></pre></td></tr></table></figure>\n<h2 id=\"17-2shell变量\"><a href=\"#17-2shell变量\" class=\"headerlink\" title=\"17.2shell变量\"></a>17.2shell变量</h2><p>在一个脚本周期内,其值可以发生改变的量就是变量。</p>\n<ul>\n<li>局部变量：shell也有自定义函数，函数里面的变量为局部变量，但是它也是相当于全局变量，函数中的变量，在函数外调用也是可以的，如果要仅限函数使用，需要在函数变量前加个关键字：local</li>\n<li>全局变量：每打开一个终端就是一个shell会话，在这个shell会话（终端）定义的变量就是全局变量，它在这个shell会话有效，当你打开另一个终端就是另一个shell会话，这个变量在另一个终端就失效了。</li>\n<li>环境变量：在全局变量前加 export ，如：export a=1  那么这个变量就是环境变量了。创建这个变量的shell成为父shell，这个shell中，在创建一个shell叫做子shell，环境变量可以由父shell往下一级一级传，而不能逆转往上传递。当shell会话销毁时，这个环境变量也会随之销毁。想要永久保存就得环境变量写到启动文件中去。</li>\n</ul>\n<h3 id=\"变量的命名规则\"><a href=\"#变量的命名规则\" class=\"headerlink\" title=\"变量的命名规则\"></a>变量的命名规则</h3><ul>\n<li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</li>\n<li>等号左右两侧不能有空格，可以使用下划线“_”，变量的值如果有空格，需要使用单引号或双引号包括。如:“test=“hello world!””。其中双引号括起来的内容“$”，“(”和反引号都拥有特殊含义，而单引号括起来的内容都是普通字符。</li>\n<li>不能使用标点符号，不能使用bash里的关键字（可用help命令查看保留关键字）。</li>\n<li>环境变量建议大写，便于区分</li>\n<li>如果需要增加变量的值，那么可以进行变量值的叠加。不过变量需要用双引号包含”$变量名”或用${变量名}包含变量名。</li>\n</ul>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> test=<span class=\"number\">123</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> test=<span class=\"string\">&quot;<span class=\"variable\">$test</span>&quot;</span><span class=\"number\">456</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> <span class=\"built_in\">echo</span> <span class=\"variable\">$test</span></span><br><span class=\"line\"><span class=\"number\">123456</span></span><br><span class=\"line\"><span class=\"comment\">#叠加变量test，变量值变成了123456</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> test=<span class=\"variable\">$</span>&#123;test&#125;<span class=\"number\">789</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> <span class=\"built_in\">echo</span> <span class=\"variable\">$test</span></span><br><span class=\"line\"><span class=\"number\">123456789</span></span><br><span class=\"line\"><span class=\"comment\">#再叠加变量test，变量值编程了123456789</span></span><br></pre></td></tr></table></figure>\n<p><strong>Shell特殊符号</strong></p>\n<p><img src=\"../img/image-20240904203636101.png\" alt=\"image-20240904203636101\"></p>\n<h3 id=\"用户自定义变量\"><a href=\"#用户自定义变量\" class=\"headerlink\" title=\"用户自定义变量\"></a>用户自定义变量</h3><p><strong>变量定义</strong></p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> <span class=\"number\">2</span>name=<span class=\"string\">&quot;shen chao&quot;</span></span><br><span class=\"line\"><span class=\"literal\">-bash</span>: <span class=\"number\">2</span>name=shen chao: command not found</span><br><span class=\"line\"><span class=\"comment\">#变量名不能用数字开头</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> name = <span class=\"string\">&quot;shenchao&quot;</span></span><br><span class=\"line\"><span class=\"literal\">-bash</span>: name: command not found</span><br><span class=\"line\"><span class=\"comment\">#等号左右两侧不能有空格</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> name=shen chao</span><br><span class=\"line\"><span class=\"literal\">-bash</span>: chao: command not found</span><br><span class=\"line\"><span class=\"comment\">#变量的值如果有空格，必须用引号包含</span></span><br></pre></td></tr></table></figure>\n<p> <strong>变量调用</strong></p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> name=<span class=\"string\">&quot;shen chao&quot;</span></span><br><span class=\"line\"><span class=\"comment\">#定义变量name</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> <span class=\"built_in\">echo</span> <span class=\"variable\">$name</span> <span class=\"comment\">#调用变量使用  $变量名</span></span><br><span class=\"line\">shen chao</span><br><span class=\"line\"><span class=\"comment\">#输出变量name的值</span></span><br></pre></td></tr></table></figure>\n<p><strong>变量查看</strong></p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> <span class=\"built_in\">set</span> [选项]</span><br></pre></td></tr></table></figure>\n<p>选项:<br>-u:如果设定此选项，调用未声明变量时会报错（默认无任何提示）<br>-x:如果设定此选项，在命令执行之前，会把命令先输出一次<br>+&lt;参数&gt; :取消某个set曾启动的参数。</p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> <span class=\"built_in\">set</span></span><br><span class=\"line\">BASH=/bin/bash</span><br><span class=\"line\">…省略部分输出…</span><br><span class=\"line\">name=<span class=\"string\">&#x27;shen chao&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">#直接使用set 命令，会查询系统中所有的变量，包含用户自定义变量和环境变量</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> <span class=\"built_in\">set</span> <span class=\"literal\">-u</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> <span class=\"built_in\">echo</span> <span class=\"variable\">$file</span></span><br><span class=\"line\"><span class=\"literal\">-bash</span>: file: unbound variable</span><br><span class=\"line\"><span class=\"comment\">#当设置了-u选项后，如果调用没有设定的变量会有报错。默认是没有任何输出的。</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> <span class=\"built_in\">set</span> <span class=\"literal\">-x</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> <span class=\"built_in\">ls</span></span><br><span class=\"line\">+<span class=\"built_in\">ls</span> <span class=\"literal\">--color</span>=auto</span><br><span class=\"line\">anaconda<span class=\"literal\">-ks</span>.cfginstall.loginstall.log.syslog sh tdir testtestfile</span><br><span class=\"line\"><span class=\"comment\">#如果设定了-x选项，会在每个命令执行之前，先把命令输出一次</span></span><br><span class=\"line\"></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> <span class=\"built_in\">set</span> +x</span><br><span class=\"line\"><span class=\"comment\">#取消启动的x参数</span></span><br></pre></td></tr></table></figure>\n<p><strong>变量删除</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ unset 变量名</span><br></pre></td></tr></table></figure>\n<h3 id=\"环境变量\"><a href=\"#环境变量\" class=\"headerlink\" title=\"环境变量\"></a>环境变量</h3><p><strong>环境变量设置</strong></p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span>  export age=<span class=\"string\">&quot;18&quot;</span></span><br><span class=\"line\"><span class=\"comment\">#使用export声明的变量即是环境变量</span></span><br></pre></td></tr></table></figure>\n<p><strong>环境变量查询和删除</strong><br>env命令和set命令的区别：<br>set命令可以查看所有变量，而env命令只能查看环境变量。</p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> unset gender   <span class=\"comment\">#删除环境变量gender</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> env | grep gender</span><br></pre></td></tr></table></figure>\n<p><strong>系统默认环境变量</strong></p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> ~]<span class=\"variable\">$</span> env</span><br><span class=\"line\">HOSTNAME=localhost.localdomain      <span class=\"comment\">#主机名</span></span><br><span class=\"line\">SHELL=/bin/bash                     <span class=\"comment\">#当前的shell</span></span><br><span class=\"line\">TERM=linux                          <span class=\"comment\">#终端环境</span></span><br><span class=\"line\">HISTSIZE=<span class=\"number\">1000</span>                       <span class=\"comment\">#历史命令条数</span></span><br><span class=\"line\">SSH_CLIENT=<span class=\"number\">192.168</span>.<span class=\"number\">4.1594824</span> <span class=\"number\">22</span>     <span class=\"comment\">#当前操作环境是用ssh连接的，这里记录客户端ip</span></span><br><span class=\"line\">SSH_TTY=/dev/pts/<span class=\"number\">1</span>                  <span class=\"comment\">#ssh连接的终端时pts/1</span></span><br><span class=\"line\">USER=root                           <span class=\"comment\">#当前登录的用户</span></span><br><span class=\"line\">..........更多参数可以使用<span class=\"built_in\">set</span>和env命令查看.............</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"位置参数变量\"><a href=\"#位置参数变量\" class=\"headerlink\" title=\"位置参数变量\"></a>位置参数变量</h3><p><img src=\"../img/image-20240905144037467.png\" alt=\"image-20240905144037467\"></p>\n<p>$1 是你给你写的shell脚本传的第一个参数，$2 是你给你写的shell脚本传的第二个参数…</p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> <span class=\"type\">sh</span>]<span class=\"variable\">$</span> vim test.sh</span><br><span class=\"line\"><span class=\"comment\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;shell脚本本身的名字: <span class=\"variable\">$0</span>&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;传给shell的第一个参数: <span class=\"variable\">$1</span>&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;传给shell的第二个参数: <span class=\"variable\">$2</span>&quot;</span></span><br></pre></td></tr></table></figure>\n<p>保存退出后，你在Test.sh所在的目录下输入 bash Test.sh 1 2</p>\n<p>结果输出：</p>\n<p>shell脚本本身的名字: Test.sh<br>传给shell的第一个参数: 1<br>传给shell的第二个参数: 2</p>\n<p>$*会把接收的所有参数当成一个整体对待，而$@则会区分对待接收到的所有参数:</p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> <span class=\"type\">sh</span>]<span class=\"variable\">$</span> vi parameter2.sh</span><br><span class=\"line\"><span class=\"comment\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span><span class=\"string\">&quot;<span class=\"variable\">$</span>*&quot;</span></span><br><span class=\"line\"><span class=\"comment\">#定义for循环，in后面有几个值，for会循环多少次，注意“$*”要用双引号括起来</span></span><br><span class=\"line\"><span class=\"comment\">#每次循环会把in后面的值赋予变量i</span></span><br><span class=\"line\"><span class=\"comment\">#Shell把$*中的所有参数看成是一个整体，所以这个for循环只会循环一次</span></span><br><span class=\"line\">\t<span class=\"keyword\">do</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">echo</span> <span class=\"string\">&quot;The parameters is: <span class=\"variable\">$i</span>&quot;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">#打印变量$i的值</span></span><br><span class=\"line\">\tdone</span><br><span class=\"line\">x=<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"comment\">#定义变量x的值为1,用于跟踪参数的索引</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> y <span class=\"keyword\">in</span><span class=\"string\">&quot;<span class=\"variable\">$</span>@&quot;</span></span><br><span class=\"line\"><span class=\"comment\">#同样in后面的有几个值，for循环几次，每次都把值赋予变量y</span></span><br><span class=\"line\"><span class=\"comment\">#可是Shel1中把“$@”中的每个参数都看成是独立的，所以“$@”中有几个参数，就会循环几次</span></span><br><span class=\"line\">\t<span class=\"keyword\">do</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">echo</span> <span class=\"string\">&quot;The parameter<span class=\"variable\">$x</span> is: <span class=\"variable\">$y</span>&quot;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">#输出变量y的值</span></span><br><span class=\"line\">\t\tx=<span class=\"variable\">$</span>((x +<span class=\"number\">1</span>))</span><br><span class=\"line\">\t\t<span class=\"comment\">#然变量x每次循环都加1，为了输出时看的更清楚</span></span><br><span class=\"line\">\tdone</span><br></pre></td></tr></table></figure>\n<h3 id=\"预定义变量\"><a href=\"#预定义变量\" class=\"headerlink\" title=\"预定义变量\"></a>预定义变量</h3><p><img src=\"../img/image-20240905144325884.png\" alt=\"image-20240905144325884\"></p>\n<p>”$?”变量例子说明</p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> <span class=\"type\">sh</span>]<span class=\"variable\">$</span> <span class=\"built_in\">ls</span></span><br><span class=\"line\">count.sh hello.sh parameter2.sh parameter.sh</span><br><span class=\"line\"><span class=\"comment\">#ls命令正确执行</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> <span class=\"type\">sh</span>]<span class=\"variable\">$</span> <span class=\"built_in\">echo</span> <span class=\"variable\">$</span>?</span><br><span class=\"line\"><span class=\"comment\">#预定义变量“$?”的值是0，证明上一个命令执行正确</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> <span class=\"type\">sh</span>]<span class=\"variable\">$</span> <span class=\"built_in\">ls</span> install.log</span><br><span class=\"line\"><span class=\"built_in\">ls</span>:无法访问install.log:没有那个文件或目录</span><br><span class=\"line\"><span class=\"comment\">#当前目录中没有install.log文件，所以ls命令报错了</span></span><br><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> <span class=\"type\">sh</span>]<span class=\"variable\">$</span> <span class=\"built_in\">echo</span> <span class=\"variable\">$</span>?</span><br><span class=\"line\"><span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"comment\">#变量“$?”返回一个非О的值，证明上一个命令没有正确执行</span></span><br><span class=\"line\"><span class=\"comment\">#至于错误的返回值到底是多少，是在编写ls命令时定义好的，如果碰到文件不存在就返回数值2</span></span><br></pre></td></tr></table></figure>\n<p>说明下”$$”和”$!”这两个预定义变量</p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> <span class=\"type\">sh</span>]<span class=\"variable\">$</span> vi variable.sh</span><br><span class=\"line\"><span class=\"comment\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;The current process is <span class=\"variable\">$</span><span class=\"variable\">$</span>&quot;</span></span><br><span class=\"line\"><span class=\"comment\">#输出当前进程的PID.</span></span><br><span class=\"line\"><span class=\"comment\">#这个PID就是variable.sh这个脚本执行时，生成的进程的PID</span></span><br><span class=\"line\">find /root <span class=\"literal\">-name</span> hello.sh &amp;</span><br><span class=\"line\"><span class=\"comment\">#使用find命令在root目录下查找hello.sh文件</span></span><br><span class=\"line\"><span class=\"comment\">#符号&amp;的意思是把命令放入后台执行，工作管理我们在系统管理章节会详细介绍</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;The last one Daemon process is <span class=\"variable\">$</span>!&quot;</span></span><br><span class=\"line\"><span class=\"comment\">#输出这个后台执行命令的进程的PID，也就是输出find命令的PID号</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"只读变量\"><a href=\"#只读变量\" class=\"headerlink\" title=\"只读变量\"></a>只读变量</h3><figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> <span class=\"type\">sh</span>]<span class=\"variable\">$</span> vi readonly.sh</span><br><span class=\"line\"><span class=\"comment\">#!/bin/bash</span></span><br><span class=\"line\">a=<span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"comment\">#语法：readonly 变量名</span></span><br><span class=\"line\">readonly a</span><br><span class=\"line\">a=<span class=\"number\">20</span>   <span class=\"comment\">#会报错readonly variable</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$a</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"接受键盘输入\"><a href=\"#接受键盘输入\" class=\"headerlink\" title=\"接受键盘输入\"></a>接受键盘输入</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ read [选项][变量名]</span><br><span class=\"line\">选项:</span><br><span class=\"line\">\t-a 后跟一个变量，该变量会被认为是个数组，然后给其赋值，默认是以空格为分割符。</span><br><span class=\"line\">\t-p： “提示信息”：在等待read输入时，输出提示信息</span><br><span class=\"line\">\t-t： 秒数：read命令会一直等待用户输入，使用此选项可以指定等待时间</span><br><span class=\"line\">\t-n： 数字：read命令只接受指定的字符数，就会执行</span><br><span class=\"line\">\t-s： 隐藏输入的数据，适用于机密信息的输入</span><br><span class=\"line\">    -d： 后面跟一个标志符，其实只有其后的第一个字符有用，作为结束的标志。</span><br><span class=\"line\">    -e： 在输入的时候可以使用命令补全功能。</span><br><span class=\"line\">变量名:</span><br><span class=\"line\">变量名可以自定义，如果不指定变量名，会把输入保存入默认变量REPLY.</span><br><span class=\"line\">如果只提供了一个变量名，则整个输入行赋予该变量.</span><br><span class=\"line\">如果提供了一个以上的变量名，则输入行分为若干字，一个接一个地赋予各个变量，而命令行上的最后一个变量取得剩余的所有字</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"type\">root</span>@<span class=\"type\">localhost</span> <span class=\"type\">sh</span>]<span class=\"variable\">$</span> vi read.sh</span><br><span class=\"line\"><span class=\"comment\">#!/bin/bash</span></span><br><span class=\"line\"></span><br><span class=\"line\">read <span class=\"literal\">-t</span> <span class=\"number\">30</span> <span class=\"literal\">-p</span> <span class=\"string\">&quot;Please input your name: &quot;</span> name</span><br><span class=\"line\"><span class=\"comment\">#提示“请输入姓名”并等待30 秒，把用户的输入保存入变量name 中</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;Name is <span class=\"variable\">$name</span>&quot;</span></span><br><span class=\"line\"><span class=\"comment\">#看看变量“$name”中是否保存了你的输入</span></span><br><span class=\"line\"></span><br><span class=\"line\">read <span class=\"literal\">-s</span> <span class=\"literal\">-t</span> <span class=\"number\">30</span> <span class=\"literal\">-p</span> <span class=\"string\">&quot;Please enter your age: &quot;</span> age</span><br><span class=\"line\"><span class=\"comment\">#提示“请输入年龄”并等待30秒，把用户的输入保存入变量age中</span></span><br><span class=\"line\"><span class=\"comment\">#年龄是隐私，所以我们用“-s”选项隐藏输入</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"literal\">-e</span> <span class=\"string\">&quot;\\n&quot;</span></span><br><span class=\"line\"><span class=\"comment\">#调整输出格式，如果不输出换行，一会的年龄输出不会换行</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;Age is <span class=\"variable\">$age</span>&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">read <span class=\"literal\">-n</span> <span class=\"number\">1</span> <span class=\"literal\">-t</span> <span class=\"number\">30</span> <span class=\"literal\">-p</span> <span class=\"string\">&quot;Please select your gender[M/F]:&quot;</span> gender</span><br><span class=\"line\"><span class=\"comment\">#提示“请选择性别”并等待30秒，把用户的输入保存入变量gender</span></span><br><span class=\"line\"><span class=\"comment\">#使用“-n1”选项只接收一个输入字符就会执行（都不用输入回车）</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"literal\">-e</span> <span class=\"string\">&quot;\\n&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;Sex is <span class=\"variable\">$gender</span>&quot;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"17-3shell运算符\"><a href=\"#17-3shell运算符\" class=\"headerlink\" title=\"17.3shell运算符\"></a>17.3shell运算符</h2><h3 id=\"算数运算符\"><a href=\"#算数运算符\" class=\"headerlink\" title=\"算数运算符\"></a>算数运算符</h3><p>原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用。<br>expr 是一款表达式计算工具，使用它能完成表达式的求值操作。<br>例如，两个数相加(注意使用的是反引号 ` 而不是单引号 ‘)：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi computer.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">val=`expr 2 + 2`</span><br><span class=\"line\">echo &quot;两数之和为 : $val&quot;</span><br><span class=\"line\">#注意</span><br><span class=\"line\">#表达式和运算符之间要有空格，例如 2+2 是不对的，必须写成 2 + 2，这与我们熟悉的大多数编程语言不一样。</span><br><span class=\"line\">#完整的表达式要被 ` ` 包含，注意这个字符不是常用的单引号，在 Esc 键下边。</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>加法 |expr $a + $b 结果为 30。</p>\n</li>\n<li><p>减法 |expr $a - $b 结果为 -10。</p>\n</li>\n<li>乘法 |expr $a * $b 结果为 200。</li>\n<li>除法 |expr $b / $a 结果为 2。</li>\n<li>取余 | expr $b % $a 结果为 0。</li>\n<li>赋值 | a=$b 将把变量 b 的值赋给 a。</li>\n<li>相等。用于比较两个数字，相同则返回 true（真）。| [ $a == $b ] 返回 false（假）。</li>\n<li>不相等。用于比较两个数字，不相同则返回 true。    |[ $a != $b ] 返回 true。</li>\n</ul>\n<p>注意：条件表达式要放在方括号之间，并且要有空格，必须写成 [ $a == $b ]。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi computers.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">a=10</span><br><span class=\"line\">b=20</span><br><span class=\"line\">echo &#x27; &#x27;</span><br><span class=\"line\">echo &#x27;a+b= &#x27; `expr $a + $b`</span><br><span class=\"line\">echo &#x27;a-b= &#x27; `expr $a - $b`</span><br><span class=\"line\">echo &#x27;a*b= &#x27; `expr $a \\* $b`</span><br><span class=\"line\">echo &#x27;a/b= &#x27; `expr $a / $b`</span><br><span class=\"line\">echo &#x27;a%b= &#x27; `expr $a % $b`</span><br><span class=\"line\"></span><br><span class=\"line\">#判断是否相等</span><br><span class=\"line\">if [ $a == $b ]</span><br><span class=\"line\">then</span><br><span class=\"line\">\techo &#x27;a等于b&#x27;</span><br><span class=\"line\">else</span><br><span class=\"line\">\techo &#x27;a不等于b&#x27;</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n<h3 id=\"关系运算符\"><a href=\"#关系运算符\" class=\"headerlink\" title=\"关系运算符\"></a>关系运算符</h3><p>关系运算符只支持数字，不支持字符串，除非字符串的值是数字。</p>\n<p><strong>常用的关系运算符，假定变量 a 为 10，变量 b 为 20：</strong></p>\n<p><img src=\"../img/image-20240905155943765.png\" alt=\"image-20240905155943765\"></p>\n<p><strong>注意括号前后空格</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ [ 10 -gt 10 ] </span><br><span class=\"line\">[root@localhost ~]$ echo $? </span><br><span class=\"line\"> 1</span><br><span class=\"line\">[root@localhost ~]$ [ 10 -eq 10 ] </span><br><span class=\"line\">[root@localhost ~]$ echo $? </span><br><span class=\"line\"> 0</span><br></pre></td></tr></table></figure>\n<p><strong>如果要在shell脚本使用linux命令，可以使用<code>$()</code>包裹命令</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vim demo.sh </span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#接受用户的输入</span><br><span class=\"line\">read -p &#x27;请输入需要查询的用户名:&#x27; username</span><br><span class=\"line\"></span><br><span class=\"line\">#获取指定用户名在passwd文件中出现的次数</span><br><span class=\"line\">count=$(cat /etc/passwd | grep $username | wc -l)</span><br><span class=\"line\">#count=`cat /etc/passwd | grep $username | wc -l`</span><br><span class=\"line\"></span><br><span class=\"line\">#判断出现的次数，如果次数=0则用户不存在，反之存在</span><br><span class=\"line\">if [  $count == 0 ]</span><br><span class=\"line\">then </span><br><span class=\"line\">\t\techo &#x27;用户不存在&#x27;</span><br><span class=\"line\">\telse </span><br><span class=\"line\">\t\techo &#x27;用户存在&#x27;</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n<h3 id=\"逻辑运算符\"><a href=\"#逻辑运算符\" class=\"headerlink\" title=\"逻辑运算符\"></a>逻辑运算符</h3><p><strong>常用的布尔运算符，假定变量 a 为 10，变量 b 为 20：</strong></p>\n<p><img src=\"../img/image-20240905160246575.png\" alt=\"image-20240905160246575\"></p>\n<h3 id=\"字符串运算符\"><a href=\"#字符串运算符\" class=\"headerlink\" title=\"字符串运算符\"></a>字符串运算符</h3><p><strong>常用的字符串运算符，假定变量 a 为 “abc”，变量 b 为 “efg”：</strong></p>\n<p><img src=\"../img/image-20240905160316256.png\" alt=\"image-20240905160316256\"></p>\n<h3 id=\"文件测试运算符（重点）\"><a href=\"#文件测试运算符（重点）\" class=\"headerlink\" title=\"文件测试运算符（重点）\"></a>文件测试运算符（重点）</h3><p><strong>文件测试运算符用于检测 Unix/Linux 文件的各种属性。</strong></p>\n<p><img src=\"../img/image-20240905160355777.png\" alt=\"image-20240905160355777\"></p>\n<h2 id=\"17-4流程控制\"><a href=\"#17-4流程控制\" class=\"headerlink\" title=\"17.4流程控制\"></a>17.4流程控制</h2><h3 id=\"if条件判断\"><a href=\"#if条件判断\" class=\"headerlink\" title=\"if条件判断\"></a>if条件判断</h3><p><strong>单分支if条件</strong><br>语法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if [ 条件判断式 ]</span><br><span class=\"line\">\tthen</span><br><span class=\"line\">\t\t程序</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n<p>案例：统计根分区使用率</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/if1.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\"></span><br><span class=\"line\">#统计根分区使用率</span><br><span class=\"line\">rate=$(df -h | grep &quot;/dev/sda2&quot; | awk &#x27;&#123;print $5&#125;’| cut -d &quot;%&quot;-f1)</span><br><span class=\"line\">#把根分区使用率作为变量值赋予变量rate</span><br><span class=\"line\">if [ $rate -ge 80 ]</span><br><span class=\"line\">#判断rate的值如果大于等于80，则执行then程序</span><br><span class=\"line\">\tthen</span><br><span class=\"line\">\t\techo &quot;Warning!/dev/sda3 is fu11!!&quot;</span><br><span class=\"line\">\t#打印警告信息。在实际工作中，也可以向管理员发送邮件。</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n<p>案例：创建目录</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/add_dir.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#创建目录，判断是否存在，存在就结束，反之创建</span><br><span class=\"line\">echo &quot;当前脚本名称为$0&quot;</span><br><span class=\"line\">DIR=&quot;/media/cdrom&quot;</span><br><span class=\"line\">if [ ! -e $DIR ]</span><br><span class=\"line\">then</span><br><span class=\"line\">\tmkdir -p $DIR</span><br><span class=\"line\">fi</span><br><span class=\"line\">echo &quot;$DIR 创建成功&quot;</span><br></pre></td></tr></table></figure>\n<p><strong>双分支if条件语句</strong><br>语法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if [ 条件判断式 ]</span><br><span class=\"line\">\tthen</span><br><span class=\"line\">\t\t条件成立时，执行的程序</span><br><span class=\"line\">\telse</span><br><span class=\"line\">\t\t条件不成立时，执行的另一个程序</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n<p>案例1：备份mysql数据库</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/bakmysql.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#备份mysql数据库。</span><br><span class=\"line\"></span><br><span class=\"line\">ntpdate asia.pool.ntp.org &amp;&gt;/dev/null</span><br><span class=\"line\">#同步系统时间</span><br><span class=\"line\">date=$(date +%y%m%d)</span><br><span class=\"line\">#把当前系统时间按照“年月日”格式赋子变量date</span><br><span class=\"line\">size=$(du -sh/var/lib/mysql)</span><br><span class=\"line\">#统计mysql数据库的大小，并把大小赋予size变量</span><br><span class=\"line\"></span><br><span class=\"line\">if [ -d /tmp/dbbak ]</span><br><span class=\"line\">#判断备份目录是否存在，是否为目录</span><br><span class=\"line\">\tthen</span><br><span class=\"line\">\t#如果判断为真，执行以下脚本</span><br><span class=\"line\">\techo &quot;Date : $date!&quot; &gt; /tmp/dbbak/dbinfo.txt</span><br><span class=\"line\">\t#把当前日期写入临时文件</span><br><span class=\"line\">\techo &quot;Data size : $size&quot; &gt;&gt; /tmp/dbbak/dbinfo.txt</span><br><span class=\"line\">\t#把数据库大小写入临时文件</span><br><span class=\"line\">\tcd/tmp/dbbak</span><br><span class=\"line\">\t</span><br><span class=\"line\"></span><br><span class=\"line\">\t#进入备份目录</span><br><span class=\"line\">\ttar -zcf mysql-lib-$date.tar.gz /var/lib/mysql dbinfo.txt &amp;&gt; /dev/null</span><br><span class=\"line\">\t#打包压缩数据库与临时文件，把所有输出丢入垃圾箱（不想看到任何输出）</span><br><span class=\"line\">\trm -rf /tmp/dbbak/dbinfo.txt</span><br><span class=\"line\">\t#删除临时文件</span><br><span class=\"line\"></span><br><span class=\"line\">else</span><br><span class=\"line\">\tmkdir /tmp/dbbak</span><br><span class=\"line\">\t#如果判断为假，则建立备份目录</span><br><span class=\"line\">\techo &quot;Date : $date!&quot; &gt; /tmp/dbbak/dbinfo.txt</span><br><span class=\"line\">\techo &quot;Data size : $size&quot; &gt;&gt; /tmp/dbbak/dbinfo.txt</span><br><span class=\"line\">\t#把日期和数据库大小保存如临时文件</span><br><span class=\"line\">\tcd /tmp/dbbak</span><br><span class=\"line\">\ttar -zcf mysql-lib-$date.tar. gz dbinfo.txt /var/lib/mysql &amp;&gt; /dev/null</span><br><span class=\"line\">\t#压缩备份数据库与临时文件</span><br><span class=\"line\">\trm -rf/tmp/dbbak/dbinfo.txt</span><br><span class=\"line\">\t#删除临时文件</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n<p>案例2：判断apache是否启动，如果没有启动则自动启动</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/autostart.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#判断apache是否启动，如果没有启动则自动启动</span><br><span class=\"line\"></span><br><span class=\"line\">port=$(nmap -sT 192.168.4.210 | grep tcp | grep http | awk &#x27;&#123;print $2&#125;’)</span><br><span class=\"line\">#使用nmap命令扫描服务器，并截取 apache服务的状态，赋予变量port</span><br><span class=\"line\">#只要状态是open，就证明正常启动</span><br><span class=\"line\">if [ &quot;$port&quot; == &quot;open&quot;]</span><br><span class=\"line\">#如果变量port的值是“open”</span><br><span class=\"line\">\tthen</span><br><span class=\"line\">\techo &quot;$(date) httpd is ok!” &gt;&gt; /tmp/autostart-acc.log</span><br><span class=\"line\">\t#则证明apache 正常启动，在正常日志中写入一句话即可</span><br><span class=\"line\">else</span><br><span class=\"line\">\t/etc/rc.d/init.d/httpd start &amp;&gt;/dev/null</span><br><span class=\"line\">\t#否则证明apache没有启动，自动启动apache</span><br><span class=\"line\">\techo &quot;$(date) restart httpd !!&quot; &gt;&gt; /tmp/autostart-err.log</span><br><span class=\"line\">\t#并在错误日志中记录自动启动apche 的时间</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n<p>nmap端口扫描命令，格式如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ nmap -sT 域名或IP</span><br><span class=\"line\">选项:</span><br><span class=\"line\">-s      扫描</span><br><span class=\"line\">-T      扫描所有开启的TCP端口</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">#知道了nmap命令的用法，我们在脚本中使用的命令就是为了截取http的状态，只要状态是“or.</span><br><span class=\"line\"></span><br><span class=\"line\">#就证明apache启动正常，否则证明apache启动错误。来看看脚本中命令的结果:</span><br><span class=\"line\">[root@localhost ~]$ nmap -sT 192.168.4.210 | grep tcp | grep http | awk &#x27; fprint $2&#125;’</span><br><span class=\"line\">#扫描指定计算机，提取包含tcp 的行，在提取包含httpd 的行，截取第二列open</span><br><span class=\"line\">#把截取的值赋予变量port</span><br></pre></td></tr></table></figure>\n<p><strong>多分支if条件语句</strong></p>\n<p>语法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if [ 条件判断式1 ]</span><br><span class=\"line\">\tthen</span><br><span class=\"line\">\t\t当条件判断式1成立时，执行程序1</span><br><span class=\"line\">elif [ 条件判断式2 ]</span><br><span class=\"line\">\tthen</span><br><span class=\"line\">\t\t当条件判断式2成立时，执行程序2</span><br><span class=\"line\">…省略更多条件…</span><br><span class=\"line\">else</span><br><span class=\"line\">\t当所有条件都不成立时，最后执行此程序</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n<p>案例：判断用户输入的是什么文件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/if-elif.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#判断用户输入的是什么文件</span><br><span class=\"line\"></span><br><span class=\"line\">read -p &quot;Please input a filename: &quot; file</span><br><span class=\"line\">#接收键盘的输入，并赋予变量file</span><br><span class=\"line\">if [ -z &quot;$file” ]</span><br><span class=\"line\">#判断file变量是否为空</span><br><span class=\"line\">\tthen</span><br><span class=\"line\">\t\techo &quot;Error, please input a filename&quot;</span><br><span class=\"line\">\t\t#如果为空，执行程序1，也就是输出报错信息</span><br><span class=\"line\">\t\texit 1</span><br><span class=\"line\">\t\t#退出程序，并返回值为Ⅰ(把返回值赋予变量$P）</span><br><span class=\"line\">elif [ ! -e &quot;$file” ]</span><br><span class=\"line\">\t\t#判断file的值是否存在</span><br><span class=\"line\">\t\tthen</span><br><span class=\"line\">\t\techo &quot;Your input is not a file!&quot;</span><br><span class=\"line\">\t\t#如1果不存在，则执行程序2</span><br><span class=\"line\">\t\texit 2</span><br><span class=\"line\">\t\t#退出程序，把并定义返回值为2</span><br><span class=\"line\">elif [ -f &quot;$file” ]</span><br><span class=\"line\">\t\t#判断file的值是否为普通文件</span><br><span class=\"line\">\t\tthen</span><br><span class=\"line\">\t\techo &quot;$file is a regulare file!”</span><br><span class=\"line\">\t\t#如果是普通文件，则执行程序3</span><br><span class=\"line\">elif [ -d &quot;$file” ]</span><br><span class=\"line\">\t\t#到断file的值是否为目录文件</span><br><span class=\"line\">\t\tthen</span><br><span class=\"line\">\t\techo &quot;$file is a directory!&quot;</span><br><span class=\"line\">\t\t#如果是目录文件，网执行程序4</span><br><span class=\"line\">else</span><br><span class=\"line\">\techo &quot;$file is an other file!”</span><br><span class=\"line\">\t#如果以上判断都不是，则执行程序5</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n<h3 id=\"多分支case条件语句\"><a href=\"#多分支case条件语句\" class=\"headerlink\" title=\"多分支case条件语句\"></a>多分支case条件语句</h3><p>case语句语法如下:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">case $变量名 in</span><br><span class=\"line\">\t&quot;值1&quot;)</span><br><span class=\"line\">\t如果变量的值等于值1，则执行程序1</span><br><span class=\"line\">\t;;</span><br><span class=\"line\">\t&quot;值2&quot;)</span><br><span class=\"line\">\t如果变量的值等于值2，则执行程序2</span><br><span class=\"line\">\t::</span><br><span class=\"line\">\t…省略其他分支…</span><br><span class=\"line\">\t*)</span><br><span class=\"line\">\t如果变量的值都不是以上的值，则执行此程序</span><br><span class=\"line\">\t;;</span><br><span class=\"line\">esac</span><br></pre></td></tr></table></figure>\n<p>这个语句需要注意以下内容:</p>\n<ul>\n<li>case语句，会取出变量中的值，然后与语句体中的值逐一比较。如果数值符合，则执行对应的程序，如果数值不符，则依次比较下一个值。如果所有的值都不符合，则执行 “<em>)” (</em>代表所有其他值）中的程序。</li>\n<li><p>case语句以“case”开头，以“esac”结尾。</p>\n</li>\n<li><p>每一个分支程序之后要通过“;;”双分号结尾，代表该程序段结束(千万不要忘记，每次写case语句，都不要忘记双分号）。</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">案例：</span><br><span class=\"line\"></span><br><span class=\"line\">[root@localhost ~]$ vi sh/if-case.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">read -p &quot;请输入一个字符，并按Enter确认：&quot; KEY</span><br><span class=\"line\">case &quot;$KEY&quot; in</span><br><span class=\"line\">\t[a-z]|[A-Z])</span><br><span class=\"line\">\techo &quot;您输入的是字母&quot;</span><br><span class=\"line\">\t;;</span><br><span class=\"line\">\t</span><br><span class=\"line\"></span><br><span class=\"line\">\t[0-9])</span><br><span class=\"line\">\techo &quot;您输入的是数字&quot;</span><br><span class=\"line\">\t;;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t*)</span><br><span class=\"line\">\techo &quot;您输入的是其他字符&quot;</span><br><span class=\"line\">\t;;</span><br><span class=\"line\"></span><br><span class=\"line\">esac</span><br></pre></td></tr></table></figure>\n<h3 id=\"for循环\"><a href=\"#for循环\" class=\"headerlink\" title=\"for循环\"></a>for循环</h3><p>语法一:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for 变量 in 值1 值2 值3 …(可以是一个文件等)</span><br><span class=\"line\">\tdo</span><br><span class=\"line\">\t\t程序</span><br><span class=\"line\">\tdone</span><br></pre></td></tr></table></figure>\n<p>这种语法中for循环的次数，取决于in后面值的个数（空格分隔），有几个值就循环几次，并且每次循环都把值赋予变量。也就是说，假设in后面有三个值，for会循环三次，第一次循环会把值1赋予变量，第二次循环会把值2赋予变量，以此类推。</p>\n<p>语法一举例：打印时间</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/for.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#打印时间</span><br><span class=\"line\"></span><br><span class=\"line\">for time in morning noon afternoon evening</span><br><span class=\"line\">\tdo</span><br><span class=\"line\">\t\techo &quot;This time is $time!&quot;</span><br><span class=\"line\">\tdone</span><br></pre></td></tr></table></figure>\n<p>语法一举例：批量解压缩脚本</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/auto-tar. sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#批量解压缩脚本</span><br><span class=\"line\"></span><br><span class=\"line\">cd/lamp</span><br><span class=\"line\">#进入压缩包目录</span><br><span class=\"line\">ls *.tar.gz &gt; ls.log</span><br><span class=\"line\">#把所有.tar.gz结尾的文件的文件覆盖到ls.log 临时文件中</span><br><span class=\"line\">for i in $(cat ls.log) `</span><br><span class=\"line\">#或者这样写for i in `cat ls.log`</span><br><span class=\"line\"></span><br><span class=\"line\">#读取ls.log文件的内容，文件中有多少个值，就会循环多少次，每次循环把文件名赋予变量i</span><br><span class=\"line\">\tdo</span><br><span class=\"line\">\t\ttar -zxf $i &amp;&gt;/dev/null</span><br><span class=\"line\">\t\t#加压缩，并把所有输出都丢弃</span><br><span class=\"line\">\tdone</span><br><span class=\"line\">rm -rf /lamp/ls.log</span><br><span class=\"line\">#删除临时文件ls.log</span><br></pre></td></tr></table></figure>\n<p>语法二:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (( 初始值;循环控制条件;变量变化 ))</span><br><span class=\"line\">\tdo</span><br><span class=\"line\">\t\t程序</span><br><span class=\"line\">\tdone</span><br></pre></td></tr></table></figure>\n<p>语法二中需要注意:<br>初始值:在循环开始时，需要给某个变量赋予初始值，如i=1;</p>\n<p>循环控制条件:用于指定变量循环的次数，如i&lt;=100，则只要i的值小于等于100，循环就会继续;</p>\n<p>变量变化:每次循环之后，变量该如何变化，如i=i+1。代表每次循环之后，变量i的值都加1。</p>\n<p>语法二举例：从1加到100</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/add. sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#从1加到100</span><br><span class=\"line\"></span><br><span class=\"line\">s=0</span><br><span class=\"line\">for (( i=1;i&lt;=100;i=i+1 ))</span><br><span class=\"line\">#定义循环100 次</span><br><span class=\"line\">do</span><br><span class=\"line\">\ts=$(( $s+$i ))</span><br><span class=\"line\">\t#每次循环给变量s赋值</span><br><span class=\"line\">\tdone</span><br><span class=\"line\">echo &quot;The sum of 1+2+...+100 is : $s&quot;</span><br><span class=\"line\">#输出1加到100的和</span><br></pre></td></tr></table></figure>\n<p>语法二举例：批量添加指定数量的用户</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi useradd.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#批量添加指定数量的用户</span><br><span class=\"line\"></span><br><span class=\"line\">read -p &quot;Please input user name: &quot; -t 30 name</span><br><span class=\"line\">#让用户输入用户名，把输入保存入变量name</span><br><span class=\"line\"></span><br><span class=\"line\">read -p &quot;Please input the number of users: &quot; -t 30 num</span><br><span class=\"line\">#让用户输入添加用户的数量，把输入保存入变量num</span><br><span class=\"line\"></span><br><span class=\"line\">read -p &quot;Please input the password of users: &quot; -t 30 pass</span><br><span class=\"line\">#让用户输入初始密码，把输入保存如变量pass</span><br><span class=\"line\"></span><br><span class=\"line\">if [ ! -z &quot;$name&quot; -a ! -z &quot;$num&quot;-a ! -z &quot;$pass&quot;]</span><br><span class=\"line\">#判断三个变量不为空</span><br><span class=\"line\">then</span><br><span class=\"line\">y=$(echo $num | sed &#x27;s/[0-9]//g&#x27;)</span><br><span class=\"line\">#定义变量的值为后续命令的结果</span><br><span class=\"line\">#后续命令作用是，把变量num 的值替换为空。如果能替换为空，证明num 的值为数字</span><br><span class=\"line\">#如果不能替换为空，证明num的值为非数字。我们使用这种方法判断变量num 的值为数字</span><br><span class=\"line\">\tif [ -z &quot;$y&quot;]</span><br><span class=\"line\">\t#如果变量y的值为空，证明num变量是数字</span><br><span class=\"line\">\t\tthen</span><br><span class=\"line\">\t\tfor (( i=1 ; i&lt;=$num; i=i+1 ))</span><br><span class=\"line\">\t\t#循环num变量指定的次数</span><br><span class=\"line\">\t\t\tdo</span><br><span class=\"line\">\t\t\t/usr/sbin/useradd $name$i &amp;&gt;/dev/null</span><br><span class=\"line\">\t\t\t#添加用户，用户名为变量name 的值加变量i的数字</span><br><span class=\"line\">\t\t\techo $pass | /usr/bin/passwd --stdin $name$i &amp;&gt;/dev/null</span><br><span class=\"line\">\t\t\t#给用户设定初始密码为变量pass 的值</span><br><span class=\"line\">\t\t\tdone</span><br><span class=\"line\">\tfi</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n<p>语法二举例：批量删除用户</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/userdel.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#批量删除用户</span><br><span class=\"line\"></span><br><span class=\"line\">user=$(cat /etc/passwd | grep &quot; /bin/bash&quot;|grep -v &quot;root&quot;Icut -d &quot;:&quot; -f 1)</span><br><span class=\"line\">#读取用户信息文件，提取可以登录用户，取消root用户，截取第一列用户名</span><br><span class=\"line\"></span><br><span class=\"line\">for i in $user</span><br><span class=\"line\">#循环，有多少个普通用户，循环多少次</span><br><span class=\"line\">\tdo</span><br><span class=\"line\">\t\tuserdel -r $i</span><br><span class=\"line\">\t\t#每次循环，删除指定普通用户</span><br><span class=\"line\">\tdone</span><br></pre></td></tr></table></figure>\n<h3 id=\"while循环\"><a href=\"#while循环\" class=\"headerlink\" title=\"while循环\"></a>while循环</h3><p>语法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">while [ 条件判断式 ]</span><br><span class=\"line\">\tdo</span><br><span class=\"line\">\t\t程序</span><br><span class=\"line\">\tdone</span><br></pre></td></tr></table></figure>\n<p>案例：1加到100</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/addnum.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#从1加到100</span><br><span class=\"line\"></span><br><span class=\"line\">i=1</span><br><span class=\"line\">s=0</span><br><span class=\"line\">#给变量i和变量s赋值</span><br><span class=\"line\"></span><br><span class=\"line\">while [ $i -le 100 ]</span><br><span class=\"line\">#如果变量i的值小于等于100，则执行循环</span><br><span class=\"line\">\tdo</span><br><span class=\"line\">\t\ts=$(( $s+$i ))</span><br><span class=\"line\">\t\ti=$(( $i+1 ))</span><br><span class=\"line\">\tdone</span><br><span class=\"line\">echo &quot;The sum is: $s&quot;</span><br></pre></td></tr></table></figure>\n<p>案例：输入的数值进行比较判断</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/addnum.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">PRICE=$(expr $RANDOM % 1000)</span><br><span class=\"line\">TIMES=0</span><br><span class=\"line\"></span><br><span class=\"line\">echo &quot;商品的价格为0-999之间，猜猜看是多少？&quot;</span><br><span class=\"line\">while true</span><br><span class=\"line\">do</span><br><span class=\"line\">  read -p &quot;请输入您猜的价格：&quot; INT</span><br><span class=\"line\">let TIMES++</span><br><span class=\"line\"></span><br><span class=\"line\">\tif [ $INT -eq $PRICE ] ; then</span><br><span class=\"line\">\t  echo &quot;恭喜您猜对了，实际价格是 $PRICE&quot;</span><br><span class=\"line\">\t  echo &quot;您总共猜了 $TIMES 次&quot;</span><br><span class=\"line\">\texit 0</span><br><span class=\"line\">\telif [ $INT -gt $PRICE ] ; then</span><br><span class=\"line\">\t  echo &quot;太高了&quot;</span><br><span class=\"line\">\telse</span><br><span class=\"line\">\t  echo &quot;太低了&quot;</span><br><span class=\"line\">\tfi</span><br><span class=\"line\"></span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<h3 id=\"until循环\"><a href=\"#until循环\" class=\"headerlink\" title=\"until循环\"></a>until循环</h3><p>和while循环相反，until循环时只要条件判断式不成立则进行循环，并执行循环程序。一旦循环条件成立，则终止循环。</p>\n<p>语法:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">until [ 条件判断式 ]</span><br><span class=\"line\">\tdo</span><br><span class=\"line\">\t\t程序</span><br><span class=\"line\">\tdone</span><br></pre></td></tr></table></figure>\n<p>案例一：1加到100</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/until.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#从1加到100</span><br><span class=\"line\"></span><br><span class=\"line\">i=1</span><br><span class=\"line\">s=0</span><br><span class=\"line\">#t给变量i和变量s赋值</span><br><span class=\"line\"></span><br><span class=\"line\">until [ $i -gt 100 ]</span><br><span class=\"line\">#循环直到变量i的值大于100，就停止循环</span><br><span class=\"line\">\tdo</span><br><span class=\"line\">\t\ts=$(( $s+$i ))</span><br><span class=\"line\">\t\ti=$(( $i+1 ))</span><br><span class=\"line\">\tdone</span><br><span class=\"line\">echo &quot;The sum is: $s&quot;</span><br></pre></td></tr></table></figure>\n<h3 id=\"函数\"><a href=\"#函数\" class=\"headerlink\" title=\"函数\"></a>函数</h3><p>语法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function 函数名 () &#123;</span><br><span class=\"line\">\t程序</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>案例：接收用户输入的数字，然后从1加到这个数字</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/function.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#接收用户输入的数字，然后从1加到这个数字</span><br><span class=\"line\"></span><br><span class=\"line\">function sum () &#123;</span><br><span class=\"line\">\t#定义函数sum</span><br><span class=\"line\">\ts=0</span><br><span class=\"line\">\tfor (( i=0; i&lt;=$num;i=i+1 ))</span><br><span class=\"line\">\t\t#循环直到i大于$1为止。$1是函数sum 的第一个参数</span><br><span class=\"line\">\t\t#在函数中也可以使用位置参数变量，不过这里的$1指的是函数的第一个参数</span><br><span class=\"line\">\t\tdo</span><br><span class=\"line\">\t\t\ts=$(( $i+$s ))</span><br><span class=\"line\">\t\tdone</span><br><span class=\"line\">\techo &quot;The sum of 1+2+3...+$1 is :$s&quot;</span><br><span class=\"line\">\t#输出1加到$1的和</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">read -p &quot;Please input a number: &quot; -t 30 num</span><br><span class=\"line\">#接收用户输入的数字，并把值赋予变量num</span><br><span class=\"line\">y=$(echo $num | sed &#x27;s/[0-9]//g&#x27;)</span><br><span class=\"line\">#把变量num的值替换为空，并赋予变量y</span><br><span class=\"line\"></span><br><span class=\"line\">if [ -z &quot;$y&quot;]</span><br><span class=\"line\">#判断变量y是否为空，以确定变量num中是否为数字</span><br><span class=\"line\">\tthen</span><br><span class=\"line\">\t\tsum $num</span><br><span class=\"line\">\t\t#调用sum函数，并把变量num的值作为第一个参数传递给sum函数</span><br><span class=\"line\">else</span><br><span class=\"line\">\t\techo &quot;Error!! Please input a number!&quot;</span><br><span class=\"line\">\t\t#如果变量num 的值不是数字，则输出报错信息</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n<h3 id=\"特殊流程控制语句\"><a href=\"#特殊流程控制语句\" class=\"headerlink\" title=\"特殊流程控制语句\"></a>特殊流程控制语句</h3><p><strong>exit语句</strong><br>系统是有exit命令的，用于退出当前用户的登录状态。可是在Shell脚本中，exit语句是用来退出当前脚本的。也就是说，在Shell脚本中，只要碰到了exit语句，后续的程序就不再执行，而直接退出脚本。</p>\n<p>exit的语法如下:</p>\n<p>exit [返回值]</p>\n<p>如果exit命令之后定义了返回值，那么这个脚本执行之后的返回值就是我们自己定义的返回值。可以通过查询$?这个变量，来查看返回值。如果exit之后没有定义返回值，脚本执行之后的返回值是执行exit 语句之前，最后执行的一条命令的返回值。写一个exit 的例子:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/exit.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#演示exit的作用</span><br><span class=\"line\"></span><br><span class=\"line\">read -p &quot;Please input a number: &quot; -t 30 num</span><br><span class=\"line\">#接收用户的输入，并把输入赋予变量num</span><br><span class=\"line\">y=$ (echo $num | sed &#x27;s/[0-9]//g&#x27;)</span><br><span class=\"line\">#如果变量num 的值是数字，则把num的值替换为空，否则不替换</span><br><span class=\"line\">#把替换之后的值赋予变量y</span><br><span class=\"line\">[ -n &quot;$y&quot; ] &amp;&amp; echo &quot;Error! Please input a number!&quot; &amp;&amp; exit 18</span><br><span class=\"line\">#判断变量y的值如果不为空，输出报错信息，退出脚本，退出返回值为18</span><br><span class=\"line\">echo &quot;The number is: $num&quot;</span><br><span class=\"line\">#如果没有退出加班，则打印变量num中的数字</span><br></pre></td></tr></table></figure>\n<p><strong>break语句</strong><br>当程序执行到break语句时，会结束整个当前循环。而continue 语句也是结束循环的语句，不过continue 语句单次当前循环，而下次循环会继续。</p>\n<p>案例：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/break.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#演示break 跳出循环</span><br><span class=\"line\"></span><br><span class=\"line\">for (( i=1;i&lt;=10; i=i+1 ))</span><br><span class=\"line\">#循环十次</span><br><span class=\"line\">\tdo</span><br><span class=\"line\">\t\tif [&quot;$i&quot; -eq 4 ]</span><br><span class=\"line\">\t\t#如果变量i的值等于4</span><br><span class=\"line\">\t\t\tthen</span><br><span class=\"line\">\t\t\tbreak</span><br><span class=\"line\">\t\t\t#退出整个循环</span><br><span class=\"line\">\t\tfi</span><br><span class=\"line\">\techo $i</span><br><span class=\"line\">\t#输出变量i的值</span><br><span class=\"line\">\tdone</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">执行下这个脚本，因为一旦变量i的值等于4，整个循环都会跳出，所以应该只能循环三次:</span><br><span class=\"line\"></span><br><span class=\"line\">[root@localhost ~]$ chmod 755 sh/break.sh</span><br><span class=\"line\">[root@localhost ~]#sh/break.sh</span><br></pre></td></tr></table></figure>\n<p><strong>continue语句</strong></p>\n<p>continue也是结束流程控制的语句。如果在循环中，continue语句只会结束单次当前循环。</p>\n<p>案例：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi sh/break.sh</span><br><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#演示continue</span><br><span class=\"line\"></span><br><span class=\"line\">for (( i=1;i&lt;=10;i=i+1 ))</span><br><span class=\"line\">#循环十次</span><br><span class=\"line\">\tdo</span><br><span class=\"line\">\t\tif [&quot;$i&quot; -eq 4 ]</span><br><span class=\"line\">\t\t#如果变量i的值等于4</span><br><span class=\"line\">\t\t\tthen</span><br><span class=\"line\">\t\t\tcontinue</span><br><span class=\"line\">\t\t\t#退出换成continue</span><br><span class=\"line\">\t\tfi</span><br><span class=\"line\">\techo $i</span><br><span class=\"line\">\t#输出变量i的值</span><br><span class=\"line\">\tdone</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">执行下这个脚本:</span><br><span class=\"line\"></span><br><span class=\"line\">[root@localhost ~]$ chmod 755 sh/continue.sh</span><br><span class=\"line\">[root@localhost ~]#sh/break.sh</span><br><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">#少了4这个输出</span><br></pre></td></tr></table></figure>\n<h2 id=\"17-5字符截取、替换和处理命令\"><a href=\"#17-5字符截取、替换和处理命令\" class=\"headerlink\" title=\"17.5字符截取、替换和处理命令\"></a>17.5字符截取、替换和处理命令</h2><h3 id=\"正则表达式\"><a href=\"#正则表达式\" class=\"headerlink\" title=\"正则表达式\"></a>正则表达式</h3><p><img src=\"../img/image-20240905162917968.png\" alt=\"image-20240905162917968\"></p>\n<ul>\n<li>| 匹配之前的项1次或者多次 | sa-6+匹配sa-6、sa-666，不能匹配sa-</li>\n<li>| 匹配之前的项0次或者多次| co*l匹配cl、col、cool、coool等</li>\n<li>() | 匹配表达式，创建一个用于匹配的子串 | ma(tri)?匹配max或maxtrix</li>\n<li>{n} | 匹配之前的项n次，n是可以为0的正整数 |[0-9]{3}匹配任意一个三位数，可以扩展为[0-9][0-9][0-9]</li>\n<li>{n,}| 之前的项至少需要匹配n次 | [0-9]{2,}匹配任意一个两位数或更多位数不支持{n,}{n,}{n,}</li>\n<li>{n,m}| 指定之前的项至少匹配n次，最多匹配m次，n&lt;=m | [0-9]{2,5}匹配从两位数到五位数之间的任意一个数字</li>\n<li>|| 交替匹配|两边的任意一项 | ab(c|d)匹配abc或abd</li>\n</ul>\n<h3 id=\"字符截取、替换命令\"><a href=\"#字符截取、替换命令\" class=\"headerlink\" title=\"字符截取、替换命令\"></a>字符截取、替换命令</h3><p><strong>cut 列提取命令</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ cut [选项] 文件名</span><br><span class=\"line\">选项:</span><br><span class=\"line\">-f 列号: 提取第几列</span><br><span class=\"line\">-d 分隔符: 按照指定分隔符分割列</span><br><span class=\"line\">-n\t取消分割多字节字符</span><br><span class=\"line\">-c 字符范围: 不依赖分隔符来区分列，而是通过字符范围（行首为0）来进行字段提取。“n-”表示从第n个字符到行尾;“n-m”从第n个字符到第m个字符;“一m”表示从第1个字符到第m个字符。</span><br><span class=\"line\">--complement\t补足被选择的字节、字符或字段</span><br><span class=\"line\">--out-delimiter\t指定输出内容是的字段分割符</span><br></pre></td></tr></table></figure>\n<p>cut命令的默认分隔符是制表符，也就是“tab”键，对空格符不怎么支持。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi student.txt</span><br><span class=\"line\">id\tname\tgender\tmark</span><br><span class=\"line\">1\tliming\tm\t\t86</span><br><span class=\"line\">2\tsc\t\tm\t\t67</span><br><span class=\"line\">3\ttg\t\tn\t\t90</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ cut -f 2 student.txt</span><br><span class=\"line\">#提取第二列内容</span><br></pre></td></tr></table></figure>\n<p>那如果想要提取多列呢?只要列号直接用“，”分开，命令如下:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ cut -f 2,3 student.txt</span><br></pre></td></tr></table></figure>\n<p>cut可以按照字符进行提取，需要注意“8-”代表的是提取所有行的第十个字符开始到行尾，而“10-20”代表提取所有行的第十个字符到第二十个字符，而“-8”代表提取所有行从行首到第八个字符:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ cut -c 8- student.txt</span><br><span class=\"line\">#提取第八个字符开始到行尾，很乱，那是因为每行的字符个数不相等啊</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ cut -d &quot;:&quot; -f 1,3 /etc/passwd</span><br><span class=\"line\">#以“:”作为分隔符，提取/etc/passwd_文件的第一列和第三列</span><br></pre></td></tr></table></figure>\n<p>如果我想用cut命令截取df命令的第一列和第三列，就会出现这样的情况:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost~]$ df -h | cut -d &quot; &quot; -f 1,3</span><br><span class=\"line\">Filesystem </span><br><span class=\"line\">/dev/sda2 </span><br><span class=\"line\">tmpfs </span><br><span class=\"line\">/dev/sda1</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"awk-编程\"><a href=\"#awk-编程\" class=\"headerlink\" title=\"awk 编程\"></a>awk 编程</h3><p>AWK 是一种处理文本文件的语言，是一个强大的文本分析工具。</p>\n<h4 id=\"printf-格式化输出\"><a href=\"#printf-格式化输出\" class=\"headerlink\" title=\"printf 格式化输出\"></a>printf 格式化输出</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ printf ‘输出类型输出格式’ 输出内容</span><br><span class=\"line\"></span><br><span class=\"line\">输出类型:</span><br><span class=\"line\">%c:     ASCII字符.显示相对应参数的第一个字符</span><br><span class=\"line\">%-ns:   输出字符串，减号“-”表示左对齐(默认右对齐)，n是数字指代输出几个字符,几个参数就写几个%-ns</span><br><span class=\"line\">%-ni:   输出整数，n是数字指代输出几个数字</span><br><span class=\"line\">%f：    输出小数点右边的位数</span><br><span class=\"line\">%m.nf:  输出浮点数，m和n是数字，指代输出的整数位数和小数位数。如%8.2f代表共输出8位数，其中2位是小数，6位是整数。</span><br><span class=\"line\"></span><br><span class=\"line\">输出格式:</span><br><span class=\"line\">\\a: 输出警告声音</span><br><span class=\"line\">\\b: 输出退格键，也就是Backspace键</span><br><span class=\"line\">\\f: 清除屏幕</span><br><span class=\"line\">\\n: 换行</span><br><span class=\"line\">\\r: 回车，也就是Enter键</span><br><span class=\"line\">\\t: 水平输出退格键，也就是Tab 键</span><br><span class=\"line\">\\v: 垂直输出退格键，也就是Tab 键</span><br></pre></td></tr></table></figure>\n<p>为了演示printf命令，需要修改下刚刚cut命令使用的student.txt文件，文件内容如下:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi student.txt</span><br><span class=\"line\">ID      Name    php  \t Linux  \tMySQL \t  Average</span><br><span class=\"line\">1       AAA      66         66       66           66</span><br><span class=\"line\">2       BBB      77         77       77           77</span><br><span class=\"line\">3       CCC      88         88       88           88</span><br><span class=\"line\"></span><br><span class=\"line\">#printf格式输出文件</span><br><span class=\"line\">[root@localhost ~]$ printf &#x27;%s\\t %s\\t %s\\t %s\\t %s\\t %s\\t \\n’ $(cat student.txt)</span><br><span class=\"line\">#%s分别对应后面的参数,6列就写6个</span><br><span class=\"line\">ID      Name    php   Linux  MySQL   Average</span><br><span class=\"line\">1       AAA      66         66       66           66</span><br><span class=\"line\">2       BBB      77         77       77           77</span><br><span class=\"line\">3       CCC      88         88       88           88</span><br></pre></td></tr></table></figure>\n<p>如果不想把成绩当成字符串输出，而是按照整型和浮点型输出，则要这样:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ printf &#x27;%i\\t %s\\t %i\\t %i\\t %i\\t %8.2f\\t \\n’ \\ $(cat student.txt | grep -v Name)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"awk-基本使用\"><a href=\"#awk-基本使用\" class=\"headerlink\" title=\"awk 基本使用\"></a>awk 基本使用</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ awk‘条件1&#123;动作1&#125; 条件2&#123;动作2&#125;…’ 文件名</span><br><span class=\"line\">条件（Pattern）:</span><br><span class=\"line\">\t一般使用关系表达式作为条件。这些关系表达式非常多，例如:</span><br><span class=\"line\">\tx &gt; 10  判断变量x是否大于10</span><br><span class=\"line\">\tx == y  判断变量x是否等于变量y</span><br><span class=\"line\">\tA ~ B   判断字符串A中是否包含能匹配B表达式的子字符串</span><br><span class=\"line\">\tA !~ B  判断字符串A中是否不包含能匹配B表达式的子字符串</span><br><span class=\"line\">\t</span><br><span class=\"line\">动作（Action） :</span><br><span class=\"line\">\t格式化输出</span><br><span class=\"line\">\t流程控制语句</span><br><span class=\"line\"></span><br><span class=\"line\">常用参数：</span><br><span class=\"line\"></span><br><span class=\"line\">   -F\t指定输入时用到的字段分隔符</span><br><span class=\"line\">   -v\t自定义变量</span><br><span class=\"line\">   -f\t从脚本中读取awk命令</span><br><span class=\"line\">   -m\t对val值设置内在限制</span><br></pre></td></tr></table></figure>\n<p>我们这里先来学习awk基本用法，也就是只看看格式化输出动作是干什么的。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ awk &#x27;&#123;printf $2 &quot;\\t&quot; $6 &quot;\\n&quot;&#125;’ student.txt</span><br><span class=\"line\">#输出第二列和第六列</span><br></pre></td></tr></table></figure>\n<p>比如刚刚截取df命令的结果时，cut命令已经力不从心了，我们来看看awk命令:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ df -h | awk &#x27;&#123;print $1 &quot;\\t&quot; $3&#125;&#x27;</span><br><span class=\"line\">#截取df命令的第一列和第三列</span><br></pre></td></tr></table></figure>\n<h4 id=\"awk-的条件\"><a href=\"#awk-的条件\" class=\"headerlink\" title=\"awk 的条件\"></a>awk 的条件</h4><p><img src=\"../img/image-20240905163951284.png\" alt=\"image-20240905163951284\"></p>\n<p><strong>BEGIN</strong></p>\n<p>BEGIN是awk的保留字，是一种特殊的条件类型。BEGIN的执行时机是“在 awk程序一开始时，尚未读取任何数据之前执行”。一旦BEGIN后的动作执行一次，当awk开始从文件中读入数据，BEGIN的条件就不再成立，所以BEGIN定义的动作只能被执行一次。</p>\n<p>例如:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ awk &#x27;BEGIN&#123;printf &quot;This is a transcript \\n&quot; &#125; &#123;printf $2 &quot;\\t&quot; $6 &quot;\\n&quot;&#125;’ student.txt</span><br><span class=\"line\">#awk命令只要检测不到完整的单引号不会执行，所以这个命令的换行不用加入“|”,就是一行命令</span><br><span class=\"line\">#这里定义了两个动作</span><br><span class=\"line\">#第一个动作使用BEGIN条件，所以会在读入文件数据前打印“这是一张成绩单”(只会执行一次)</span><br><span class=\"line\">#第二个动作会打印文件的第二字段和第六字段</span><br></pre></td></tr></table></figure>\n<p><strong>END</strong></p>\n<p>END也是awk保留字，不过刚好和BEGIN相反。END是在awk程序处理完所有数据，即将结束时执行。END后的动作只在程序结束时执行一次。例如:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ awk &#x27;END&#123;printf &quot;The End \\n&quot;&#125; &#123;printf $2 &quot;\\t&quot; $6 &quot;\\n&quot;&#125;’ student.txt</span><br><span class=\"line\">#在输出结尾输入“The End”，这并不是文档本身的内容，而且只会执行一次</span><br></pre></td></tr></table></figure>\n<p><strong>关系运算符</strong><br>举几个例子看看关系运算符。假设我想看看平均成绩大于等于87分的学员是谁，就可以这样输入命令:<br>例子1:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ cat student.txt | grep -v Name | awk &#x27;$6 &gt;= 87 &#123;printf $2 &quot;\\n&quot;&#125;&#x27;</span><br><span class=\"line\">#使用cat输出文件内容，用grep取反包含“Name”的行</span><br><span class=\"line\">#判断第六字段（平均成绩）大于等于87分的行，如果判断式成立，则打第六列（学员名$2）</span><br></pre></td></tr></table></figure>\n<p>加入了条件之后，只有条件成立动作才会执行，如果条件不满足，则动作则不运行。通过这个实验，大家可以发现，虽然awk是列提取命令，但是也要按行来读入的。这个命令的执行过程是这样的:</p>\n<p>1）如果有BEGIN条件，则先执行BEGIN定义的动作。<br>2）如果没有BEGIN条件，则读入第一行，把第一行的数据依次赋予$0、$1、$2等变量。其中$0代表此行的整体数据，$1代表第一字段，$2代表第二字段。<br>3）依据条件类型判断动作是否执行。如果条件符合，则执行动作，否则读入下一行数据。如果没有条件，则每行都执行动作。<br>4）读入下一行数据，重复执行以上步骤。</p>\n<p>再举个例子，如果我想看看Sc用户的平均成绩呢:</p>\n<p>例子2:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ awk &#x27;$2 ~ /AAA/ &#123;printf $6 &quot;\\n&quot;&#125;&#x27; student.txt</span><br><span class=\"line\">#如果第二字段中输入包含有“Sc”字符，则打印第六字段数据</span><br><span class=\"line\">85.66</span><br></pre></td></tr></table></figure>\n<p>这里要注意在awk中，使用“//”包含的字符串，awk命令才会查找。也就是说字符串必须用“//”包含，awk命令才能正确识别。</p>\n<p><strong>正则表达式</strong></p>\n<p>如果要想让awk 识别字符串，必须使用“//”包含，例如:<br>例子1:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ awk &#x27;/Liming/ &#123;print&#125;’student.txt</span><br><span class=\"line\">#打印Liming的成绩</span><br></pre></td></tr></table></figure>\n<p>当使用df命令查看分区使用情况是，如果我只想查看真正的系统分区的使用状况，而不想查看光盘和临时分区的使用状况，则可以:</p>\n<p>例子2:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ df -h | awk &#x27;/sda[O-9]/ &#123;printf $1 &quot;\\t&quot; $5 &quot;\\n&quot;&#125;’</span><br><span class=\"line\">#查询包含有sda数字的行，并打印第一字段和第五字段</span><br></pre></td></tr></table></figure>\n<h4 id=\"awk-内置变量\"><a href=\"#awk-内置变量\" class=\"headerlink\" title=\"awk 内置变量\"></a>awk 内置变量</h4><p><img src=\"../img/image-20240905164433026.png\" alt=\"image-20240905164433026\"></p>\n<p><strong>awk常用统计实例</strong><br>1、打印文件的第一列(域) ：<br> awk ‘{print $1}’ filename</p>\n<p>2、打印文件的前两列(域) ：<br> awk ‘{print $1,$2}’ filename</p>\n<p>3、打印完第一列，然后打印第二列 ：<br>awk ‘{print $1 $2}’ filename</p>\n<p>4、打印文本文件的总行数 ：<br>awk ‘END{print NR}’ filename</p>\n<p>5、打印文本第一行 ：<br>awk ‘NR==1{print}’ filename</p>\n<p>6、打印文本第二行第一列 ：<br>sed -n “2, 1p” filename | awk ‘print $1’</p>\n<ol>\n<li><p>获取第一列<br>ps -aux | grep watchdog | awk ‘{print $1}’</p>\n</li>\n<li><p>获取第一列，第二列，第三列<br>ps -aux | grep watchdog | awk ‘{print $1, $2, $3}’</p>\n</li>\n<li><p>获取第一行的第一列，第二列，第三列<br>ps -aux | grep watchdog | awk ‘NR==1{print $1, $2, $3}’</p>\n</li>\n<li><p>获取行数NR<br>df -h | awk ‘END{print NR}’</p>\n</li>\n<li><p>获取列数NF（这里是获取最后一行的列数，注意每行的列数可能是不同的）<br>ps -aux | grep watchdog | awk ‘END{print NF}’</p>\n</li>\n<li><p>获取最后一列<br>ps -aux | grep watchdog | awk ‘{print $NF}’</p>\n</li>\n<li><p>对文件进行操作<br>awk ‘{print $1}’ fileName</p>\n</li>\n<li><p>指定分隔符（这里以:分割）<br>ps -aux | grep watchdog |awk  -F’:’ ‘{print $1}’</p>\n</li>\n<li><p>超出范围不报错<br>ps -aux | grep watchdog | awk ‘{print $100}’</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ cat /etc/passwd | grep &quot;/bin/bash&quot; | awk &#x27;&#123;FS=&quot;:&quot;&#125; &#123;printf $1 &quot;\\t&quot; $3 &quot;\\n&quot;&#125;’</span><br><span class=\"line\">#查询可以登录的用户的用户名和UID</span><br></pre></td></tr></table></figure>\n<p>这里“:”分隔符生效了，可是第一行却没有起作用，忘记了“BEGIN”条件，那么再来试试;</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ cat /etc/passwd | grep &quot;/bin/bash&quot; | awk &#x27;BEGIN &#123;FS=&quot;:&quot;&#125; &#123;printf $1 &quot;\\t&quot; $3 &quot;\\n&quot;&#125;’</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ cat /etc/passwd | grep &quot;/bin/bash&quot; | awk &#x27;BEGIN &#123;FS=&quot;:&quot;&#125; &#123;printf $1 &quot;\\t&quot; $3 &quot;\\t 行号:” NR &quot;\\t 字段数:&quot; NF &quot;\\n&quot;&#125;’</span><br><span class=\"line\">#解释下awk命令</span><br><span class=\"line\">#开始执行&#123;分隔符是“:”&#125;&#123;输出第一字段和第三字段输出行号(NR值）字段数(NF值）&#125;</span><br><span class=\"line\">root     0      行号:1       字段数:7</span><br><span class=\"line\">user1   501     行号:2       字段数:7</span><br></pre></td></tr></table></figure>\n<p>如果我只想看看sshd这个伪用户的相关信息，则可以这样使用:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ cat /etc/passwd | awk &#x27;BEGIN &#123;FS=&quot;:&quot;&#125; $1==&quot;sshd&quot; &#123;printf $1 &quot;\\t&quot; $3 &quot;\\t 行号:&quot; NR &quot;\\t 字段数:&quot; NF &quot;\\n&quot;&#125;’</span><br><span class=\"line\">#可以看到sshd 伪用户的UID是74，是/etc/passwd_文件的第28行，此行有7个字段</span><br></pre></td></tr></table></figure>\n<h4 id=\"awk-流程控制\"><a href=\"#awk-流程控制\" class=\"headerlink\" title=\"awk 流程控制\"></a>awk 流程控制</h4><p>我们再来利用下student.txt文件做个练习，后面的使用比较复杂，我们再看看这个文件的内容:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ cat student.txt</span><br><span class=\"line\">ID      Name    php   Linux  MySQL   Average</span><br><span class=\"line\">1       AAA      66         66       66           66</span><br><span class=\"line\">2       BBB      77         77       77           77</span><br><span class=\"line\">3       CCC      88         88       88           88</span><br></pre></td></tr></table></figure>\n<p>我们先来看看该如何在awk中定义变量与调用变量的值。假设我想统计PHP成绩的总分，那么就应该这样:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ awk &#x27;NR==2 &#123;php1=$3&#125;</span><br><span class=\"line\">NR==3 &#123;php2=$3&#125;</span><br><span class=\"line\">NR==4 &#123;php3=$3;totle=phpl+php2+php3;print &quot;totle php is &quot; totle&#125;’ student.txt</span><br><span class=\"line\">#统计PHIP成绩的总分</span><br></pre></td></tr></table></figure>\n<p>我们解释下这个命令。“NR==2 {iphp1=$3}” (条件是NR==2，动作是php1=$3） 这句话是指如果输入数据是第二行（第一行是标题行），就把第二行的第三字段的值赋予变量“php1”。<br>“NR==3 {php2=$3}” 这句话是指如果输入数据是第三行,就把第三行的第三字段的值赋予变量“php2”。“NR==4 {php3=$3;totle=phpl+php2+php3;print “totle php is “ totle}”（“NR==4”是条件，后面(中的都是动作)这句话是指如果输入数据是第四行﹐就把第四行的第三字段的值赋予变量”php3”;然后定义变量totle的值是“php1+php2+php3”;然后输出“totle php is”关键字，后面加变量totle的值。</p>\n<p>在awk编程中，因为命令语句非常长，在输入格式时需要注意以下内容:</p>\n<ul>\n<li><p>多个条件 {动作} 可以用空格分割，也可以用回车分割。</p>\n</li>\n<li><p>在一个动作中，如果需要执行多个命令，需要用 “;” 分割，或用回车分割。</p>\n</li>\n<li><p>在awk中，变量的赋值与调用都不需要加入“$”符。</p>\n</li>\n<li><p>条件中判断两个值是否相同，请使用 “==”，以便和变量赋值进行区分。</p>\n</li>\n</ul>\n<p>在看看该如何实现流程控制，假设如果Linux成绩大于90，就是一个好男人(学PHP的表示压力很大!) :</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ awk &#x27;&#123;if (NR&gt;=2) &#123;if ($4&gt;60) printf $2 &quot;is a good man!\\n&quot;&#125;&#125;’ student.txt</span><br><span class=\"line\">#程序中有两个if判断，第一个判断行号大于2，第二个判断Linux成绩大于90分</span><br><span class=\"line\">Liming is a good man !</span><br><span class=\"line\">Sc is a good man !</span><br></pre></td></tr></table></figure>\n<p>其实在 awk中 if判断语句，完全可以直接利用awk自带的条件来取代，刚刚的脚本可以改写成这样:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$  awk ’NR&gt;=2 &#123;test=$4&#125;</span><br><span class=\"line\">test&gt;90 &#123;printf $2 &quot;is a good man! \\n&quot;&#125;’ student.txt</span><br><span class=\"line\">#先判断行号如果大于2，就把第四字段赋予变量test</span><br><span class=\"line\">#在判断如果test的值大于90分，就打印好男人</span><br><span class=\"line\">Liming is a good man!</span><br><span class=\"line\">Sc is a good man!</span><br></pre></td></tr></table></figure>\n<h4 id=\"awk-函数\"><a href=\"#awk-函数\" class=\"headerlink\" title=\"awk 函数\"></a>awk 函数</h4><p>awk编程也允许在编程时使用函数，我们讲讲awk的自定义函数。awk函数的定义方法如下:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function 函数名（参数列表）&#123;</span><br><span class=\"line\">\t函数体</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>我们定义一个简单的函数，使用函数来打印student.txt的学员姓名和平均成绩，应该这样来写函数：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ awk &#x27;function test(a,b) &#123; printf a &quot;\\t&quot; b &quot;\\n&quot;&#125;</span><br><span class=\"line\">#定义函数test，包含两个参数，函数体的内容是输出这两个参数的值</span><br><span class=\"line\">&#123; test($2,$6) &#125; &#x27; student.txt</span><br><span class=\"line\">#调用函数test，并向两个参数传递值。</span><br><span class=\"line\">Name    Average</span><br><span class=\"line\">AAA      87.66</span><br><span class=\"line\">BBB      85.66</span><br><span class=\"line\">CCC      91.66</span><br></pre></td></tr></table></figure>\n<h4 id=\"awk-中调用脚本\"><a href=\"#awk-中调用脚本\" class=\"headerlink\" title=\"awk 中调用脚本\"></a>awk 中调用脚本</h4><p>对于小的单行程序来说，将脚本作为命令行自变量传递给awk是非常简单的，而对于多行程序就比较难处理。当程序是多行的时候，使用外部脚本是很适合的。首先在外部文件中写好脚本，然后可以使用awk的-f选项，使其读入脚本并且执行。<br>例如，我们可以先编写一个awk脚本:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ vi pass.awk</span><br><span class=\"line\">BEGIN &#123;FS=&quot;:&quot;&#125;</span><br><span class=\"line\">&#123; print $1 &quot;\\t&quot;  $3&#125;</span><br></pre></td></tr></table></figure>\n<p>然后可以使用“一f”选项来调用这个脚本:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]$ awk -f pass.awk /etc/passwd</span><br><span class=\"line\">rooto</span><br><span class=\"line\">bin1</span><br><span class=\"line\">daemon2</span><br><span class=\"line\">…省略部分输出…</span><br></pre></td></tr></table></figure>\n<p>参考原文链接：</p>\n<p><a href=\"https://blog.csdn.net/dengjin20104042056/article/details/94669639?ops_request_misc=%7B%22request%5Fid%22%3A%22172013838816800186569201%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=172013838816800186569201&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-4-94669639-null-null.142^v100^control&amp;utm_term=linux&amp;spm=1018.2226.3001.4187\">【Linux】一步一步学Linux系列教程汇总（更新中……）_一步一步学linux 极客学院-CSDN博客</a></p>\n","text":"一、简史UNIX 1970年，美国贝尔实验室的 Ken Thompson，以 BCPL语言 为基础，设计出很简单且很接近硬件的 B语言（取BCPL的首字母），并...","permalink":"/post/Linux操作系统","photos":[],"count_time":{"symbolsCount":"168k","symbolsTime":"2:33"},"categories":[{"name":"技术栈","slug":"技术栈","count":2,"path":"api/categories/技术栈.json"}],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81%E7%AE%80%E5%8F%B2\"><span class=\"toc-text\">一、简史</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81%E7%AE%80%E4%BB%8B\"><span class=\"toc-text\">二、简介</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-1Linux%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC\"><span class=\"toc-text\">2.1Linux内核版本</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-2Linux%E5%8F%91%E8%A1%8C%E7%89%88%E6%9C%AC\"><span class=\"toc-text\">2.2Linux发行版本</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-3Linux%E7%B3%BB%E7%BB%9F%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">2.3Linux系统目录</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-4%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E6%A8%A1%E5%BC%8F\"><span class=\"toc-text\">2.4网络连接模式</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-5%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB\"><span class=\"toc-text\">2.5运行级别</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-6%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E6%89%8B%E5%86%8C%E4%B8%8E%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">2.6网络管理手册与链接</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-7NetworkManager%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1\"><span class=\"toc-text\">2.7NetworkManager网络管理服务</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-8%E9%98%B2%E7%81%AB%E5%A2%99%E7%AE%A1%E7%90%86\"><span class=\"toc-text\">2.8防火墙管理</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-9-RPM\"><span class=\"toc-text\">2.9 RPM</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-10-YUM\"><span class=\"toc-text\">2.10 YUM</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81Gnome%E4%B8%8B%E7%9A%84%E5%BF%AB%E6%8D%B7%E9%94%AE\"><span class=\"toc-text\">三、Gnome下的快捷键</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81VIM%E7%BC%96%E8%BE%91%E5%99%A8\"><span class=\"toc-text\">四、VIM编辑器</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-1-vim%E7%BC%96%E8%BE%91%E5%99%A8%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F\"><span class=\"toc-text\">4.1 vim编辑器的四种模式</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-2-VIM%E7%BC%96%E8%BE%91%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">4.2 VIM编辑器的使用</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8vim%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">使用vim打开文件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#vim%E7%BC%96%E8%BE%91%E5%99%A8%E4%BF%9D%E5%AD%98%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">vim编辑器保存文件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#vim%E7%BC%96%E8%BE%91%E5%99%A8%E5%BC%BA%E5%88%B6%E9%80%80%E5%87%BA%EF%BC%88%E4%B8%8D%E4%BF%9D%E5%AD%98%EF%BC%89\"><span class=\"toc-text\">vim编辑器强制退出（不保存）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">命令模式下的相关操作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8\"><span class=\"toc-text\">1.光标移动</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-%E9%80%89%E4%B8%AD%E5%86%85%E5%AE%B9\"><span class=\"toc-text\">2.选中内容</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-%E5%A4%8D%E5%88%B6%EF%BC%88%E9%85%8D%E5%90%88%E7%B2%98%E8%B4%B4%E5%91%BD%E4%BB%A4p%E4%BD%BF%E7%94%A8%EF%BC%89\"><span class=\"toc-text\">3.复制（配合粘贴命令p使用）</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#4-%E5%89%AA%E5%88%87\"><span class=\"toc-text\">4.剪切</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#5-%E7%B2%98%E8%B4%B4\"><span class=\"toc-text\">5.粘贴</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#6-%E5%88%A0%E9%99%A4\"><span class=\"toc-text\">6.删除</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#7-%E6%92%A4%E9%94%80-%E6%81%A2%E5%A4%8D\"><span class=\"toc-text\">7.撤销&#x2F;恢复</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-%E5%AD%97%E7%AC%A6%E8%BD%AC%E6%8D%A2\"><span class=\"toc-text\">8.字符转换</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#9-%E7%BC%96%E8%BE%91%E5%91%BD%E4%BB%A4%E7%9A%84%E5%BF%AB%E6%8D%B7%E9%94%AE\"><span class=\"toc-text\">9.编辑命令的快捷键</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9C%AB%E8%A1%8C%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">末行模式下的相关操作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-%E4%BF%9D%E5%AD%98-%E9%80%80%E5%87%BA%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">1.保存&#x2F;退出文件操作</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-%E6%9F%A5%E6%89%BE%EF%BC%9A%E2%80%9C-%E5%85%B3%E9%94%AE%E8%AF%8D%E2%80%9D\"><span class=\"toc-text\">2.查找：“&#x2F;关键词”</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-%E6%9B%BF%E6%8D%A2\"><span class=\"toc-text\">3.替换</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#4-%E8%A1%8C%E5%8F%B7%E6%98%BE%E7%A4%BA%EF%BC%9A%E2%80%9C-set-nu%E2%80%9D\"><span class=\"toc-text\">4.行号显示：“: set nu”;</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#5-%E6%96%87%E4%BB%B6%E5%88%87%E6%8D%A2\"><span class=\"toc-text\">5.文件切换</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#6-%E7%BC%96%E8%BE%91%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">6.编辑模式下的相关操作</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#7-%E6%89%A9%E5%B1%95\"><span class=\"toc-text\">7.扩展</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BA%94%E3%80%81Shell%E5%91%BD%E4%BB%A4%E8%A7%A3%E9%87%8A%E5%99%A8%E5%BF%AB%E6%8D%B7%E9%94%AE\"><span class=\"toc-text\">五、Shell命令解释器快捷键</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BC%96%E8%BE%91%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">编辑命令</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%90%9C%E7%B4%A2%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">搜索命令</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%8E%A7%E5%88%B6%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">控制命令</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%85%B6%E5%AE%83\"><span class=\"toc-text\">其它</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%85%AD%E3%80%81%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">六、命令行基本操作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-1-Linux%E7%BB%88%E7%AB%AF%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F\"><span class=\"toc-text\">6.1 Linux终端命令格式</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6\"><span class=\"toc-text\">命令提示符</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%94%A8%E6%88%B7%E5%AE%B6%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">用户家目录</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%91%BD%E4%BB%A4%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F\"><span class=\"toc-text\">命令的基本格式</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%80%89%E9%A1%B9%E7%9A%84%E4%BD%9C%E7%94%A8\"><span class=\"toc-text\">选项的作用</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8F%82%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8\"><span class=\"toc-text\">参数的作用</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-2-Linux%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">6.2 Linux文件类型</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-3-Linux%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">6.3 Linux帮助命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#man\"><span class=\"toc-text\">man</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#help\"><span class=\"toc-text\">help</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-4-tab%E9%94%AE%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8\"><span class=\"toc-text\">6.4 tab键自动补全</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-5-find%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">6.5 find查找文件</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-6-history%E6%B8%B8%E8%A7%88%E5%8E%86%E5%8F%B2\"><span class=\"toc-text\">6.6 history游览历史</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B8%83%E3%80%81%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">七、系统管理命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-shutdown\"><span class=\"toc-text\">1.shutdown</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-poweroff\"><span class=\"toc-text\">2.poweroff</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-halt\"><span class=\"toc-text\">3.halt</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-reboot\"><span class=\"toc-text\">4.reboot</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%85%AB%E3%80%81%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">八、磁盘管理命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-lsblk\"><span class=\"toc-text\">1.lsblk</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-du\"><span class=\"toc-text\">2.du</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-df\"><span class=\"toc-text\">3.df</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-free\"><span class=\"toc-text\">4.free</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-fdisk\"><span class=\"toc-text\">5.fdisk</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-mkfs\"><span class=\"toc-text\">6.mkfs</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#7-fsck\"><span class=\"toc-text\">7.fsck</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8-mount-umount\"><span class=\"toc-text\">8.mount&#x2F;umount</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B9%9D%E3%80%81%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">九、文件管理命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-pwd\"><span class=\"toc-text\">1.pwd</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-cd\"><span class=\"toc-text\">2.cd</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-ls\"><span class=\"toc-text\">3.ls</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-mkdir\"><span class=\"toc-text\">4.mkdir</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-rmdir\"><span class=\"toc-text\">5.rmdir</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-tree\"><span class=\"toc-text\">6.tree</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#7-mv\"><span class=\"toc-text\">7.mv</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8-cp\"><span class=\"toc-text\">8.cp</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#9-rm\"><span class=\"toc-text\">9.rm</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#10-touch\"><span class=\"toc-text\">10.touch</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#11-basename\"><span class=\"toc-text\">11.basename</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#12-dirname\"><span class=\"toc-text\">12.dirname</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#13-rename\"><span class=\"toc-text\">13.rename</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#14-file\"><span class=\"toc-text\">14.file</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#15-cat\"><span class=\"toc-text\">15.cat</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#16-more\"><span class=\"toc-text\">16.more</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#17-less\"><span class=\"toc-text\">17.less</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#18-grep\"><span class=\"toc-text\">18.grep</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#19-egrep\"><span class=\"toc-text\">19.egrep</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#20-wc\"><span class=\"toc-text\">20.wc</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#21-sort\"><span class=\"toc-text\">21.sort</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#22-uniq\"><span class=\"toc-text\">22.uniq</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#23-which\"><span class=\"toc-text\">23.which</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#24-ln\"><span class=\"toc-text\">24.ln</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#25-%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91%E5%92%8C-gt-gt-%E8%BF%BD%E5%8A%A0\"><span class=\"toc-text\">25.&gt; 输出重定向和&gt;&gt;追加</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#26\"><span class=\"toc-text\">26.|</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8D%81%E3%80%81-%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">十、 文件压缩解压命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-tar\"><span class=\"toc-text\">1.tar</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-gzip\"><span class=\"toc-text\">2.gzip</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-gunzip\"><span class=\"toc-text\">3.gunzip</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-bzip2\"><span class=\"toc-text\">4.bzip2</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-bunzip2\"><span class=\"toc-text\">5.bunzip2</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-bzip2recover\"><span class=\"toc-text\">6.bzip2recover</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#7-zip\"><span class=\"toc-text\">7.zip</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8-unzip\"><span class=\"toc-text\">8.unzip</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#9-zipinfo\"><span class=\"toc-text\">9.zipinfo</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%B8%80%E3%80%81%E4%BF%A1%E6%81%AF%E6%98%BE%E7%A4%BA%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">十一、信息显示命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-uname\"><span class=\"toc-text\">1.uname</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-hostname\"><span class=\"toc-text\">2.hostname</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-uptime\"><span class=\"toc-text\">3.uptime</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-stat\"><span class=\"toc-text\">4.stat</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%BA%8C%E3%80%81%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">十二、用户和组管理命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-su\"><span class=\"toc-text\">1.su</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-sudo\"><span class=\"toc-text\">2.sudo</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#sudo%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">sudo配置文件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#sudo%E5%91%BD%E4%BB%A4%E5%88%AB%E5%90%8D%E8%A7%84%E5%88%99\"><span class=\"toc-text\">sudo命令别名规则</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#sudo-%E8%AE%BE%E7%BD%AE%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E5%85%B7%E6%9C%89-root-%E6%9D%83%E9%99%90\"><span class=\"toc-text\">sudo 设置普通用户具有 root 权限</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-useradd\"><span class=\"toc-text\">3.useradd</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-userdel\"><span class=\"toc-text\">4.userdel</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-passwd\"><span class=\"toc-text\">5.passwd</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-usermod\"><span class=\"toc-text\">6.usermod</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#7-groupadd\"><span class=\"toc-text\">7.groupadd</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8-groupdel\"><span class=\"toc-text\">8.groupdel</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#9-groupmod\"><span class=\"toc-text\">9.groupmod</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#10-gpasswd\"><span class=\"toc-text\">10.gpasswd</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#11-newgrp\"><span class=\"toc-text\">11.newgrp</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#12-chage\"><span class=\"toc-text\">12.chage</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#13-groups\"><span class=\"toc-text\">13.groups</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#14-who\"><span class=\"toc-text\">14.who</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#15-w\"><span class=\"toc-text\">15.w</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#16-last\"><span class=\"toc-text\">16.last</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#17-lastlog\"><span class=\"toc-text\">17.lastlog</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#18-users\"><span class=\"toc-text\">18.users</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%B8%89%E3%80%81%E6%9D%83%E9%99%90%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">十三、权限命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-chmod\"><span class=\"toc-text\">1.chmod**</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-chown\"><span class=\"toc-text\">3.chown</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-chgrp\"><span class=\"toc-text\">4.chgrp</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-chattr\"><span class=\"toc-text\">5.chattr</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-lsattr\"><span class=\"toc-text\">6.lsattr</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#7-setfacl\"><span class=\"toc-text\">7.setfacl</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8-getfacl\"><span class=\"toc-text\">8.getfacl</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#9-umask\"><span class=\"toc-text\">9.umask</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8D%81%E5%9B%9B%E3%80%81%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E5%92%8C%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">十四、进程管理和服务管理命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-systemctl\"><span class=\"toc-text\">1.systemctl</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-init\"><span class=\"toc-text\">2.init</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-telinit\"><span class=\"toc-text\">3.telinit</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-ps\"><span class=\"toc-text\">4.ps</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-pstree\"><span class=\"toc-text\">5.pstree</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-top\"><span class=\"toc-text\">6.top</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#7-kill\"><span class=\"toc-text\">7.kill</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8-killall\"><span class=\"toc-text\">8.killall</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#9-nice\"><span class=\"toc-text\">9.nice</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#10-renice\"><span class=\"toc-text\">10.renice</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#11-jobs\"><span class=\"toc-text\">11.jobs</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#12-fg\"><span class=\"toc-text\">12.fg</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#13-bg\"><span class=\"toc-text\">13.bg</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#14-nohup\"><span class=\"toc-text\">14.nohup</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#15-crontab\"><span class=\"toc-text\">15.crontab</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%BA%94%E3%80%81%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86\"><span class=\"toc-text\">十五、网络管理</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-ping\"><span class=\"toc-text\">1.ping</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-ifconfig\"><span class=\"toc-text\">2.ifconfig</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-ifup\"><span class=\"toc-text\">3.ifup</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-ifdown\"><span class=\"toc-text\">4.ifdown</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-ifcfg\"><span class=\"toc-text\">5.ifcfg</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-dhclient\"><span class=\"toc-text\">6.dhclient</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#7-nc\"><span class=\"toc-text\">7.nc</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8-nslookup\"><span class=\"toc-text\">8.nslookup</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#9-host\"><span class=\"toc-text\">9.host</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#10-arp\"><span class=\"toc-text\">10.arp</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#11-netstat\"><span class=\"toc-text\">11.netstat</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#12-traceroute\"><span class=\"toc-text\">12.traceroute</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#13-tracepath\"><span class=\"toc-text\">13.tracepath</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#14-route\"><span class=\"toc-text\">14.route</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#15-ss\"><span class=\"toc-text\">15.ss</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#16-ssh\"><span class=\"toc-text\">16.ssh</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#17-sshd\"><span class=\"toc-text\">17.sshd</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#18-ssh-keygen\"><span class=\"toc-text\">18.ssh-keygen</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#19-ip\"><span class=\"toc-text\">19.ip</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#20-tcpdump\"><span class=\"toc-text\">20.tcpdump</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#21-scp\"><span class=\"toc-text\">21.scp</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#22-wget\"><span class=\"toc-text\">22.wget</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8D%81%E5%85%AD%E3%80%81%E5%86%85%E5%BB%BA%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">十六、内建命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-type\"><span class=\"toc-text\">1.type</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-env\"><span class=\"toc-text\">2.env</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-set\"><span class=\"toc-text\">3.set</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-unset\"><span class=\"toc-text\">4.unset</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-echo\"><span class=\"toc-text\">5.echo</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-alias\"><span class=\"toc-text\">6.alias</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#7-unalias\"><span class=\"toc-text\">7.unalias</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8-enable\"><span class=\"toc-text\">8.enable</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#9-read\"><span class=\"toc-text\">9.read</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#10-let\"><span class=\"toc-text\">10.let</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#11-fc\"><span class=\"toc-text\">11.fc</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#12-command\"><span class=\"toc-text\">12.command</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#13-exit\"><span class=\"toc-text\">13.exit</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#14-exec\"><span class=\"toc-text\">14.exec</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#15-logout\"><span class=\"toc-text\">15.logout</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#16-login\"><span class=\"toc-text\">16.login</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%B8%83%E3%80%81Shell%E7%BC%96%E7%A8%8B\"><span class=\"toc-text\">十七、Shell编程</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#17-1shell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%89%A7%E8%A1%8C\"><span class=\"toc-text\">17.1shell脚本的执行</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#17-2shell%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">17.2shell变量</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8F%98%E9%87%8F%E7%9A%84%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99\"><span class=\"toc-text\">变量的命名规则</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">用户自定义变量</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">环境变量</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">位置参数变量</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">预定义变量</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8F%AA%E8%AF%BB%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">只读变量</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8E%A5%E5%8F%97%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5\"><span class=\"toc-text\">接受键盘输入</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#17-3shell%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">17.3shell运算符</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">算数运算符</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">关系运算符</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">逻辑运算符</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">字符串运算符</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E6%B5%8B%E8%AF%95%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89\"><span class=\"toc-text\">文件测试运算符（重点）</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#17-4%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6\"><span class=\"toc-text\">17.4流程控制</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#if%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD\"><span class=\"toc-text\">if条件判断</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A4%9A%E5%88%86%E6%94%AFcase%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5\"><span class=\"toc-text\">多分支case条件语句</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#for%E5%BE%AA%E7%8E%AF\"><span class=\"toc-text\">for循环</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#while%E5%BE%AA%E7%8E%AF\"><span class=\"toc-text\">while循环</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#until%E5%BE%AA%E7%8E%AF\"><span class=\"toc-text\">until循环</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">函数</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%89%B9%E6%AE%8A%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5\"><span class=\"toc-text\">特殊流程控制语句</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#17-5%E5%AD%97%E7%AC%A6%E6%88%AA%E5%8F%96%E3%80%81%E6%9B%BF%E6%8D%A2%E5%92%8C%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">17.5字符截取、替换和处理命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F\"><span class=\"toc-text\">正则表达式</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AD%97%E7%AC%A6%E6%88%AA%E5%8F%96%E3%80%81%E6%9B%BF%E6%8D%A2%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">字符截取、替换命令</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#awk-%E7%BC%96%E7%A8%8B\"><span class=\"toc-text\">awk 编程</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#printf-%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA\"><span class=\"toc-text\">printf 格式化输出</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#awk-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">awk 基本使用</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#awk-%E7%9A%84%E6%9D%A1%E4%BB%B6\"><span class=\"toc-text\">awk 的条件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#awk-%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">awk 内置变量</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#awk-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6\"><span class=\"toc-text\">awk 流程控制</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#awk-%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">awk 函数</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#awk-%E4%B8%AD%E8%B0%83%E7%94%A8%E8%84%9A%E6%9C%AC\"><span class=\"toc-text\">awk 中调用脚本</span></a></li></ol></li></ol></li></ol></li></ol>","author":{"name":"Gueason","slug":"blog-author","avatar":"https://pic.quanjing.com/60/2a/QJ6771797507.jpg@!350h","link":"/","description":"小白，在成为“牛码”的路上","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"服务器基础知识（搬运）","uid":"c346e5cb761ad8572ad1cf2d93ff167b","slug":"服务器基础知识","date":"2024-07-01T00:00:00.000Z","updated":"2024-09-08T09:44:46.649Z","comments":true,"path":"api/articles/服务器基础知识.json","keywords":null,"cover":[],"text":"一、服务器概述1.1概念服务器是计算机的一种，是网络中为客户端计算机提供各种服务的高性能的计算机； 服务器在网络操作系统的控制下，将与其相连的硬盘、磁带、打印机...","permalink":"/post/服务器基础知识","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[{"name":"理论","slug":"理论","count":4,"path":"api/categories/理论.json"}],"tags":[],"author":{"name":"Gueason","slug":"blog-author","avatar":"https://pic.quanjing.com/60/2a/QJ6771797507.jpg@!350h","link":"/","description":"小白，在成为“牛码”的路上","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"计算机组成原理408（搬运）","uid":"85d3fedd41ce5b619a50d7691e9b44cb","slug":"计算机组成原理","date":"2024-05-31T16:00:00.000Z","updated":"2024-09-08T09:45:09.490Z","comments":true,"path":"api/articles/计算机组成原理.json","keywords":null,"cover":[],"text":"第一章 计算机系统概述1.1 本章大纲要求与核心考点1.1.1 大纲内容(一) 计算机系统层次结构 计算机系统的基本组成 计算机硬件的基本结构 计算机软件和硬件...","permalink":"/post/计算机组成原理","photos":[],"count_time":{"symbolsCount":"167k","symbolsTime":"2:32"},"categories":[{"name":"理论","slug":"理论","count":4,"path":"api/categories/理论.json"}],"tags":[],"author":{"name":"Gueason","slug":"blog-author","avatar":"https://pic.quanjing.com/60/2a/QJ6771797507.jpg@!350h","link":"/","description":"小白，在成为“牛码”的路上","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}